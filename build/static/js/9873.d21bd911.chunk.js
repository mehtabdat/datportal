"use strict";(self.webpackChunkdat_projects=self.webpackChunkdat_projects||[]).push([[9873],{70815:function(e,t,n){n.d(t,{r:function(){return m}});var o=n(1413),i=n(29439),a=n(45987),r=n(55291),d=n(86345),l=n(47313),u=n(40169),c=n(46417),s=["onChange","checked","recordId","allowChange"],m=function(e){var t=e.onChange,n=e.checked,m=e.recordId,v=e.allowChange,f=void 0===v||v,h=(0,a.Z)(e,s),g=(0,l.useState)({loading:!1,checked:!1}),p=(0,i.Z)(g,2),Z=p[0],y=p[1];return(0,l.useEffect)((function(){y((0,o.Z)((0,o.Z)({},Z),{},{checked:n}))}),[n]),(0,c.jsx)(d.Z,{checked:Z.checked,onChange:function(e){!0===f?(y((0,o.Z)((0,o.Z)({},Z),{},{loading:!0})),t(e,m,h).then((function(t){y((0,o.Z)((0,o.Z)({},Z),{},{checked:e,loading:!1})),r.ZP.success(t.data.message)})).catch((function(e){y((0,o.Z)((0,o.Z)({},Z),{},{loading:!1}));var t=(0,u.P)(e);"string"===typeof t.message?r.ZP.error(t.message):r.ZP.error("Something went wrong")}))):r.ZP.error("You don't have permission to change this record, please contact your admin.")},loading:Z.loading})}},39873:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var o=n(4942),i=n(1413),a=n(29439),r=n(47313),d=n(7532),l=n(93433),u=n(25019),c=n(55291),s=n(82626),m=n(17327),v=n(49355),f=n(3798),h=n(46646),g=n(40169),p=n(87591),Z=n(59816),y=n(37936),b=n(42623),x=n(46417),C={community:[{label:"State",name:"stateId",type:y.ED.State}],subCommunity:[{label:"State",name:"stateId",type:y.ED.State},{label:"Community",name:"communityId",type:y.ED.Community}],building:[{label:"State",name:"stateId",type:y.ED.State},{label:"Community",name:"communityId",type:y.ED.Community},{label:"Sub Community",name:"subCommunityId",type:y.ED["Sub Community"]}]},j=function(e){var t=e.openModal,n=e.onCancel,d=e.type,j=e.record,P=e.reloadTableData,k=e.permissions,S=k.createLocation,w=k.updateLocation,L=u.Z.useForm(),I=(0,a.Z)(L,1)[0],R=(0,r.useMemo)((function(){return new p.z}),[]),E=(0,r.useMemo)((function(){return new Z.Y}),[]),D=(0,r.useState)(),A=(0,a.Z)(D,2),z=A[0],N=A[1],T=(0,r.useState)([]),U=(0,a.Z)(T,2),F=U[0],M=U[1],Y=(0,r.useState)(""),V=(0,a.Z)(Y,2),B=V[0],q=V[1],O=(0,r.useState)({state:0,community:0,subCommunity:0}),H=(0,a.Z)(O,2),X=H[0],_=H[1],W=(0,r.useState)([]),K=(0,a.Z)(W,2),Q=K[0],$=K[1],G=(0,r.useState)([]),J=(0,a.Z)(G,2),ee=J[0],te=J[1],ne=(0,r.useState)([]),oe=(0,a.Z)(ne,2),ie=oe[0],ae=oe[1],re=(0,r.useState)({state:"",community:"",subCommunity:""}),de=(0,a.Z)(re,2),le=de[0],ue=de[1],ce=(0,b.N)(le.state,500),se=(0,b.N)(le.community,500),me=(0,b.N)(le.subCommunity,500),ve={state:Q,community:ee,subCommunity:ie},fe=function(e){var t=(0,g.P)(e);if("string"==typeof t.message)N((0,i.Z)((0,i.Z)({},z),{},{error:t.message}));else{var n=(0,h.O)(t.message,[]);I.setFields(n),N((0,i.Z)((0,i.Z)({},z),{},{error:""}))}},he=(0,r.useCallback)((function(e){var t=C[e];t&&(t.find((function(e){return e.type===y.ED.State}))&&0===(null===Q||void 0===Q?void 0:Q.length)&&R.getAllRecords({type:y.ED.State}).then((function(e){e.data&&e.data.data&&$(e.data.data)})))}),[Q,R]),ge=(0,r.useCallback)((function(e,t){t===y.ED.State&&X.state!==e&&I.resetFields(["communityId","subCommunityId"]),R.getAllRecordsByLocationId(e).then((function(e){if(e.data&&e.data.data){var t,n,o=null===(t=e.data.data)||void 0===t?void 0:t.locationTree,i=null===(n=e.data.data)||void 0===n?void 0:n.selected;if(i&&_({state:(null===i||void 0===i?void 0:i.state)||0,community:(null===i||void 0===i?void 0:i.community)||0,subCommunity:(null===i||void 0===i?void 0:i.subCommunity)||0}),o){var a=o.state,r=o.community,l=o.subCommunity;a&&$(a),r&&te(r),l&&ae(l)}"edit"===d&&I.setFieldsValue({stateId:null===i||void 0===i?void 0:i.state,communityId:null===i||void 0===i?void 0:i.community,subCommunityId:null===i||void 0===i?void 0:i.subCommunity})}})).catch((function(e){fe(e)}))}),[R,X.state,I]),pe=(0,r.useCallback)((function(e,t){switch(t){case y.ED.State:var n=null===Q||void 0===Q?void 0:Q.filter((function(t){var n,o,i=null===t||void 0===t||null===(n=t.localization[0])||void 0===n||null===(o=n.name)||void 0===o?void 0:o.toLowerCase(),a=null===e||void 0===e?void 0:e.toLowerCase();return null===i||void 0===i?void 0:i.includes(a)}));if((null===n||void 0===n?void 0:n.length)>0)return;ue((0,i.Z)((0,i.Z)({},le),{},{state:e}));break;case y.ED.Community:var o=null===ee||void 0===ee?void 0:ee.filter((function(t){var n,o,i=null===t||void 0===t||null===(n=t.localization[0])||void 0===n||null===(o=n.name)||void 0===o?void 0:o.toLowerCase(),a=null===e||void 0===e?void 0:e.toLowerCase();return null===i||void 0===i?void 0:i.includes(a)}));if((null===o||void 0===o?void 0:o.length)>0)return;ue((0,i.Z)((0,i.Z)({},le),{},{community:e}));break;case y.ED["Sub Community"]:var a=null===ie||void 0===ie?void 0:ie.filter((function(t){var n,o,i=null===t||void 0===t||null===(n=t.localization[0])||void 0===n||null===(o=n.name)||void 0===o?void 0:o.toLowerCase(),a=null===e||void 0===e?void 0:e.toLowerCase();return null===i||void 0===i?void 0:i.includes(a)}));if((null===a||void 0===a?void 0:a.length)>0)return;ue((0,i.Z)((0,i.Z)({},le),{},{subCommunity:e}))}}),[Q,ee,ie,ue,le]),Ze=(0,r.useCallback)((function(){ce&&R.getAllRecords({type:y.ED.State,name:ce}).then((function(e){e.data&&e.data.data&&$((function(t){var n,o=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data.filter((function(e){return!t.find((function(t){return t.id===e.id}))}));return[].concat((0,l.Z)(t),(0,l.Z)(o))}))})).catch((function(e){fe(e)})),se&&R.getAllRecords({type:y.ED.Community,name:se}).then((function(e){e.data&&e.data.data&&te((function(t){var n,o=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data.filter((function(e){return!t.find((function(t){return t.id===e.id}))}));return[].concat((0,l.Z)(t),(0,l.Z)(o))}))})).catch((function(e){fe(e)})),me&&R.getAllRecords({type:y.ED["Sub Community"],name:me}).then((function(e){e.data&&e.data.data&&ae((function(t){var n,o=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data.filter((function(e){return!t.find((function(t){return t.id===e.id}))}));return[].concat((0,l.Z)(t),(0,l.Z)(o))}))})).catch((function(e){fe(e)}))}),[ce,se,me,R]),ye=(0,r.useCallback)((function(){N({loading:!0}),R.getRecordById(j).then((function(e){if(e.data&&e.data.data){var t=e.data.data.type,n=e.data.data.id;I.setFieldsValue((0,i.Z)((0,i.Z)({},e.data.data),{},{translations:e.data.data.localization,isPublished:e.data.data.isPublished,locationType:t})),N((0,i.Z)((0,i.Z)({},e.data),{},{loading:!1})),q(t),he(t),ge(n,t)}})).catch((function(e){fe(e)}))}),[I,j,R]),be=(0,r.useCallback)((function(){E.getAllRecords().then((function(e){e.data&&e.data.data&&(M(e.data.data),I.setFieldsValue({countryId:e.data.data[0].id}))}))}),[E,I]);return(0,r.useEffect)((function(){Ze()}),[Ze]),(0,r.useEffect)((function(){"edit"===d?(ye(),be()):(be(),I.resetFields())}),[d,I,ye,be]),(0,x.jsx)(s.P0,{visible:t,closable:!0,onCancel:n,titleText:"edit"===d?"Edit Location":"Add New Location",showFooter:!1,children:null!==z&&void 0!==z&&z.loading?(0,x.jsx)(v.Z,{items:10}):(0,x.jsxs)(u.Z,{className:m.Z.form,onFinish:function(e){switch(N((0,i.Z)((0,i.Z)({},z),{},{buttonLoading:!0})),void 0===(null===e||void 0===e?void 0:e.isPublished)&&(e.isPublished=!0),void 0===(null===e||void 0===e?void 0:e.useReferenceField)&&(e.useReferenceField=!1),void 0===(null===e||void 0===e?void 0:e.usePathNameProvided)&&(e.usePathNameProvided=!1),d){case"edit":var t;if(!0===w)R.updateRecord(e,null===z||void 0===z||null===(t=z.data)||void 0===t?void 0:t.id).then((function(e){P(),n(),N((function(e){return(0,i.Z)((0,i.Z)({},e),{},{buttonLoading:!1})}))})).catch((function(e){fe(e),N((function(e){return(0,i.Z)((0,i.Z)({},e),{},{buttonLoading:!1})}))}));else N((function(e){return(0,i.Z)((0,i.Z)({},e),{},{buttonLoading:!1})})),c.ZP.error("You don't have permission to edit this record");break;case"new":!0===S?R.createRecord(e).then((function(e){P(),n(),N((function(e){return(0,i.Z)((0,i.Z)({},e),{},{buttonLoading:!1})}))})).catch((function(e){fe(e),N((function(e){return(0,i.Z)((0,i.Z)({},e),{},{buttonLoading:!1})}))})):(N((function(e){return(0,i.Z)((0,i.Z)({},e),{},{buttonLoading:!1})})),c.ZP.error("You don't have permission to create this record"))}},form:I,children:[(null===z||void 0===z?void 0:z.error)&&(0,x.jsx)(s.EQ,{description:null===z||void 0===z?void 0:z.error,isClosable:!0,onClose:function(){N((0,i.Z)((0,i.Z)({},z),{},{error:""}))}}),(0,x.jsx)("div",{children:(0,x.jsx)(u.Z.Item,{name:"countryId",rules:[{required:!0,message:"Please select a country"}],children:(0,x.jsx)(s.AP,{label:"Country",asterisk:!0,options:F.map((function(e){return{label:e.name,value:e.id}}))})})}),(0,x.jsx)("div",{children:(0,x.jsx)(u.Z.Item,{name:"locationType",rules:[{required:!0,message:"Please select a location type"}],children:(0,x.jsx)(s.AP,{label:"Location Type",options:Object.entries(y.ED).map((function(e){var t=(0,a.Z)(e,2);return{label:t[0],value:t[1]}})),onChange:function(e){q(e),he(e)}})})}),B&&C[B]&&(0,x.jsx)(x.Fragment,{children:C[B].map((function(e,t){return(0,x.jsx)(u.Z.Item,{name:e.name,rules:[{required:!0,message:"Please add a ".concat(e.label)}],children:(0,x.jsx)(s.AP,{label:e.label,asterisk:!0,placeholder:"Select ".concat(e.label," or search for it"),onChange:function(t){I.setFieldsValue((0,o.Z)({},e.name,t))},onSearch:function(t){return pe(t,e.type)},onSelect:function(t){return ge(t,e.type)},options:ve[e.type].map((function(e){return{label:e.localization[0].name,value:e.id}}))})},"fieldName-".concat(t))}))}),(0,x.jsx)(s.WH,{title:"Title & Description",formName:"translations",form:I,description:!0,isRichTextEditor:!1,forLocation:!0}),(0,x.jsxs)("div",{children:[(0,x.jsx)(u.Z.Item,{name:"latitude",rules:[{required:!0,message:"Please add a latitude"}],children:(0,x.jsx)(s.t7,{size:"w100",label:"Latitude",asterisk:!0,type:"text"})}),(0,x.jsx)(u.Z.Item,{name:"longitude",rules:[{required:!0,message:"Please add a longitude"}],children:(0,x.jsx)(s.t7,{size:"w100",label:"Longitude",asterisk:!0,type:"text"})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(u.Z.Item,{name:"referenceId",children:(0,x.jsx)(s.t7,{size:"w100",label:"Reference Id",type:"text"})}),(0,x.jsx)(u.Z.Item,{name:"abbreviation",children:(0,x.jsx)(s.t7,{size:"w100",label:"Abbreviation",type:"text"})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(u.Z.Item,{name:"isPublished",children:(0,x.jsx)(s.AP,{label:"Published",options:[{value:!0,label:"Yes"},{value:!1,label:"No"}],defaultValue:!0})}),(0,x.jsx)(u.Z.Item,{name:"useReferenceField",children:(0,x.jsx)(s.AP,{label:"Do you want to use reference field?",options:[{value:!0,label:"Yes"},{value:!1,label:"No"}],defaultValue:!1})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(u.Z.Item,{name:"usePathNameProvided",children:(0,x.jsx)(s.AP,{label:"Do you want to use path name provided?",options:[{value:!0,label:"Yes"},{value:!1,label:"No"}],defaultValue:!1})}),(0,x.jsx)(u.Z.Item,{name:"slug",rules:[{required:!0,message:"Please add a slug"}],children:(0,x.jsx)(s.t7,{size:"w100",label:"Slug",type:"text",asterisk:!0,onChange:function(e){var t=e.target,n=(0,f.V3)(t.value);I.setFieldsValue({slug:n})}})})]}),(0,x.jsxs)("div",{className:m.Z.footer,children:[(0,x.jsx)(s.op,{size:"normal",fontSize:"sm",onClick:n,type:"plain",children:"Cancel"}),(0,x.jsx)(s.op,{type:"primary",size:"normal",fontSize:"sm",htmlType:"submit",loading:null===z||void 0===z?void 0:z.buttonLoading,children:"Submit"})]})]})})},P=n(2135),k=n(5900),S=n(41586),w=n(98676),L=n(3109),I=n(70815),R=n(98505),E=n(85554),D=function(e){var t=e.record,n=e.onEditIconClick,o=e.reloadTableData,d=e.permissions.deleteLocation,l=(0,r.useState)({confirmLoading:!1,openPopConfirm:!1}),u=(0,a.Z)(l,2),s=u[0],v=u[1],f=(0,r.useMemo)((function(){return new p.z}),[]);return(0,x.jsxs)("div",{className:m.Z.actions,children:[(0,x.jsx)("span",{onClick:function(){return n(t)},children:(0,x.jsx)("img",{src:"/images/editicon.svg",alt:""})}),(0,x.jsx)(k.Z,{open:s.openPopConfirm,placement:"top",title:"Are you sure?",onConfirm:function(){if(v((0,i.Z)((0,i.Z)({},s),{},{confirmLoading:!0})),!1===d)return c.ZP.error("You don't have permission to delete this record, please contact your admin."),void v((0,i.Z)((0,i.Z)({},s),{},{openPopConfirm:!1}));f.deleteRecord(t.id).then((function(e){v((0,i.Z)((0,i.Z)({},s),{},{openPopConfirm:!1,confirmLoading:!1})),o()})).catch((function(e){v((0,i.Z)((0,i.Z)({},s),{},{confirmLoading:!1}))}))},onCancel:function(){return v((0,i.Z)((0,i.Z)({},s),{},{openPopConfirm:!1}))},okButtonProps:{loading:s.confirmLoading},okText:"Yes",cancelText:"No",onOpenChange:function(e){e||v((0,i.Z)((0,i.Z)({},s),{},{openPopConfirm:!1}))},children:(0,x.jsx)(w.Z,{className:m.Z.bg__red,onClick:function(){v((0,i.Z)((0,i.Z)({},s),{},{openPopConfirm:!0}))}})})]})};function A(e){var t=e.tableData,n=e.tableLoading,o=e.onEditIconClick,i=e.reloadTableData,a=(0,E.v9)((function(e){return e.usersReducer})).userPermissions,r=new p.z,d=function(e,t){return r.updateRecord({isPublished:e},t)},l=[{title:"S.No",dataIndex:"index",key:"index",render:function(e,t,n){return n+1},width:"5%"},{title:"Country",dataIndex:"country",key:"country",render:function(e,t){var n;return(0,x.jsx)(L.Z,{color:"dark-main",size:"sm",weight:"bold",children:null===(n=t.country)||void 0===n?void 0:n.name})}},{title:"City",dataIndex:"city",key:"city",render:function(e,t){return(0,x.jsx)(x.Fragment,{children:t.localization.map((function(e,t){return(0,x.jsxs)("div",{children:[(0,x.jsx)(L.Z,{color:"dark-main",size:"sm",weight:"bold",children:e.name}),(0,x.jsx)("p",{className:"color-light-800 font-size-sm",children:e.language})]},t)}))})}},{title:"Slug",dataIndex:"slug",key:"slug",render:function(e,t){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(L.Z,{color:"dark-main",size:"sm",weight:"bold",children:t.slug}),(0,x.jsxs)("p",{className:"color-light-800 font-size-sm",children:[t.slug,t.url?(0,x.jsx)(P.rU,{to:"".concat(t.url),className:"ml-2",children:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"15px",width:"15px",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})})}):""]})]})}},{title:"Coordinates",dataIndex:"coordinates",key:"coordinates",render:function(e,t){return(0,x.jsx)("div",{children:t.latitude&&t.longitude&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("p",{className:"color-dark-sub font-size-sm mb-0",children:["Latitude: ",t.latitude]}),(0,x.jsxs)("p",{className:"color-dark-sub font-size-sm",children:["Longitude: ",t.longitude]})]})})}},{title:"Published",dataIndex:"isPublished",key:"isPublished",render:function(e,t){return(0,x.jsx)(I.r,{checked:e,onChange:d,recordId:t.id,allowChange:a.updateLocation})}},{title:"Date Added",dataIndex:"addedDate",key:"addedDate",render:function(e){return(0,x.jsx)(L.Z,{color:"dark-main",size:"sm",weight:"bold",children:(0,R.Ny)(e,"dd M,yy")})}},{title:"Reviews Count / Reviews Score",dataIndex:"reviewsCount",key:"reviewsCount",render:function(e,t){return(0,x.jsxs)("div",{children:[(0,x.jsxs)("p",{className:"color-dark-sub font-size-sm mb-0",children:["Reviews Count: ",e]}),(0,x.jsxs)("p",{className:"color-dark-sub font-size-sm",children:["Reviews Score: ",t.reviewScore]})]})}},{title:"Actions",dataIndex:"actions",key:"actions",render:function(e,t){return(0,x.jsx)(D,{record:t,onEditIconClick:o,reloadTableData:i,permissions:a})}}];return(0,x.jsx)("div",{className:m.Z.antdTableWrapper,children:(0,x.jsx)(S.Z,{sticky:!0,dataSource:t,columns:l,pagination:!1,scroll:{x:991},loading:n,rowKey:function(e){return"site-location-".concat(e.id)}})})}var z=function(e){return e.CREATE="createLocation",e.UPDATE="updateLocation",e.DELETE="deleteLocation",e.READ="readLocation",e}({}),N=n(18515),T=[{text:"Home",isLink:!0,path:"/"},{isLink:!0,text:"Site Settings",path:"/siteSettings"},{isLink:!1,text:"Location"}];var U=function(){var e,t,n,l,u=(0,f.aY)(z),m=(0,E.v9)((function(e){return e.usersReducer})).userPermissions,v=m.readLocation,h=m.createLocation,g=m.updateLocation,C=(0,r.useState)({editType:"new",recordId:0,openModal:!1}),P=(0,a.Z)(C,2),k=P[0],S=P[1],w=(0,r.useMemo)((function(){return new p.z}),[]),L=(0,r.useMemo)((function(){return new Z.Y}),[]),I=(0,r.useState)(""),R=(0,a.Z)(I,2),D=R[0],U=R[1],F=(0,b.N)(D,500),M=(0,r.useState)({type:"",slug:"",country:0,locationUrl:""}),Y=(0,a.Z)(M,2),V=Y[0],B=Y[1],q=(0,r.useState)([]),O=(0,a.Z)(q,2),H=O[0],X=O[1],_=(0,r.useState)(!1),W=(0,a.Z)(_,2),K=W[0],Q=W[1],$=function(e){var t=null===e||void 0===e?void 0:e.target,n=t.name,a=t.value;B((0,i.Z)((0,i.Z)({},V),{},(0,o.Z)({},n,a)))},G=(0,r.useCallback)((function(){var e={type:V.type||void 0,slug:V.slug||void 0,locationUrl:V.locationUrl?[V.locationUrl]:void 0,country:V.country>0?V.country:void 0};w.getAllRecords(e).then((function(e){var t;ne((0,i.Z)((0,i.Z)({},te),{},{loading:!1,data:null===(t=e.data)||void 0===t?void 0:t.data}))}))}),[V,w]),J=(0,r.useState)({isLoading:!1,error:{},data:[]}),ee=(0,a.Z)(J,2),te=ee[0],ne=ee[1],oe=function(){!1!==h?S((0,i.Z)((0,i.Z)({},k),{},{openModal:!k.openModal,editType:"new"})):c.ZP.error("You don't have permission to create new record")},ie=(0,r.useCallback)((function(e){ne((0,i.Z)((0,i.Z)({},te),{},{loading:!0})),w.getAllRecords(e).then((function(e){ne(e.data)})).catch((function(e){var t,n;c.ZP.error(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}),[te,w]),ae=(0,r.useCallback)((function(){L.getAllRecords().then((function(e){e.data&&e.data.data&&X(e.data.data)}))}),[L]);(0,r.useEffect)((function(){ae()}),[]),(0,r.useEffect)((function(){F?ie({name:F}):ie()}),[F]);var re=(0,r.useCallback)((function(e,t){ne((0,i.Z)((0,i.Z)({},te),{},{loading:!0}));var n={page:e,perPage:t,type:V.type||void 0,slug:V.slug||void 0,locationUrl:V.locationUrl?[V.locationUrl]:void 0,country:V.country>0?V.country:void 0,name:F||void 0};w.getAllRecords(n).then((function(e){ne((0,i.Z)((0,i.Z)({},e.data),{},{loading:!1}))})).catch((function(e){ne((0,i.Z)((0,i.Z)({},te),{},{loading:!1}))}))}),[te,w]);return(0,r.useEffect)((function(){K&&G();var e=setTimeout((function(){Q(!1)}),2e3);return function(){return clearTimeout(e)}}),[K,V,G]),(0,x.jsxs)(d.default,{permissionSlug:u,children:[(0,x.jsx)(s.mr,{heading:"Location",buttonText:"Add New Location",onButtonClick:oe,breadCrumbData:T,showAdd:!0===h,filters:!0===v?(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsx)(s.t7,{placeHolder:"Search...",icon:(0,x.jsx)("img",{src:"/images/searchIcon.svg",alt:"Search Icon"}),size:"w100",value:D,onChange:function(e){var t=e.currentTarget.value;U(t)}})}),(0,x.jsx)("div",{children:(0,x.jsx)(s.Xy,{type:"input",label:"Slug",name:"slug",value:String(null===V||void 0===V?void 0:V.slug),onChange:$,onReset:function(){Q(!0),B((0,i.Z)((0,i.Z)({},V),{},{slug:""}))},onUpdate:G})}),(0,x.jsx)("div",{children:(0,x.jsx)(s.Xy,{type:"radio",label:"Location Type",name:"type",options:Object.entries(y.ED).map((function(e){var t=(0,a.Z)(e,2),n=t[0],o=t[1];return{label:(0,f.kC)(n),value:o}})),value:String(null===V||void 0===V?void 0:V.type),onChange:$,onReset:function(){Q(!0),B((0,i.Z)((0,i.Z)({},V),{},{type:""}))},onUpdate:G})}),(0,x.jsx)("div",{children:(0,x.jsx)(s.Xy,{type:"radio",label:"Country",name:"country",options:H.map((function(e){return{label:e.name,value:String(e.id)}})),value:String(null===V||void 0===V?void 0:V.country),onChange:$,onReset:function(){Q(!0),B((0,i.Z)((0,i.Z)({},V),{},{country:0}))},onUpdate:G})}),(0,x.jsx)("div",{children:(0,x.jsx)(s.Xy,{type:"input",label:"Location Url",name:"locationUrl",value:String(null===V||void 0===V?void 0:V.locationUrl),onChange:$,onReset:function(){Q(!0),B((0,i.Z)((0,i.Z)({},V),{},{locationUrl:""}))},onUpdate:G})})]}):null}),!0===v&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(A,{tableData:null===te||void 0===te?void 0:te.data,tableLoading:te.loading,onEditIconClick:function(e){!1!==g?S((0,i.Z)((0,i.Z)({},k),{},{editType:"edit",recordId:e.id,openModal:!0})):c.ZP.error("You don't have permission to update record")},reloadTableData:ie}),(0,x.jsx)(s.tl,{total:null===te||void 0===te||null===(e=te.meta)||void 0===e?void 0:e.total,current:null===te||void 0===te||null===(t=te.meta)||void 0===t?void 0:t.page,defaultPageSize:null!==te&&void 0!==te&&null!==(n=te.meta)&&void 0!==n&&n.perPage?null===te||void 0===te||null===(l=te.meta)||void 0===l?void 0:l.perPage:10,pageSizeOptions:[10,20,50,100],onChange:re})]}),!1===v&&(0,x.jsx)(N.a$,{mainMessage:"You don't have permission to view this data"}),k.openModal&&(0,x.jsx)(j,{record:k.recordId,type:k.editType,reloadTableData:function(){var e,t;return ie({page:null===te||void 0===te||null===(e=te.meta)||void 0===e?void 0:e.page,perPage:null===te||void 0===te||null===(t=te.meta)||void 0===t?void 0:t.perPage,type:V.type||void 0,slug:V.slug||void 0,locationUrl:V.locationUrl?[V.locationUrl]:void 0,country:V.country>0?V.country:void 0})},onCancel:oe,openModal:k.openModal,permissions:m})]})}},59816:function(e,t,n){n.d(t,{Y:function(){return d}});var o=n(43144),i=n(15671),a=n(49075),r=n(3135),d=(0,o.Z)((function e(){var t=this;(0,i.Z)(this,e),this.endPoint="country",this.allEndpoint="country/all",this.getAllRecords=function(){return a.Z.get(t.allEndpoint)},this.getAvailableRecords=function(){return a.Z.get("".concat(t.endPoint,"/available-country"))},this.getRecordById=function(e){return a.Z.get("".concat(t.endPoint,"/").concat(e))},this.deleteRecord=function(e){return a.Z.delete("".concat(t.endPoint,"/").concat(e))},this.createRecord=function(e){return a.Z.post(t.endPoint+"/",e,{headers:r.C})},this.updateRecord=function(e,n){return a.Z.patch("".concat(t.endPoint,"/").concat(n),e,{headers:r.C})}}))},87591:function(e,t,n){n.d(t,{z:function(){return r}});var o=n(43144),i=n(15671),a=n(49075),r=(0,o.Z)((function e(){var t=this;(0,i.Z)(this,e),this.endPoint="location",this.getAllRecords=function(e){return a.Z.get(t.endPoint,{params:e})},this.getRecordById=function(e){return a.Z.get("".concat(t.endPoint,"/").concat(e))},this.getAllRecordsByLocation=function(){return a.Z.get("".concat(t.endPoint,"/find-location-in-a-country"))},this.getAllRecordsByLocationId=function(e){return a.Z.get("".concat(t.endPoint,"/searchLocation/").concat(e))},this.deleteRecord=function(e){return a.Z.delete("".concat(t.endPoint,"/").concat(e))},this.createRecord=function(e){return a.Z.post(t.endPoint+"/",e)},this.updateRecord=function(e,n){return a.Z.patch("".concat(t.endPoint,"/").concat(n),e)}}))}}]);