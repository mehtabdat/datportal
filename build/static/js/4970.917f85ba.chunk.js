"use strict";(self.webpackChunkdat_projects=self.webpackChunkdat_projects||[]).push([[4970],{52460:function(e,t,n){n.d(t,{Z:function(){return _}});var o=n(74165),i=n(1413),a=n(4942),l=n(15861),r=n(29439),s=n(47313),d=n(55291),u=n(97258),c=n(47312),m=n(21680),v=n(37388),h=n(5900),p=n(49075),f=n(63243),g=n(80235),x=n(42819),Z=n(29079),y=n(48897),j=n(36153),w=n(37945),b=n(40096),k={manage_media_photo:"styles_manage_media_photo__Tn6qE",manage_media_photo_image:"styles_manage_media_photo_image__ohJDs",manage_media_photo_content:"styles_manage_media_photo_content__aG2ps",media_photo_actions:"styles_media_photo_actions__mOuCn"},S=n(3798),P=n(46417),_=function(e){var t,n,_=e.open,I=e.onClose,N=e.record,T=(e.permissions,e.onRefresh),C=b.Z.getLocalAccessToken(),D=d.ZP.useMessage(),q=(0,r.Z)(D,2),R=q[0],M=q[1],A=(0,s.useMemo)((function(){return new x.S}),[]),F=(0,s.useState)({image:!1,document:!1,src:""}),z=(0,r.Z)(F,2),Q=z[0],E=z[1],V=(0,Z.K2)({method:function(){return A.getRecordById(null===N||void 0===N?void 0:N.id)},condition:!!_&&!(null===N||void 0===N||!N.id)}),B=V.data,L=V.loading,W=V.onRefresh,O=(0,s.useState)([]),H=(0,r.Z)(O,2),Y=H[0],K=H[1],X=(0,s.useState)({status:"normal",progress:{}}),G=(0,r.Z)(X,2),U=(G[0],G[1]),$=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){var n,l,r,s,d,u,c,m;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.onSuccess,l=t.onError,r=t.file,s=t.filename,d=new FormData,u={headers:{"content-type":"multipart/form-data"}},d.append("files[]",r),d.append("leadId",null===N||void 0===N?void 0:N.id.toString()),U({status:"active",progress:(0,a.Z)({},s,0)}),c=function(e){var t=e.loaded,n=e.total,o=0;null!==n&&void 0!==n&&(o=Math.floor(100*t/n)),U({status:"active",progress:(0,a.Z)({},s,o)})},e.prev=7,e.next=10,p.Z.post("leads/uploadLeadsDocuments",d,(0,i.Z)({onUploadProgress:c},u));case 10:n&&n({status:200}),U({status:"success",progress:(0,a.Z)({},s,100)}),K([]),W(),setTimeout((function(){U({status:"normal",progress:{}})}),3e3),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(7),"You do not have permission to upload files"===(m=(0,S.S3)(e.t0))?R.open({key:"permission",type:"error",duration:5,content:m}):R.open({key:"error",type:"error",content:m}),U({status:"exception",progress:(0,a.Z)({},s,0)}),l&&l(new Error("Upload failed"));case 23:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[M,(0,P.jsxs)(u.Z,{title:"Attachments",placement:"right",onClose:I,open:_,width:window.innerWidth>768?700:"100%",bodyStyle:{padding:"0px 25px"},destroyOnClose:!0,style:{zIndex:99999},children:[!L&&0===(null===B||void 0===B||null===(t=B.Attachments)||void 0===t?void 0:t.length)&&(0,P.jsx)(g.Z,{description:"No attachments found",className:"d-flex flex-column"}),L&&(0,P.jsx)(c.Z,{active:!0}),null===B||void 0===B||null===(n=B.Attachments)||void 0===n?void 0:n.map((function(e,t){var n;return(0,P.jsx)("div",{className:k.manage_media_photo,children:(0,P.jsxs)("div",{className:k.manage_media_photo_image,children:[null!==(n=e.mimeType)&&void 0!==n&&n.includes("image")?(0,P.jsx)(m.Z,{src:"".concat(y.Q7).concat(e.file,"?authKey=").concat(C),alt:e.title,width:100,height:70,style:{borderRadius:5,objectFit:"cover"},preview:{visible:Q.image,src:Q.src,onVisibleChange:function(t){return E((0,i.Z)((0,i.Z)({},Q),{},{image:t,src:"".concat(y.Q7).concat(e.file,"?authKey=").concat(C)}))}}}):(0,P.jsx)(m.Z,{src:"/images/doc.png",alt:"Document-".concat(t),width:100,height:70,preview:!1,style:{objectFit:"contain",cursor:"pointer"},onClick:function(){return window.open("".concat(y.PO).concat(e.file),"_blank")}}),(0,P.jsx)("div",{className:k.manage_media_photo_content,children:(0,P.jsx)("span",{style:{cursor:"pointer"},className:k.manage_media_photo_name_label,onClick:function(){var t;null!==(t=e.mimeType)&&void 0!==t&&t.includes("image")?E((0,i.Z)((0,i.Z)({},Q),{},{image:!0,src:"".concat(y.Q7).concat(e.file,"?authKey=").concat(C)})):window.open("".concat(y.PO).concat(e.file),"_blank")},children:e.title})}),(0,P.jsxs)("div",{className:k.media_photo_actions,children:[(0,P.jsx)(v.Z,{title:"Download",children:(0,P.jsx)("a",{href:"".concat(y.Q7).concat(e.file,"?authKey=").concat(C,"&download=true"),target:"_blank",style:{color:"var(--color-dark-sub)"},download:e.title,rel:"noreferrer",children:(0,P.jsx)(f.Z,{style:{fontSize:22,cursor:"pointer",marginTop:5}})})}),(0,P.jsx)(h.Z,{title:"Are you sure to delete this file?",onConfirm:function(){return t=e.id,void A.removeFile(t).then((function(e){var t;W(),T(),d.ZP.success((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"File removed successfully")}));var t},okText:"Yes",cancelText:"No",placement:"left",zIndex:99999,children:(0,P.jsx)(j.p,{cursor:"pointer",width:20})})]})]})},"".concat(e.title,"-").concat(t))})),(0,P.jsx)("div",{className:"mt-5",children:(0,P.jsx)(w.Z,{title:"Attachments",name:"attachments",multiple:!0,fileList:Y,customRequest:$,beforeUpload:function(e,t){return t.length>0&&(K(t),!0)},onRemove:function(e){var t=null===Y||void 0===Y?void 0:Y.indexOf(e),n=null===Y||void 0===Y?void 0:Y.slice();null===n||void 0===n||n.splice(t,1),K(n)}})})]})]})}},4970:function(e,t,n){n.d(t,{Z:function(){return ue}});var o=n(45987),i=n(1413),a=n(29439),l=n(47313),r=n(31513),s=n(86136),d=n(35432),u=n(25019),c=n(55291),m=n(45705),v=n(59491),h=n(5900),p=n(97258),f=n(68197),g=n(59624),x=n(69309),Z=n(28080),y=n(14254),j=n(32697),w=n(39180),b=n(37388),k=n(93709),S=n(72652),P=n(30796),_=n(40293),I=n(95366),N=n(82626),T=n(37936),C=n(3798),D=n(42954),q=n(5190),R=n(29079),M=n(6050),A=n(87971),F=n(42623),z=n(69591),Q=n(19552),E=n(76017),V={accordianItem:"styles_accordianItem__-Q21k",total:"styles_total__w6Bvj",total_item:"styles_total_item__HyKEd",date_picker:"styles_date_picker__xKCxb",z_index:"styles_z_index__2vEji",date_footer:"styles_date_footer__NF1fu",gen_border:"styles_gen_border__S9pF9"},B=n(48897),L=n(40096),W=n(93433),O=n(74165),H=n(15861),Y=n(75010),K=n(70584),X=n(39792),G=n(76997),U=n(70816),$=n.n(U),J=[7,14,30,60,90],ee=[{title:"Products",key:"title",span:3,style:{}},{title:"Title",key:"title",span:6,style:{}},{title:"Quantity",key:"quantity",span:2,style:{}},{title:"Unit Amount",key:"unitAmount",span:3,style:{}},{title:"Account",key:"account",span:4,style:{}},{title:"Tax Rate",key:"tax",span:2,style:{}},{title:"Unit Total",key:"unitTotal",span:3,style:{textAlign:"center"}},{title:"Actions",key:"actions",span:1,style:{}}],te=Array(3).fill({title:"",amount:0,requirePayment:!1,quantity:1}),ne=n(18223),oe=n(52460),ie=n(46417),ae=["supervisionPaymentSchedule","type"],le=["key","name"],re=r.Z.Option,se=s.Z.TextArea,de=d.Z.Panel,ue=function(e){var t,n,U,ue,ce,me,ve,he,pe,fe,ge=e.drawer,xe=e.setDrawer,Ze=e.permissions,ye=e.onRefresh,je=e.setNewProject,we=ge.type,be=ge.quoteId,ke=ge.submissionById,Se=ge.leadId,Pe=L.Z.getLocalAccessToken(),_e=(0,l.useMemo)((function(){return new D.K}),[]),Ie=(0,l.useMemo)((function(){return new q.L}),[]),Ne=(0,l.useMemo)((function(){return new z.Q}),[]),Te=(0,l.useMemo)((function(){return new Q.l}),[]),Ce=(0,l.useMemo)((function(){return new X.p}),[]),De=(0,l.useMemo)((function(){return new G.s}),[]),qe=(0,l.useMemo)((function(){return new ne.Y}),[]),Re=(0,l.useMemo)((function(){return new Y.L}),[]),Me=u.Z.useForm(),Ae=(0,a.Z)(Me,1)[0],Fe=(0,R.$5)({method:Ie.findPublished}).data,ze=(0,l.useState)(),Qe=(0,a.Z)(ze,2),Ee=Qe[0],Ve=Qe[1],Be=(0,l.useState)(!1),Le=(0,a.Z)(Be,2),We=Le[0],Oe=Le[1],He=(0,l.useState)({data:void 0,init:!1,loading:!1,quoteNumber:"",xeroTenantId:""}),Ye=(0,a.Z)(He,2),Ke=Ye[0],Xe=Ye[1],Ge=(0,l.useState)(""),Ue=(0,a.Z)(Ge,2),$e=Ue[0],Je=Ue[1],et=(0,l.useState)(T.PH.Auto),tt=(0,a.Z)(et,2),nt=tt[0],ot=tt[1],it=(0,l.useState)(!1),at=(0,a.Z)(it,2),lt=at[0],rt=at[1],st=(0,l.useState)({data:[],loading:!1}),dt=(0,a.Z)(st,2),ut=dt[0],ct=dt[1],mt=(0,l.useState)({subtotal:0,total:0,supervisionMonthlyCharge:0}),vt=(0,a.Z)(mt,2),ht=vt[0],pt=vt[1],ft=(0,l.useState)("End of the Month"),gt=(0,a.Z)(ft,2),xt=gt[0],Zt=gt[1],yt=(0,l.useState)(""),jt=(0,a.Z)(yt,2),wt=jt[0],bt=jt[1],kt=(0,F.N)(wt,500),St=(0,l.useState)({issueDate:!1,expiryDate:!1}),Pt=(0,a.Z)(St,2),_t=Pt[0],It=Pt[1],Nt=(0,l.useState)(),Tt=(0,a.Z)(Nt,2),Ct=Tt[0],Dt=Tt[1];(0,l.useEffect)((function(){Ke.init&&Ie.getTenants().then((function(e){var t;e.data&&null!==(t=e.data)&&void 0!==t&&t.data&&Dt(e.data.data)})).catch((function(e){console.error("Error while fetching tenants",null===e||void 0===e?void 0:e.message)}))}),[Ke.init]);var qt=function(){var e={open:!1,quoteId:void 0,leadId:void 0,submissionById:void 0};xe((function(t){return(0,i.Z)((0,i.Z)({},t),e)})),Ve(void 0),Oe(!1),Ae.resetFields()},Rt=function(){rt(!1),qt()},Mt=function(e){var t=e.type,n=e.previewData,o=e.module,i=e.form,r=e.drawer,s=(0,l.useState)(""),d=(0,a.Z)(s,2),u=d[0],m=d[1];return(0,l.useMemo)((function(){"create"!==t&&"revise"!==t||(0,o.prepareUniqueQuoteNumber)({revisionId:"revise"===t?null===n||void 0===n?void 0:n.id:void 0,leadId:null!==r&&void 0!==r&&r.leadId?r.leadId:void 0}).then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data,o=null===n||void 0===n?void 0:n.quoteNumber;m(o),i.setFieldValue("quoteNumber",o)})).catch((function(e){var t=(0,C.S3)(e);c.ZP.error(t||"Something went wrong")}))}),[t,n]),u}({type:we,module:_e,form:Ae,previewData:Ee,drawer:ge});!function(e){var t=e.type,n=e.previewData,o=e.module,i=e.form,a=e.quoteNumber;(0,l.useEffect)((function(){"create"!==t&&"revise"!==t&&"edit"!==t||!a||(0,o.checkForDuplicacy)({quoteNumber:a,excludeId:"edit"===t?null===n||void 0===n?void 0:n.id:void 0}).then((function(e){var t,n=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data).isDuplicate;n&&i.setFields([{name:"quoteNumber",warnings:n?["Quote Number already exists"]:[]}])})).catch((function(e){var t=(0,C.S3)(e);c.ZP.error(t||"Something went wrong")}))}),[t,n,a])}({type:we,module:_e,form:Ae,quoteNumber:$e,previewData:Ee,drawer:ge});var At=function(e){var t=e.xeroModule,n=e.setPreviewData,o=e.setDrawer,a=e.setPullFromXero,l=e.pullFromXero;return function(){a((function(e){return(0,i.Z)((0,i.Z)({},e),{},{loading:!0})})),(0,t.getQuotes)({quoteNumber:l.quoteNumber,tenantId:l.xeroTenantId}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;n(a),o((function(e){return(0,i.Z)((0,i.Z)({},e),{},{type:"preview",quoteId:null===a||void 0===a?void 0:a.id})}))})).catch((function(e){var t=(0,C.S3)(e);c.ZP.error(t||"Something went wrong")})).finally((function(){a((function(e){return(0,i.Z)((0,i.Z)({},e),{},{loading:!1})}))}))}}({xeroModule:Te,setPreviewData:Ve,setDrawer:xe,setPullFromXero:Xe,pullFromXero:Ke}),Ft=function(e){var t=e.projectModule,n=e.setProjects,o=e.debouncedProjectSearchTerm,a=t.getRecordsInList,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,o=e.ids;a({title:t,ids:o}).then((function(e){var t=(null===e||void 0===e?void 0:e.data).data;n((function(e){var n=null===t||void 0===t?void 0:t.filter((function(t){var n;return!(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.find((function(e){return e.id===t.id})))}));return{data:[].concat((0,W.Z)(e.data),(0,W.Z)(n)),loading:!1}}))})).catch((function(e){var t=(0,C.S3)(e);c.ZP.error(t||"Something went wrong, please try again later.")}))};return{onProjectSearch:function(){o&&(n((function(e){return(0,i.Z)((0,i.Z)({},e),{},{loading:!0})})),l({title:o}))},fetchProjects:l}}({projectModule:Ne,setProjects:ct,debouncedProjectSearchTerm:kt}),zt=Ft.onProjectSearch,Qt=Ft.fetchProjects,Et=function(e){var t=e.permissions,n=e.module,o=e.onRefresh,i=e.successCallback;return function(e){!0===(null===t||void 0===t?void 0:t.updateQuotation)?n.markAsSent(e).then((function(e){var t;c.ZP.success((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Quotation marked as sent successfully"),o(),i()})).catch((function(e){var t=(0,C.S3)(e);c.ZP.error(t||"Something went wrong")})):c.ZP.error("You don't have permission to mark quotation as sent")}}({module:_e,permissions:Ze,onRefresh:ye,successCallback:Rt}),Vt=function(e){var t=e.permissions,n=e.module,o=e.onRefresh,i=e.successCallback,a=e.setIsLoading,l=e.previewData;return function(){if(null===l||void 0===l||!l.id)return c.ZP.error("Quotation not found");!0===(null===t||void 0===t?void 0:t.submitQuotation)?(0,n.submitQuotation)(null===l||void 0===l?void 0:l.id).then((function(){c.ZP.success("Quotation submitted successfully"),o(),i()})).catch((function(e){var t=(0,C.S3)(e);c.ZP.error(t||"Something went wrong")})).finally((function(){a(!1)})):c.ZP.error("You don't have permission to submit quotation")}}({module:_e,permissions:Ze,onRefresh:ye,successCallback:Rt,setIsLoading:Oe,previewData:Ee}),Bt=function(e){var t=e.modules,n=(e.type,e.leadId),o=t.brandingThemeModule,i=t.productModule,r=t.accountModule,s=t.taxRateModule,d=(0,l.useState)({brandingThemeData:null,productData:null,accountData:null,taxRateData:null}),u=(0,a.Z)(d,2),c=u[0],m=u[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,H.Z)((0,O.Z)().mark((function e(){var t,l,d,u,c,v,h,p,f,g;return(0,O.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.allSettled([s.getAllRecords({leadId:n||void 0}),o.getAllRecords(),i.getAllRecords(),r.getAllRecords({leadId:n||void 0})]);case 3:t=e.sent,l=(0,a.Z)(t,4),d=l[0],u=l[1],c=l[2],v=l[3],h="fulfilled"===d.status?d.value.data.data:null,p="fulfilled"===u.status?u.value.data.data:null,f="fulfilled"===c.status?c.value.data.data:null,g="fulfilled"===v.status?v.value.data.data:null,m({brandingThemeData:p,productData:f,accountData:g,taxRateData:h}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0,"Error in fetching options for quotation drawer");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[o,i,r,s]),c}({type:we,modules:{brandingThemeModule:Ce,productModule:De,accountModule:qe,taxRateModule:Re},leadId:ge.leadId}),Lt=Bt.brandingThemeData,Wt=Bt.productData,Ot=Bt.accountData,Ht=Bt.taxRateData,Yt=function(e){var t=e.form,n=e.setTotal,o=e.taxRateData,i=function(){var e=(0,H.Z)((0,O.Z)().mark((function e(){var i,a,l,r,s,d,u;return(0,O.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getFieldValue("supervisionMonthlyCharge")||0,a=t.getFieldValue("milestone"),o){e.next=8;break}return l=new Y.L,e.next=6,l.getAllRecords();case 6:r=e.sent,o=r.data.data;case 8:s=new Map,d=0,u=0,a.forEach((function(e){var t=Number(null===e||void 0===e?void 0:e.amount)*Math.trunc((null===e||void 0===e?void 0:e.quantity)||0);u+=t;var n=e.taxRateId;if(n&&o&&t>0){var i=o.find((function(e){return e.id===n}));if(i&&i.rate>0){var a=s.get(n),l=a?a.totalVat:0,r=i.rate/100*t;l+=r,d+=r,s.set(n,{title:i.title,vatRate:i.rate,totalVat:l})}}})),n({subtotal:u,total:u+d,vatData:s,supervisionMonthlyCharge:i});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i}({form:Ae,setTotal:pt,taxRateData:Ht}),Kt=function(e){var t;Oe(!0);var n=new FormData,o=null===e||void 0===e||null===(t=e.file)||void 0===t?void 0:t.file;o&&n.append("file",o);var a=e.leadId?e.leadId:ge.leadId,l=(0,i.Z)((0,i.Z)({},e),{},{leadId:a,file:n.get("file")});if((null===l||void 0===l||!l.file)&&(null===l||void 0===l?void 0:l.type)===T.PH.Manual&&("create"===we||"revise"===we))return c.ZP.error("Please upload quotation file"),void Oe(!1);var r=function(e){var t=e.callback,n=e.extra;null===_e||void 0===_e||_e.createRecord((0,i.Z)((0,i.Z)({},l),n)).then((function(e){var n,o=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;xe((function(e){return(0,i.Z)((0,i.Z)({},e),{},{type:"preview",quoteId:null===o||void 0===o?void 0:o.id})})),ye(),t()})).catch((function(e){var t=(0,C.S3)(e);c.ZP.error(t||"Something went wrong")})).finally((function(){Oe(!1)}))};switch(we){case"create":!0===(null===Ze||void 0===Ze?void 0:Ze.createQuotation)?r({callback:function(){return c.ZP.success("Quotation created successfully")}}):(c.ZP.error("You don't have permission to create quotation"),Oe(!1));break;case"edit":if(null===Ee||void 0===Ee||!Ee.id)return c.ZP.error("Quotation not found");!0===(null===Ze||void 0===Ze?void 0:Ze.updateQuotation)&&(null===_e||void 0===_e||_e.updateRecord(l,null===Ee||void 0===Ee?void 0:Ee.id).then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;c.ZP.success("Quotation updated successfully"),ye(),xe((function(e){return(0,i.Z)((0,i.Z)({},e),{},{type:"preview",quoteId:null===n||void 0===n?void 0:n.id})}))})).catch((function(e){var t=(0,C.S3)(e);c.ZP.error(t||"Something went wrong")})).finally((function(){Oe(!1)})));break;case"revise":if(null===Ee||void 0===Ee||!Ee.id)return c.ZP.error("Quotation not found");!0===(null===Ze||void 0===Ze?void 0:Ze.createQuotation)?r({callback:function(){return c.ZP.success("Quotation revised successfully")},extra:{revisedQuotationReferenceId:null===Ee||void 0===Ee?void 0:Ee.id,leadId:null===Ee||void 0===Ee?void 0:Ee.leadId}}):(c.ZP.error("You don't have permission to revise quotation"),Oe(!1));break;default:c.ZP.error("Something went wrong"),Oe(!1)}},Xt=(0,l.useState)({open:!1,record:null}),Gt=(0,a.Z)(Xt,2),Ut=Gt[0],$t=Gt[1];(0,l.useEffect)((function(){"create"!==we&&be&&_e.getRecordById(be).then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;Ve(n),ot(null===n||void 0===n?void 0:n.type);var o,a,l=null===n||void 0===n?void 0:n.projectId;("preview"!==we&&(Qt({ids:[l]}),Ae.setFieldValue("projectId",l)),"edit"===we||"revise"===we)&&(Ae.setFieldsValue((0,i.Z)((0,i.Z)({},n),{},{submissionById:null===n||void 0===n||null===(o=n.Lead)||void 0===o||null===(a=o.SubmissionBy)||void 0===a?void 0:a.id,scopeOfWork:null===n||void 0===n?void 0:n.scopeOfWork,milestone:null===n||void 0===n?void 0:n.QuotationMilestone,hasSupervision:null===n||void 0===n?void 0:n.hasSupervision,supervisionMonthlyCharge:null===n||void 0===n?void 0:n.supervisionMonthlyCharge,supervisionPaymentSchedule:null===n||void 0===n?void 0:n.supervisionPaymentSchedule,paymentTerms:null===n||void 0===n?void 0:n.paymentTerms,type:null===n||void 0===n?void 0:n.type,quoteNumber:null===n||void 0===n?void 0:n.quoteNumber,expiryDate:null!==n&&void 0!==n&&n.expiryDate?$()(null===n||void 0===n?void 0:n.expiryDate):void 0,issueDate:null!==n&&void 0!==n&&n.issueDate?$()(null===n||void 0===n?void 0:n.issueDate):void 0})),rt(null===n||void 0===n?void 0:n.hasSupervision),Yt())}))}),[be,we]),(0,l.useEffect)((function(){zt()}),[kt]);var Jt=(0,ie.jsxs)(m.Z,{children:[("create"===we||"edit"===we||"revise"===we)&&(0,ie.jsxs)(ie.Fragment,{children:["create"===we&&(0,ie.jsx)(v.Z,{size:"small",type:"text",onClick:function(){Xe((function(e){return(0,i.Z)((0,i.Z)({},e),{},{init:!(null!==e&&void 0!==e&&e.init),loading:!1})}))},children:null!==Ke&&void 0!==Ke&&Ke.init?"Create Manually":"Pull from Xero"}),!(null!==Ke&&void 0!==Ke&&Ke.init)&&(0,ie.jsx)(v.Z,{type:"primary",onClick:function(){return Ae.submit()},loading:We,children:"Preview"})]}),"preview"===we&&(0,ie.jsxs)(ie.Fragment,{children:[(null===Ee||void 0===Ee?void 0:Ee.status)===T.nE.New&&(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(v.Z,{type:"link",style:{color:"var(--color-dark-main)"},onClick:function(){return xe((function(e){return(0,i.Z)((0,i.Z)({},e),{},{type:"edit",leadId:null===Ee||void 0===Ee?void 0:Ee.leadId})}))},children:"Edit"}),(0,ie.jsx)(h.Z,{title:(0,ie.jsxs)(ie.Fragment,{children:["An email will be sent to the client. A copy of it will be sent to you as well.",(0,ie.jsx)("br",{}),"Are you sure you want to submit this quotation?"]}),okText:"Yes",cancelText:"No",placement:"bottomRight",onConfirm:Vt,zIndex:1e5,okButtonProps:{loading:We},children:(0,ie.jsx)(N.Tr,{trigger:["click"],size:"middle",type:"primary",label:"Submit Now",overlayStyle:{zIndex:1e4},items:[{label:"Mark as sent",value:"1"}].map((function(e,t){return{key:"option-".concat(t),label:e.label,onClick:function(){return Et(null===Ee||void 0===Ee?void 0:Ee.id)}}}))})})]}),((null===Ee||void 0===Ee?void 0:Ee.status)===T.nE.Confirmed||(null===Ee||void 0===Ee?void 0:Ee.status)===T.nE.Rejected)&&(0,ie.jsx)("div",{children:T.nE[null===Ee||void 0===Ee?void 0:Ee.status]}),(null===Ee||void 0===Ee?void 0:Ee.status)===T.nE.Sent&&(0,ie.jsx)(E.Z,{item:Ee,setDrawer:xe,onRefresh:ye,permissions:Ze,setNewProject:je})]})]});return(0,ie.jsxs)(p.Z,{width:window.innerWidth>1400?1400:"100%",onClose:qt,open:ge.open,destroyOnClose:!0,zIndex:1e4,title:(0,ie.jsxs)(ie.Fragment,{children:["create"===we&&"Create Quotation","edit"===we&&"Editing Quotation of ".concat((null===Ee||void 0===Ee||null===(t=Ee.Lead)||void 0===t||null===(n=t.Client)||void 0===n?void 0:n.name)||""," - ").concat((null===Ee||void 0===Ee?void 0:Ee.quoteNumber)||""),"preview"===we&&"Previewing Quotation of ".concat((null===Ee||void 0===Ee||null===(U=Ee.Lead)||void 0===U||null===(ue=U.Client)||void 0===ue?void 0:ue.name)||""," - ").concat((null===Ee||void 0===Ee?void 0:Ee.quoteNumber)||""),"revise"===we&&"Revising Quotation of ".concat((null===Ee||void 0===Ee||null===(ce=Ee.Lead)||void 0===ce||null===(me=ce.Client)||void 0===me?void 0:me.name)||""," - ").concat((null===Ee||void 0===Ee?void 0:Ee.quoteNumber)||"")]}),bodyStyle:{padding:"create"===we||"edit"===we||"revise"===we?25:0,paddingTop:0},extra:Jt,children:["create"===we||"edit"===we||"revise"===we?(0,ie.jsx)(ie.Fragment,{children:null!==Ke&&void 0!==Ke&&Ke.init?(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",gap:"10px"},children:[(0,ie.jsx)(s.Z,{width:"40%",placeholder:"Enter Quotation Number",value:null===Ke||void 0===Ke?void 0:Ke.quoteNumber,onChange:function(e){return Xe((function(t){return(0,i.Z)((0,i.Z)({},t),{},{quoteNumber:e.target.value})}))}}),(0,ie.jsx)(r.Z,{style:{width:"40%"},dropdownStyle:{zIndex:9999999},placeholder:"Choose XERO Tenant connection",onChange:function(e){return Xe((function(t){return(0,i.Z)((0,i.Z)({},t),{},{xeroTenantId:e})}))},options:null===Ct||void 0===Ct?void 0:Ct.map((function(e){return{label:e.tenantName,value:e.tenantId}}))}),(0,ie.jsx)(v.Z,{type:"primary",style:{width:100},loading:null===Ke||void 0===Ke?void 0:Ke.loading,onClick:At,children:"Pull"})]}),(null===Ke||void 0===Ke?void 0:Ke.loading)&&(0,ie.jsx)(S.Z,{tip:"Please wait while we are pulling the quotation...",size:"large",style:{height:"80vh"},className:"w-100 d-flex justify-center align-center font-size-lg"})]}):(0,ie.jsxs)(u.Z,{form:Ae,onFinish:function(e){var t=e.supervisionPaymentSchedule,n=e.type,a=(0,o.Z)(e,ae),l=lt?t||T.fk["End of the Month"]:void 0,r=(0,i.Z)((0,i.Z)({},a),{},{type:n||T.PH.Auto,hasSupervision:lt,supervisionPaymentSchedule:l});Kt(r)},children:[(0,ie.jsx)("div",{children:(0,ie.jsxs)(f.Z,{gutter:[5,5],children:[(0,ie.jsx)(g.Z,{span:window.innerWidth>1400&&!(null!==Ee&&void 0!==Ee&&Ee.leadId||Se)?8:12,children:(0,ie.jsx)(u.Z.Item,{name:"quoteNumber",initialValue:Mt,style:{marginBottom:0},rules:[{required:!0,message:"Please enter quotation number!"}],children:(0,ie.jsx)(N.t7,{label:"Quote Number",asterisk:!0,placeHolder:"Quote Number",size:"w100",style:{marginTop:1},onChange:function(e){var t,n=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;Je(n)}})})}),!(null!==Ee&&void 0!==Ee&&Ee.leadId||Se)&&(0,ie.jsx)(g.Z,{span:window.innerWidth>1400?8:12,children:(0,ie.jsx)(u.Z.Item,{name:"leadId",style:{marginBottom:0},rules:[{required:!0,message:"Please select a project"}],children:(0,ie.jsx)(N.Ld,{label:"Project",loading:null===ut||void 0===ut?void 0:ut.loading,onSearch:function(e){return bt(e)},options:null===ut||void 0===ut||null===(ve=ut.data)||void 0===ve?void 0:ve.map((function(e){return{label:e.title,value:e.leadId}}))})})}),(0,ie.jsx)(g.Z,{span:window.innerWidth>1400&&!(null!==Ee&&void 0!==Ee&&Ee.leadId||Se)?8:12,children:(0,ie.jsx)(u.Z.Item,{name:"brandingThemeId",style:{marginBottom:0},children:(0,ie.jsx)(N.AP,{label:"Branding Theme",placeholder:"Select Branding Theme",options:null===Lt||void 0===Lt?void 0:Lt.map((function(e){return{label:e.title,value:e.id}})),onSelect:function(e){var t=null===Lt||void 0===Lt?void 0:Lt.find((function(t){return t.id===e}));Ae.setFieldsValue({paymentTerms:null===t||void 0===t?void 0:t.paymentTerms})}})})})]})}),(0,ie.jsxs)(f.Z,{gutter:[5,5],children:[(0,ie.jsx)(g.Z,{span:window.innerWidth>1400?8:12,children:(0,ie.jsx)(u.Z.Item,{name:"submissionById",style:{marginBottom:0},initialValue:"create"===we?ke:null===Ee||void 0===Ee||null===(he=Ee.Lead)||void 0===he||null===(pe=he.SubmissionBy)||void 0===pe?void 0:pe.id,rules:[{required:!0,message:"Please select submission by!"}],children:(0,ie.jsx)(N.AP,{label:"Submission By",asterisk:!0,placeholder:"Select Submission By",options:null===Fe||void 0===Fe?void 0:Fe.map((function(e){return{value:(null===e||void 0===e?void 0:e.id)||"",label:null===e||void 0===e?void 0:e.name}}))})})}),(0,ie.jsxs)(g.Z,{span:window.innerWidth>1400?8:12,children:[(0,ie.jsx)("label",{className:"font-size-sm color-dark-main",children:"Issue Date"}),(0,ie.jsx)(u.Z.Item,{name:"issueDate",initialValue:$()(),style:{marginBottom:0},children:(0,ie.jsx)(x.Z,{placeholder:"Issue Date",className:V.date_picker,popupClassName:V.z_index,open:_t.issueDate,showToday:!1,onOpenChange:function(e){return It((function(t){return(0,i.Z)((0,i.Z)({},t),{},{issueDate:e})}))},renderExtraFooter:function(){return(0,ie.jsx)("div",{className:V.date_footer,children:J.map((function(e){return(0,ie.jsxs)(v.Z,{type:"ghost",size:"small",onClick:function(){var t=$()().subtract(e,"days");Ae.setFieldsValue({issueDate:t}),It((function(e){return(0,i.Z)((0,i.Z)({},e),{},{issueDate:!1})}))},children:[e," days ago"]},e)}))})}})})]}),(0,ie.jsxs)(g.Z,{span:window.innerWidth>1400?8:12,children:[(0,ie.jsx)("label",{className:"font-size-sm color-dark-main",children:"Expiry Date"}),(0,ie.jsx)(u.Z.Item,{name:"expiryDate",initialValue:$()().add(14,"days"),style:{marginBottom:5},children:(0,ie.jsx)(x.Z,{placeholder:"Expiry Date",className:V.date_picker,popupClassName:V.z_index,open:_t.expiryDate,showToday:!1,onOpenChange:function(e){return It((function(t){return(0,i.Z)((0,i.Z)({},t),{},{expiryDate:e})}))},renderExtraFooter:function(){return(0,ie.jsx)("div",{className:V.date_footer,children:J.map((function(e){return(0,ie.jsxs)(v.Z,{type:"ghost",size:"small",onClick:function(){var t=$()().add(e,"days");Ae.setFieldsValue({expiryDate:t}),It((function(e){return(0,i.Z)((0,i.Z)({},e),{},{expiryDate:!1})}))},children:["In ",e," days"]},e)}))})}})})]})]}),(0,ie.jsx)(u.Z.Item,{name:"scopeOfWork",rules:[{required:!0,message:"Please enter scope of work!"}],children:(0,ie.jsx)(A.Z,{label:"Scope of Work",asterisk:!0,autoSize:{minRows:3,maxRows:10},placeholder:"Scope of Work"})}),(0,ie.jsx)(u.Z.List,{name:"milestone",initialValue:te,children:function(e,t){var n=t.add,a=t.remove;return(0,ie.jsxs)(Z.Z,{size:"small",className:"mb-2 w-100",headStyle:{padding:"0px 0.5rem",margin:0,backgroundColor:"var(--color-light"},bodyStyle:{overflowX:"auto",overflowY:"hidden"},title:(0,ie.jsxs)("div",{className:"d-flex justify-space-between align-center w-100",children:[(0,ie.jsx)(N.ZT,{color:"dark-main",size:"sm",weight:"semi",children:"Quotation Items"}),(0,ie.jsxs)("span",{className:"font-weight-semi font-size-sm color-dark-main cursor-pointer",onClick:function(){return n()},children:[(0,ie.jsx)(P.Z,{})," Add More"]})]}),children:[(0,ie.jsx)(f.Z,{gutter:[5,5],style:{minWidth:1400,overflowX:"auto",overflowY:"hidden"},children:ee.map((function(e,t){return(0,ie.jsx)(g.Z,{span:e.span,style:e.style,children:(0,ie.jsx)(N.ZT,{color:"dark-main",size:"normal",children:e.title})},"quotationItem-".concat(t))}))}),e.map((function(e){var t,n,l=e.key,r=e.name,s=(0,o.Z)(e,le);return(0,ie.jsxs)(f.Z,{gutter:[5,5],style:{minWidth:1400,overflowX:"auto",overflowY:"hidden"},children:[(0,ie.jsx)(g.Z,{span:3,children:(0,ie.jsx)(u.Z.Item,(0,i.Z)((0,i.Z)({},s),{},{name:[r,"productId"],initialValue:void 0,style:{width:"100%",marginBottom:0,marginTop:0===r?0:10},children:(0,ie.jsx)(N.AP,{style:{width:"100%"},options:null===Wt||void 0===Wt?void 0:Wt.map((function(e){return{label:"".concat(e.productCode," - ").concat(e.title),value:e.id}})),placeholder:"Select Product",onSelect:function(e){var t=null===Wt||void 0===Wt?void 0:Wt.find((function(t){return t.id===e})),n=Ae.getFieldValue("milestone"),o=n[r];t&&(o.amount=t.unitPrice,o.taxRateId=t.taxRateId,o.accountId=t.accountId,o.title=t.description,o.quantity=t.quantity||1),Ae.setFieldsValue({milestone:n}),Yt()}})}))}),(0,ie.jsx)(g.Z,{span:6,children:(0,ie.jsx)(u.Z.Item,(0,i.Z)((0,i.Z)({},s),{},{name:[r,"title"],initialValue:"",rules:[{required:!0,message:"Missing item title"}],style:{width:"100%",marginBottom:0,marginTop:0===r?0:10},children:(0,ie.jsx)(se,{placeholder:"Title",className:V.gen_border,autoSize:{minRows:1}})}))}),(0,ie.jsx)(g.Z,{span:2,children:(0,ie.jsx)(u.Z.Item,(0,i.Z)((0,i.Z)({},s),{},{name:[r,"quantity"],initialValue:1,rules:[{required:!0,message:"Missing item quantity"},{pattern:/^[0-9]+$/,message:"Only whole numbers are allowed"}],style:{width:"100%",marginBottom:0,marginTop:0===r?0:10},children:(0,ie.jsx)(y.Z,{placeholder:"Quantity",style:{width:"100%"},className:V.gen_border,onChange:Yt,parser:function(e){return e&&e.replace(/\$\s?|(,*)/g,"")||""},step:1,precision:0})}))}),(0,ie.jsx)(g.Z,{span:3,children:(0,ie.jsx)(u.Z.Item,(0,i.Z)((0,i.Z)({},s),{},{name:[r,"amount"],initialValue:"",rules:[{required:!0,message:"Missing item amount"}],style:{width:"100%",marginBottom:0,marginTop:0===r?0:10},children:(0,ie.jsx)(y.Z,{placeholder:"Unit Amount",style:{width:"100%"},className:V.gen_border,onChange:Yt})}))}),(0,ie.jsx)(g.Z,{span:4,children:(0,ie.jsx)(u.Z.Item,(0,i.Z)((0,i.Z)({},s),{},{name:[r,"accountId"],initialValue:void 0,style:{width:"100%",marginBottom:0,marginTop:0===r?0:10},children:(0,ie.jsx)(N.AP,{options:null===Ot||void 0===Ot?void 0:Ot.map((function(e){return{label:"".concat(e.accountCode," - ").concat(e.title),value:e.id}})),placeholder:"Select Account"})}))}),(0,ie.jsx)(g.Z,{span:2,children:(0,ie.jsx)(u.Z.Item,(0,i.Z)((0,i.Z)({},s),{},{name:[r,"taxRateId"],initialValue:void 0,style:{width:"100%",marginBottom:0,marginTop:0===r?0:10},children:(0,ie.jsx)(N.AP,{placeholder:"Select Tax Rate",dropdownStyle:{zIndex:1e4},options:null===Ht||void 0===Ht?void 0:Ht.map((function(e){return{label:e.title,value:e.id}})),onSelect:Yt})}))}),(0,ie.jsx)(g.Z,{span:3,style:{display:"flex",justifyContent:"center",marginTop:0===r?10:20},children:(0,ie.jsx)(N.ZT,{color:"dark-main",size:"sm",weight:"semi",children:"".concat((t=Ae.getFieldValue(["milestone",r,"quantity"]),n=Ae.getFieldValue(["milestone",r,"amount"]),t&&n?(0,C.xG)(t*n):(0,C.xG)(0)))})}),(0,ie.jsx)(g.Z,{span:1,children:0!==r&&(0,ie.jsx)(N.op,{type:"danger",size:"normal",fontSize:"sm",disabled:0===r,onClick:function(){a(r),Yt()},style:{marginTop:0===r?0:10},children:(0,ie.jsx)(_.Z,{})})})]},l)}))]})}}),(0,ie.jsxs)("div",{children:[(0,ie.jsx)(j.Z,{checked:lt,className:"mb-2",onChange:function(e){!1===e.target.checked&&(Ae.setFieldsValue({supervisionMonthlyCharge:0}),Yt()),rt(e.target.checked)},children:"Has Supervision"}),lt&&(0,ie.jsx)(u.Z.Item,{name:"supervisionMonthlyCharge",rules:[{required:!0,message:"Please input monthly supervision amount!"}],children:(0,ie.jsx)(y.Z,{placeholder:"Enter monthly supervision amount in AED",style:{width:"100%"},onChange:Yt,addonAfter:(0,ie.jsx)(u.Z.Item,{name:"supervisionPaymentSchedule",noStyle:!0,initialValue:T.fk["End of the Month"],children:(0,ie.jsx)(r.Z,{style:{width:170},dropdownStyle:{zIndex:1e4},className:V.gen_select,onSelect:function(e){var t=Object.keys(T.fk).find((function(t){return T.fk[t]===e}));t&&Zt(t)},children:K.vA.map((function(e){return(0,ie.jsx)(re,{value:Number(e.value),children:e.label},"paymentSchedule-".concat(e.value))}))})})})})]}),(0,ie.jsxs)(Z.Z,{className:V.total,children:[(0,ie.jsxs)("div",{className:V.total_item,children:[(0,ie.jsx)(N.ZT,{color:"dark-main",size:"sm",children:"Subtotal"}),(0,ie.jsx)(N.ZT,{color:"dark-main",size:"sm",children:(0,C.xG)(ht.subtotal)})]}),ht.vatData&&Array.from(ht.vatData).map((function(e){var t=(0,a.Z)(e,2),n=t[0],o=t[1];return(0,ie.jsxs)("div",{className:V.total_item,children:[(0,ie.jsx)(N.ZT,{color:"dark-main",size:"sm",children:"".concat(o.title," (").concat(o.vatRate,"%)")}),(0,ie.jsx)(N.ZT,{color:"dark-main",size:"sm",children:(0,C.xG)(o.totalVat)})]},"VAT_DATA".concat(n))})),(0,ie.jsxs)("div",{className:V.total_item,children:[(0,ie.jsx)(N.ZT,{color:"dark-main",size:"sm",weight:"bolder",children:"Total"}),(0,ie.jsx)(N.ZT,{color:"dark-main",size:"sm",weight:"bolder",children:(0,C.xG)(ht.total)})]}),lt&&(0,ie.jsxs)("div",{className:V.total_item,children:[(0,ie.jsx)(N.ZT,{color:"dark-main",size:"sm",children:"Supervision Charge - ".concat(xt)}),(0,ie.jsx)(N.ZT,{color:"dark-main",size:"sm",className:"ml-3",children:(0,C.xG)(ht.supervisionMonthlyCharge)})]})]}),(0,ie.jsx)("div",{children:(0,ie.jsx)(u.Z.Item,{name:"paymentTerms",rules:[{required:!0,message:"Please enter payment terms!"}],children:(0,ie.jsx)(A.Z,{placeholder:"Payment Terms",asterisk:!0,label:"Payment Terms",autoSize:{minRows:3,maxRows:15}})})}),(0,ie.jsxs)("div",{className:"d-flex justify-space-between",children:[(0,ie.jsx)(u.Z.Item,{name:"type",initialValue:nt,label:"Quotation Type",style:{marginBottom:5,marginTop:20},children:(0,ie.jsx)(w.ZP.Group,{name:"type",buttonStyle:"solid",onChange:function(e){return ot(e.target.value)},children:K.xy.map((function(e){return(0,ie.jsx)(w.ZP.Button,{value:Number(e.value),children:e.label},"quotationType-".concat(e.value))}))})}),null!==Ee&&void 0!==Ee&&Ee.leadId||Se?(0,ie.jsxs)("div",{className:"d-flex align-center mt-5 mb-5",onClick:function(){$t({open:!0,record:{id:(null===Ee||void 0===Ee?void 0:Ee.leadId)||Se}})},children:[(0,ie.jsx)("p",{className:"cursor-pointer mb-0",children:"Attatchments"}),(0,ie.jsx)(b.Z,{title:"Manage Attachments",children:(0,ie.jsx)(I.Z,{className:"ml-2 cursor-pointer"})})]}):(0,ie.jsx)(ie.Fragment,{})]}),nt===T.PH.Auto&&(0,ie.jsx)(k.Z,{message:"System will automatically generate quotation based on the above information",type:"warning",style:{marginTop:15}}),nt===T.PH.Manual&&(0,ie.jsx)(N.wA,{name:"file",label:"Drag and drop quotation file",defaultFileList:"edit"===we&&(null===Ee||void 0===Ee?void 0:Ee.file)&&[{uid:"".concat(null===Ee||void 0===Ee?void 0:Ee.id),name:null===Ee||void 0===Ee?void 0:Ee.file,status:"done",url:"".concat(B.Q7).concat(null===Ee||void 0===Ee?void 0:Ee.file,"?authKey=").concat(Pe)}]||[]})]})}):(0,ie.jsx)(ie.Fragment,{children:Ee?(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(d.Z,{expandIconPosition:"end",style:{margin:"0px 0.5rem 1rem 0.5rem"},children:(0,ie.jsxs)(de,{header:"Details",children:[(0,ie.jsx)(N.ZT,{color:"dark-main",className:"ml-2 mt-2",weight:"bold",children:"Scope of Work"}),(0,ie.jsx)("div",{className:"mx-2 color-dark-sub ".concat(V.accordianItem),dangerouslySetInnerHTML:{__html:null===Ee||void 0===Ee?void 0:Ee.scopeOfWork}}),(0,ie.jsx)(N.ZT,{color:"dark-main",className:"ml-2 mt-2",weight:"bold",children:"Quotation Items"}),(0,ie.jsx)("div",{className:"color-dark-sub",children:(0,ie.jsx)("ul",{className:"mb-0",children:null===Ee||void 0===Ee||null===(fe=Ee.QuotationMilestone)||void 0===fe?void 0:fe.map((function(e,t){var n;return(0,ie.jsxs)("li",{children:[(0,ie.jsx)("span",{className:"font-weight-normal",children:null===e||void 0===e?void 0:e.title}),(0,ie.jsxs)("span",{className:"ml-2",children:["- ",null===e||void 0===e||null===(n=e.amount)||void 0===n?void 0:n.toLocaleString()," AED"]})]},"milestone-".concat(t))}))})})]},"scopeOfWork")}),(0,ie.jsx)(M.Z,{file:null===Ee||void 0===Ee?void 0:Ee.file})]}):(0,ie.jsx)(S.Z,{tip:"Please wait while we are preparing the quotation...",size:"large",style:{gap:"1rem"},className:"w-100 h-100 d-flex justify-center align-center font-size-lg"})}),Ut.open&&(0,ie.jsx)(oe.Z,{open:Ut.open,record:Ut.record,permissions:Ze,onClose:function(){return $t({open:!1,record:null})},onRefresh:function(){}})]})}},42819:function(e,t,n){n.d(t,{S:function(){return r}});var o=n(43144),i=n(15671),a=n(49075),l=n(3135),r=(0,o.Z)((function e(){var t=this;(0,i.Z)(this,e),this.endPoint="leads",this.getAllRecords=function(e){return a.Z.get(t.endPoint,{params:e})},this.getRecordById=function(e){return a.Z.get("".concat(t.endPoint,"/").concat(e))},this.getNoteById=function(e){return a.Z.get("".concat(t.endPoint,"/notes/").concat(e))},this.createRecord=function(e){return a.Z.post(t.endPoint+"/",e)},this.updateRecord=function(e,n){return a.Z.patch("".concat(t.endPoint,"/").concat(n),e)},this.changeStatus=function(e,n){return a.Z.patch("".concat(t.endPoint,"/changeStatus/").concat(e),{status:n})},this.addNote=function(e,n){return a.Z.post("".concat(t.endPoint,"/addNote/").concat(e),n)},this.notelogs=function(e,n){return a.Z.get("".concat(t.endPoint,"/logs/").concat(e),{params:n})},this.assignLead=function(e,n){return a.Z.patch("".concat(t.endPoint,"/assignLead/").concat(n),e)},this.deleteRecord=function(e){return a.Z.delete("".concat(t.endPoint,"/remove/").concat(e))},this.removeNote=function(e){return a.Z.delete("".concat(t.endPoint,"/removeNote/").concat(e))},this.uploadFile=function(e){return a.Z.post("".concat(t.endPoint,"/uploadLeadsDocuments"),e,{headers:l.C})},this.removeFile=function(e){return a.Z.delete("".concat(t.endPoint,"/removeDocument/").concat(e))},this.markConcernAsResolved=function(e){return a.Z.patch("".concat(t.endPoint,"/markConcernAsResolved/").concat(e))},this.getCounts=function(){return a.Z.get("".concat(t.endPoint,"/getCounts"))}}))},63243:function(e,t,n){n.d(t,{Z:function(){return s}});var o=n(87462),i=n(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},l=n(16141),r=function(e,t){return i.createElement(l.Z,(0,o.Z)({},e,{ref:t,icon:a}))};var s=i.forwardRef(r)}}]);