(self.webpackChunkdat_projects=self.webpackChunkdat_projects||[]).push([[5673],{50385:function(e,n,o){"use strict";o.d(n,{Z:function(){return t.Z},a:function(){return i.Z}});var i=o(12079),t=o(66395)},12079:function(e,n,o){"use strict";var i=o(1413),t=o(29439),s=o(45987),l=o(47313),r=o(82626),a=o(66395),d=o(1066),c=o(46417),u=["showPopover","user","defaultValue","options","disableOption","placeholder","notFoundDescription","loading"];n.Z=function(e){var n=e.showPopover,o=void 0===n||n,v=e.user,p=e.defaultValue,h=e.options,f=e.disableOption,m=e.placeholder,Z=void 0===m?"Select an user":m,x=e.notFoundDescription,_=e.loading,j=void 0!==_&&_,g=(0,s.Z)(e,u),y=(0,l.useState)({popover:!1,dropdown:!1}),b=(0,t.Z)(y,2),w=b[0],N=b[1],k=(0,l.useCallback)((function(e){null!==w&&void 0!==w&&w.dropdown&&!e?N((0,i.Z)((0,i.Z)({},w),{},{popover:!0})):null!==w&&void 0!==w&&w.dropdown||!e?N((0,i.Z)((0,i.Z)({},w),{},{popover:!1})):N((0,i.Z)((0,i.Z)({},w),{},{popover:!0}))}),[w]),T=(0,l.useCallback)((function(e){N(e?{popover:!1,dropdown:!0}:{popover:!1,dropdown:!1})}),[w]);return(0,c.jsx)(c.Fragment,{children:o?(0,c.jsx)(a.Z,{type:"user",user:v,open:null===w||void 0===w?void 0:w.popover,onOpenChange:k,children:(0,c.jsx)(r.Ld,(0,i.Z)((0,i.Z)({},g),{},{bordered:!1,customOption:!0,placeholder:Z,notFoundDescription:x||"No user found",defaultValue:p,options:h.map((function(e){return{label:null===e||void 0===e?void 0:e.label,value:null===e||void 0===e?void 0:e.value,icon:null===e||void 0===e?void 0:e.icon}})),disableOption:f,open:null===w||void 0===w?void 0:w.dropdown,onDropdownVisibleChange:T,className:"".concat(d.Z.selectable_dropdown," selectWithIcon"),style:{padding:"0px"},loading:j}))}):(0,c.jsx)(r.Ld,(0,i.Z)((0,i.Z)({},g),{},{bordered:!1,customOption:!0,placeholder:Z,notFoundDescription:x||"No user found",defaultValue:p,options:h.map((function(e){return{label:null===e||void 0===e?void 0:e.label,value:null===e||void 0===e?void 0:e.value,icon:null===e||void 0===e?void 0:e.icon}})),disableOption:f,open:null===w||void 0===w?void 0:w.dropdown,onDropdownVisibleChange:T,className:d.Z.selectable_dropdown,loading:j}))})}},66395:function(e,n,o){"use strict";var i=o(1413),t=o(61677),s=o(8773),l=o(39548),r=o(48897),a=o(32147),d=o(1066),c=o(46417);n.Z=function(e){var n=e.user,o=e.children,u=e.extra,v=e.client,p=e.type;return(0,c.jsx)(t.Z,(0,i.Z)((0,i.Z)({placement:"left",showArrow:!1},e),{},{overlayStyle:{padding:0},overlayInnerStyle:{padding:0,borderRadius:"0.3rem"},content:(0,c.jsxs)("div",{className:d.Z.user_popover,children:[(0,c.jsx)("div",{className:d.Z.user_popover_background}),(0,c.jsx)(s.C,{size:64,src:"".concat(r.lj).concat("client"===p?null===v||void 0===v?void 0:v.logo:null===n||void 0===n?void 0:n.profile),icon:(0,c.jsx)(l.Z,{}),className:d.Z.user_popover_avatar}),(0,c.jsxs)("div",{className:d.Z.user_popover_content,children:[(0,c.jsx)("p",{className:d.Z.user_popover_content_name,children:"client"===p?null===v||void 0===v?void 0:v.name:"".concat(null===n||void 0===n?void 0:n.firstName," ").concat(null===n||void 0===n?void 0:n.lastName)}),(0,c.jsxs)("a",{className:d.Z.user_popover_content_email,href:"mailto:".concat("client"===p?null===v||void 0===v?void 0:v.email:null===n||void 0===n?void 0:n.email),children:[(0,c.jsx)(a._X,{width:18,height:18}),"client"===p?null===v||void 0===v?void 0:v.email:null===n||void 0===n?void 0:n.email]}),"user"===p?(0,c.jsx)(c.Fragment,{children:(null===n||void 0===n?void 0:n.phone)&&(0,c.jsxs)("a",{className:d.Z.user_popover_content_phone,href:"tel:".concat(null===n||void 0===n?void 0:n.phoneCode).concat(null===n||void 0===n?void 0:n.phone),children:[(0,c.jsx)(a.qW,{width:18,height:18}),"+".concat((null===n||void 0===n?void 0:n.phoneCode)||"971").concat(null===n||void 0===n?void 0:n.phone)]})}):(0,c.jsx)(c.Fragment,{children:(null===v||void 0===v?void 0:v.phone)&&(0,c.jsxs)("a",{className:d.Z.user_popover_content_phone,href:"tel:".concat(null===v||void 0===v?void 0:v.phoneCode).concat(null===v||void 0===v?void 0:v.phone),children:[(0,c.jsx)(a.qW,{width:18,height:18}),"+".concat((null===v||void 0===v?void 0:v.phoneCode)||"971").concat(null===v||void 0===v?void 0:v.phone)]})}),u&&(0,c.jsx)("div",{className:d.Z.user_popover_content_extra,children:u})]})]}),children:o}))}},26773:function(e,n,o){"use strict";o.d(n,{t:function(){return x}});var i=o(93433),t=o(1413),s=o(29439),l=o(25019),r=o(55291),a=o(82626),d=o(3113),c=o(49355),u=o(47313),v=o(46646),p=o(40169),h=o(55560),f=o(42623),m=o(84825),Z=o(46417),x=function(e){var n=e.openModal,o=e.onCancel,x=e.reloadTableData,_=e.permissions.createTask,j=l.Z.useForm(),g=(0,s.Z)(j,1)[0],y=(0,u.useMemo)((function(){return new h.h}),[]),b=(0,u.useMemo)((function(){return new m.z}),[]),w=(0,u.useState)(),N=(0,s.Z)(w,2),k=N[0],T=N[1],S=(0,u.useState)(""),C=(0,s.Z)(S,2),z=C[0],R=C[1],D=(0,f.N)(z,500),A=(0,u.useState)([]),F=(0,s.Z)(A,2),L=F[0],P=F[1],I=function(e){var n=(0,p.P)(e);if("string"==typeof n.message)T((0,t.Z)((0,t.Z)({},k),{},{error:n.message}));else{var o=(0,v.O)(n.message,[]);g.setFields(o),T((0,t.Z)((0,t.Z)({},k),{},{error:""}))}};return(0,u.useEffect)((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b.getAllRecords(e).then((function(e){var n=e.data;P((function(e){var o,t=null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.filter((function(n){return!(null!==e&&void 0!==e&&e.find((function(e){return e.id===n.id})))}));return[].concat((0,i.Z)(e),(0,i.Z)(t))}))})).catch((function(e){r.ZP.error(e.response.data.message)}))}({name:D||"Garren"})}),[D]),(0,Z.jsx)(a.P0,{visible:n,closable:!0,onCancel:o,titleText:"Add New Tech Support",showFooter:!1,children:null!==k&&void 0!==k&&k.loading?(0,Z.jsx)(c.Z,{items:10}):(0,Z.jsxs)(l.Z,{className:d.Z.form,onFinish:function(e){var n=new FormData,i=["file"];if(Object.entries(e).forEach((function(e){i.includes(e[0])||n.append(e[0],e[1])})),e.file&&"string"!==typeof e.file&&e.file.fileList.length>0){var s,l,a=null===(s=e.file)||void 0===s||null===(l=s.fileList)||void 0===l?void 0:l.map((function(e){return e.originFileObj}));if(null!==a&&void 0!==a&&a.length)for(var d=0;d<a.length;d++)n.append("files[]",a[d])}delete e.file,T((0,t.Z)((0,t.Z)({},k),{},{buttonLoading:!0})),!0===_?y.createRecord((0,t.Z)((0,t.Z)({},e),{},{type:2})).then((function(e){n.get("files[]")?(n.append("taskId",e.data.data.id),y.uploadFiles(n).then((function(e){r.ZP.success(e.data.message),o(),T((function(e){return(0,t.Z)((0,t.Z)({},e),{},{buttonLoading:!1})}))})).catch((function(n){y.deleteRecord(e.data.data.id),I(n),T((function(e){return(0,t.Z)((0,t.Z)({},e),{},{buttonLoading:!1})}))}))):(r.ZP.success(e.data.message),o(),T((function(e){return(0,t.Z)((0,t.Z)({},e),{},{buttonLoading:!1})}))),x&&x()})).catch((function(e){I(e),T((function(e){return(0,t.Z)((0,t.Z)({},e),{},{buttonLoading:!1})}))})):(T((function(e){return(0,t.Z)((0,t.Z)({},e),{},{buttonLoading:!1})})),r.ZP.error("You don't have permission to create this record"))},form:g,children:[(null===k||void 0===k?void 0:k.error)&&(0,Z.jsx)(a.EQ,{description:null===k||void 0===k?void 0:k.error,isClosable:!0,onClose:function(){T((0,t.Z)((0,t.Z)({},k),{},{error:""}))}}),(0,Z.jsx)("div",{children:(0,Z.jsx)(l.Z.Item,{name:"title",rules:[{required:!0,message:"Please add a title"}],children:(0,Z.jsx)(a.t7,{size:"w100",label:"Title",asterisk:!0,type:"textArea",placeHolder:"Enter Title"})})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(l.Z.Item,{name:"assignedTo",rules:[{required:!0,message:"Please select a user"}],help:(0,Z.jsx)("small",{children:"You can assign multiple users to a task"}),style:{marginBottom:30},children:(0,Z.jsx)(a.Ld,{label:"Assign to",placeholder:"Search for user to assign task",mode:"multiple",asterisk:!1,notFoundDescription:"No users found., Please search for a user",onSearch:function(e){return R(e)},options:null===L||void 0===L?void 0:L.map((function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:e.id}}))})})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(l.Z.Item,{name:"instructions",children:(0,Z.jsx)(a.t7,{size:"w100",label:"Details",type:"textArea"})})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(a.wA,{multiple:!0,name:"file",required:!1})}),(0,Z.jsxs)("div",{className:"d-flex justify-end mt-4",children:[(0,Z.jsx)(a.op,{size:"normal",fontSize:"sm",onClick:o,type:"plain",children:"Cancel"}),(0,Z.jsx)(a.op,{type:"primary",size:"normal",fontSize:"sm",htmlType:"submit",loading:null===k||void 0===k?void 0:k.buttonLoading,children:"Add Request"})]})]})})}},24922:function(e,n,o){"use strict";o.d(n,{X:function(){return ve}});var i=o(4942),t=o(93433),s=o(1413),l=o(29439),r=o(44391),a=o(15275),d=o(86146),c=o(98769),u=o(92466),v=o(98676),p=o(39548),h=o(47313),f=o(29079),m=o(55560),Z="style_taskId__6swwe",x="style_selectWrap__l1Lnv",_="style_modalWrap__9afgW",j="style_modalLeft__RNeks",g="style_Tasktitle__5wXDN",y="style_title__8Gqzy",b="style_actionButtonWrap__gbeow",w="style_actionButton__qMYbu",N="style_descriptionWrap__rSdp4",k="style_instructions__OBMpW",T="style_attachmentsWrap__VTMGD",S="style_resourceWrap__ho109",C="style_deleteWrap__20Q0y",z="style_modalRight__ax7TK",R="style_status__7LkhS",D="style_rightTop__zAPFN",A="style_rightBottom__9W9sV",F="style_row__nSVcc",L="style_rowTitle__+DwSc",P="style_rowValue__05Tfs",I=o(8570),M=o(55291),U=o(28770),O=o(61677),W=o(37388),B=o(59491),E=o(77278),V=o(5900),q=o(21680),Y=o(31513),G=o(8773),K=o(48897),Q=o(98505),X=o(37936),H=o(24185),J=o(47312),$=o(46417),ee=function(){return(0,$.jsxs)("div",{style:{display:"flex",gap:"2rem",alignItems:"center"},children:[(0,$.jsxs)("div",{style:{width:"65%"},children:[(0,$.jsx)(J.Z,{active:!0,round:!0,paragraph:{rows:0},style:{width:400}}),(0,$.jsx)(J.Z.Input,{active:!0,style:{width:600}}),(0,$.jsx)(J.Z,{active:!0,round:!0,paragraph:{rows:4},style:{width:"100%",marginTop:"3rem"}}),(0,$.jsx)(J.Z,{active:!0,round:!0,paragraph:{rows:0},style:{width:400,marginTop:"3rem"}}),(0,$.jsx)(J.Z.Node,{active:!0})]}),(0,$.jsxs)("div",{style:{width:"35%"},children:[(0,$.jsx)(J.Z.Button,{active:!0,style:{width:100}}),(0,$.jsxs)("div",{style:{display:"flex",gap:"1rem",width:"100%",marginTop:"2rem",border:"1px solid var(--color-light)",borderRadius:"0.25rem",padding:"0.5rem"},children:[(0,$.jsx)(J.Z,{active:!0,round:!0,paragraph:{rows:5},style:{width:"50%"}}),(0,$.jsx)(J.Z,{active:!0,round:!0,paragraph:{rows:5},style:{width:"50%"}})]})]})]})},ne=o(49075),oe=o(40096),ie=o(51534),te=o(82334),se=o(48694),le=o(50385),re=o(32147),ae=o(84825),de=o(42623),ce=o(46322),ue=I.Z.Text,ve=function(e){var n,o,I,J,ve,pe,he,fe=e.openModal,me=e.onCancel,Ze=e.id,xe=e.onUpdate;ie.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(ie.version,"/pdf.worker.js");var _e=(0,h.useMemo)((function(){return new m.h}),[]),je=(0,h.useMemo)((function(){return new ae.z}),[]),ge=oe.Z.getLocalAccessToken(),ye=(0,h.useState)({showPreviewIcon:!0,showRemoveIcon:!1}),be=(0,l.Z)(ye,2),we=be[0],Ne=be[1],ke=(0,h.useState)([]),Te=(0,l.Z)(ke,2),Se=Te[0],Ce=Te[1],ze=(0,h.useState)({taskTitle:{show:!1,value:""},instructions:{show:!1,value:""},taskEndOn:{show:!1,value:""}}),Re=(0,l.Z)(ze,2),De=Re[0],Ae=Re[1],Fe=(0,h.useState)(!1),Le=(0,l.Z)(Fe,2),Pe=Le[0],Ie=Le[1],Me=(0,h.useState)(),Ue=(0,l.Z)(Me,2),Oe=Ue[0],We=Ue[1],Be=(0,h.useState)({data:[],loading:!1}),Ee=(0,l.Z)(Be,2),Ve=Ee[0],qe=Ee[1],Ye=(0,h.useState)({}),Ge=(0,l.Z)(Ye,2),Ke=Ge[0],Qe=Ge[1],Xe=(0,h.useState)(""),He=(0,l.Z)(Xe,2),Je=He[0],$e=He[1],en=(0,de.N)(Je,500),nn=(0,f.$5)({method:function(){return _e.getRecordById(Ze)}}),on=nn.data,tn=nn.onRefresh,sn=nn.setData,ln=function(e){var n=e.assignedTo;_e.updateTaskMembers({taskId:null===on||void 0===on?void 0:on.id,assignedTo:n}).then((function(e){var n;M.ZP.success(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message),tn(),xe()})).catch((function(e){var n,o,i=null===e||void 0===e||null===(n=e.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message;M.ZP.error(i)}))},rn=(0,h.useCallback)((function(){var e;en&&(e={name:en},qe((function(e){return(0,s.Z)((0,s.Z)({},e),{},{loading:!0})})),je.getAllRecords(e).then((function(e){qe((function(n){var o,i,s=null===e||void 0===e||null===(o=e.data)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.filter((function(e){var o;return!(null!==n&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.find((function(n){return n.User.id===e.id})))})),l=[];return s.forEach((function(e){l.push({User:e})})),{data:[].concat((0,t.Z)(n.data),l),loading:!1}}))})).catch((function(e){M.ZP.error(e.response.data.message||"Something went wrong!"),qe((function(e){return(0,s.Z)((0,s.Z)({},e),{},{loading:!1})}))})))}),[en]);(0,h.useEffect)((function(){rn()}),[rn]);return(0,h.useEffect)((function(){Ze&&fe&&tn()}),[fe]),(0,h.useEffect)((function(){on&&Ae({taskTitle:(0,s.Z)((0,s.Z)({},De.taskTitle),{},{value:null===on||void 0===on?void 0:on.title}),instructions:(0,s.Z)((0,s.Z)({},De.taskTitle),{},{value:null===on||void 0===on?void 0:on.instructions})}),qe((0,s.Z)((0,s.Z)({},Ve),{},{data:null===on||void 0===on?void 0:on.TaskMembers}))}),[on]),(0,h.useEffect)((function(){if(Se.length>0){var n=new FormData;Se.forEach((function(e){n.append("files[]",e.originFileObj)})),_e.uploadFiles({"files[]":n.get("files[]"),taskId:Ze}).then((function(n){tn(),Ce([]),e.onUpdate()})).catch((function(e){Ce([]),console.log(e)}))}}),[Se]),(0,$.jsx)(U.Z,{open:fe,closable:!0,onCancel:function(){me(),sn(void 0)},footer:!1,width:1200,centered:!0,destroyOnClose:!0,bodyStyle:{minHeight:"600px"},className:"task-detail-modal",children:on?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("div",{className:Z,children:(0,$.jsxs)("div",{children:[(0,$.jsx)(r.Z,{style:{fontSize:16,marginRight:"0.25rem"},twoToneColor:"#52c41a"})," TCH-",null===on||void 0===on?void 0:on.id]})}),(0,$.jsxs)("div",{className:_,children:[(0,$.jsxs)("div",{className:j,children:[(0,$.jsxs)("div",{children:[De.taskTitle.show?(0,$.jsx)(H.Z,{onBlur:function(){return Ae((0,s.Z)((0,s.Z)({},De),{},{taskTitle:(0,s.Z)((0,s.Z)({},De.taskTitle),{},{show:!1})}))},onChange:function(e){return Ae((0,s.Z)((0,s.Z)({},De),{},{taskTitle:(0,s.Z)((0,s.Z)({},De.taskTitle),{},{value:e.target.value})}))},onMouseDown:function(){_e.updateRecord({title:De.taskTitle.value},Number(null===on||void 0===on?void 0:on.id)).then((function(n){n&&(sn((0,s.Z)((0,s.Z)({},on),{},{title:De.taskTitle.value})),e.onUpdate())}))},defaultValue:null===on||void 0===on?void 0:on.title}):(0,$.jsx)("div",{onClick:function(){return Ae((0,s.Z)((0,s.Z)({},De),{},{taskTitle:(0,s.Z)((0,s.Z)({},De.taskTitle),{},{show:!0})}))},className:g,children:(0,$.jsx)("b",{children:null===on||void 0===on?void 0:on.title})}),(0,$.jsxs)("div",{className:b,children:[(0,$.jsx)(O.Z,{content:(0,$.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,$.jsx)(W.Z,{overlayInnerStyle:{borderRadius:"0.25rem",fontSize:"var(--font-size-sm)"},placement:"bottom",title:"Link copied successfully",trigger:"click",showArrow:!1,children:(0,$.jsx)(B.Z,{icon:(0,$.jsx)(a.Z,{}),size:"large",onClick:function(){var e,n;return null===(e=navigator)||void 0===e||null===(n=e.clipboard)||void 0===n?void 0:n.writeText(window.location.href)},children:"Copy Link"})}),(0,$.jsx)(B.Z,{icon:(0,$.jsx)(d.Z,{}),size:"large",children:"Whatsapp"})]}),title:"Share task",placement:"bottom",trigger:"click",open:Pe,onOpenChange:function(){return Ie(!Pe)},overlayInnerStyle:{borderRadius:"0.25rem",fontSize:"var(--font-size-sm)"},children:(0,$.jsx)(B.Z,{size:"small",icon:(0,$.jsx)(c.Z,{style:{fontSize:18}}),className:w,children:"Share"})}),(0,$.jsx)(E.Z,(0,s.Z)((0,s.Z)({},{name:"file",listType:"picture",multiple:!0,beforeUpload:function(){return!1},maxCount:5,accept:"*"}),{},{showUploadList:we,fileList:Se,onChange:function(e){var n=(0,t.Z)(e.fileList);n=(n=n.slice(-2)).map((function(e){return e.response&&(e.url=e.response.url),e})),Ce(n),Ne((0,s.Z)((0,s.Z)({},we),{},{showRemoveIcon:!0}))},children:(0,$.jsx)(B.Z,{icon:(0,$.jsx)(u.Z,{style:{fontSize:18}}),onClick:function(){},className:w,children:"Attach"})})),(0,$.jsx)(V.Z,{title:"Are you sure you want to delete this task?",onConfirm:function(){_e.deleteRecord(Ze).then((function(){me(),sn(void 0),tn(),e.onUpdate()})).catch((function(e){M.ZP.error("Something bad happened")}))},okText:"Yes",cancelText:"No",overlayInnerStyle:{borderRadius:"0.25rem"},children:(0,$.jsx)(B.Z,{size:"small",icon:(0,$.jsx)(v.Z,{style:{fontSize:18}}),className:w,children:"Delete"})})]})]}),(0,$.jsxs)("div",{onBlur:function(){return Ae((0,s.Z)((0,s.Z)({},De),{},{instructions:(0,s.Z)((0,s.Z)({},De.instructions),{},{show:!1})}))},className:N,children:[(0,$.jsx)("div",{className:y,children:(0,$.jsx)("b",{children:"Description"})}),De.instructions.show?(0,$.jsx)(ce.Z,{onBlur:function(){return Ae((0,s.Z)((0,s.Z)({},De),{},{taskTitle:(0,s.Z)((0,s.Z)({},De.taskTitle),{},{show:!1})}))},onChange:function(e){return Ae((0,s.Z)((0,s.Z)({},De),{},{instructions:(0,s.Z)((0,s.Z)({},De.instructions),{},{value:e.target.value})}))},onMouseDown:function(){var n;_e.updateRecord({instructions:null===De||void 0===De||null===(n=De.instructions)||void 0===n?void 0:n.value},Number(null===on||void 0===on?void 0:on.id)).then((function(n){n&&(sn((0,s.Z)((0,s.Z)({},on),{},{instructions:De.instructions.value})),e.onUpdate())}))},defaultValue:null===on||void 0===on?void 0:on.instructions}):(0,$.jsx)("div",{className:k,onClick:function(){return Ae((0,s.Z)((0,s.Z)({},De),{},{instructions:(0,s.Z)((0,s.Z)({},De.instructions),{},{show:!0})}))},children:null===on||void 0===on||null===(n=on.instructions)||void 0===n||null===(o=n.split("\n"))||void 0===o?void 0:o.map((function(e){return(0,$.jsx)("p",{children:e})}))})]}),(0,$.jsx)("div",{className:N,children:(null===on||void 0===on?void 0:on.Resources.length)>0?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("div",{className:y,children:(0,$.jsxs)("b",{children:["Attachments (",null===on||void 0===on?void 0:on.Resources.length,")"]})}),(0,$.jsx)("div",{className:T,children:on.Resources.map((function(n){return(0,$.jsxs)("div",{className:S,children:[n.fileType.includes("image")?(0,$.jsx)(q.Z,{style:{objectFit:"cover",borderRadius:"0.25rem 0.25rem 0 0"},width:150,height:100,src:"".concat(ne._,"resources/all/").concat(n.path,"?authKey=").concat(ge)}):(0,$.jsx)("a",{href:"".concat(K.PO).concat(null===n||void 0===n?void 0:n.path),target:"_blank",rel:"noreferrer",children:(0,$.jsx)(te.Z,{file:"".concat(ne._,"resources/all/").concat(n.path,"?authKey=").concat(ge),children:(0,$.jsx)(se.Z,{renderTextLayer:!1,pageNumber:1})})}),(0,$.jsxs)("div",{style:{padding:"0.25rem 0.5rem",borderRadius:"0.25rem",display:"flex",flexDirection:"column"},children:[(0,$.jsx)(ue,{style:{width:125,fontSize:"var(--font-size-xs)"},strong:!0,ellipsis:!0,children:n.name}),(0,$.jsx)(ue,{style:{width:125,fontSize:"var(--font-size-xxs)"},ellipsis:!0,children:(0,Q.Ny)(n.addedDate,"dd M,yy-t")})]}),(0,$.jsx)(V.Z,{title:"Are you sure you want to delete this attachment?",onConfirm:function(){_e.removeTaskFile(Oe).then((function(){tn(),e.onUpdate()})).catch((function(e){M.ZP.error("Something bad happened")}))},okText:"Yes",cancelText:"No",overlayInnerStyle:{borderRadius:"0.25rem"},children:(0,$.jsx)("div",{title:"Delete task",onClick:function(){We(n.id)},className:C,children:(0,$.jsx)(v.Z,{style:{fontSize:14,color:"var(--color-light)"}})})})]})}))})]}):null})]}),(0,$.jsxs)("div",{className:z,children:[(0,$.jsx)("div",{className:R,children:(0,$.jsx)("div",{className:x,children:(0,$.jsx)(Y.Z,{value:X.S7[null===on||void 0===on?void 0:on.status],style:{fontSize:"var(--font-size-sm)",background:X.Lw[null===on||void 0===on?void 0:on.status],borderRadius:"0.25rem",border:"none"},onChange:function(n){_e.updateRecord({status:Number(n)},Number(null===on||void 0===on?void 0:on.id)).then((function(o){o&&(sn((0,s.Z)((0,s.Z)({},on),{},{status:Number(n)})),e.onUpdate())}))},bordered:!1,options:null===(I=Object.entries(X.DM))||void 0===I?void 0:I.map((function(e){var n=(0,l.Z)(e,2),o=n[0];return{label:n[1],value:o}})),dropdownStyle:{borderRadius:"0.25rem",minWidth:120}})})}),(0,$.jsx)("div",{className:D,children:(0,$.jsx)("div",{children:(0,$.jsx)("b",{children:"Details"})})}),(0,$.jsxs)("div",{className:A,children:[(0,$.jsxs)("div",{className:F,children:[(0,$.jsx)("div",{className:L,children:(0,$.jsx)("b",{children:"Assignees"})}),(0,$.jsxs)("div",{className:P,style:{display:"flex",gap:"0.5rem",flexDirection:"column"},children:[null===on||void 0===on?void 0:on.TaskMembers.map((function(e){var n=e.User;return(0,$.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center",justifyContent:"space-between"},onMouseEnter:function(){return Qe((0,i.Z)({},null===n||void 0===n?void 0:n.uuid,!0))},onMouseLeave:function(){return Qe((0,i.Z)({},null===n||void 0===n?void 0:n.uuid,!1))},children:[(0,$.jsx)(le.Z,{type:"user",user:n,children:(0,$.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,$.jsx)(G.C,{size:32,src:"".concat(K.lj).concat(null===n||void 0===n?void 0:n.profile),icon:(0,$.jsx)(p.Z,{}),style:{border:"1px solid var(--color-border)"}}),(0,$.jsx)("div",{children:"".concat(null===n||void 0===n?void 0:n.firstName," ").concat(null===n||void 0===n?void 0:n.lastName)})]})}),Ke[null===n||void 0===n?void 0:n.uuid]&&(0,$.jsx)(V.Z,{placement:"left",title:"Are you sure to remove this member?",onConfirm:function(){return e=null===n||void 0===n?void 0:n.id,void _e.removeTaskMembers(Number(null===on||void 0===on?void 0:on.id),e).then((function(e){var n;M.ZP.success(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message),tn(),xe()})).catch((function(e){var n,o,i=null===e||void 0===e||null===(n=e.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message;M.ZP.error(i)}));var e},okText:"Yes",cancelText:"No",children:(0,$.jsx)(re.DX,{style:{cursor:"pointer"},color:"var(--color-red-yp)"})})]},null===n||void 0===n?void 0:n.uuid)})),(0,$.jsx)(le.a,{showPopover:!1,placeholder:"Add Assignee",notFoundDescription:"No Assignee Found, Search with name",loading:null===Ve||void 0===Ve?void 0:Ve.loading,onSearch:function(e){return $e(e)},options:(null===Ve||void 0===Ve||null===(J=Ve.data)||void 0===J?void 0:J.map((function(e){var n,o,i,t;return{value:null===e||void 0===e||null===(n=e.User)||void 0===n?void 0:n.uuid,label:"".concat(null===e||void 0===e||null===(o=e.User)||void 0===o?void 0:o.firstName," ").concat(null===e||void 0===e||null===(i=e.User)||void 0===i?void 0:i.lastName),icon:(0,$.jsx)(G.C,{size:32,src:"".concat(K.lj).concat(null===e||void 0===e||null===(t=e.User)||void 0===t?void 0:t.profile),icon:(0,$.jsx)(p.Z,{})})}})))||[],onSelect:function(e){var n,o=Ve.data,i=null===o||void 0===o||null===(n=o.find((function(n){return(null===n||void 0===n?void 0:n.User.uuid)===e})))||void 0===n?void 0:n.User;ln({assignedTo:[null===i||void 0===i?void 0:i.id.toString()]})}})]})]}),(0,$.jsxs)("div",{className:F,children:[(0,$.jsx)("div",{className:L,children:(0,$.jsx)("b",{children:"Added by"})}),(0,$.jsx)("div",{className:P,children:on.AddedBy&&(0,$.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,$.jsx)(G.C,{size:32,style:{border:"0.5px solid var(--color-light-200)"},src:K.lj+(null===(ve=on.AddedBy)||void 0===ve?void 0:ve.profile),icon:(0,$.jsx)(p.Z,{})}),(0,$.jsx)("div",{children:"".concat(null===(pe=on.AddedBy)||void 0===pe?void 0:pe.firstName," ").concat(null===(he=on.AddedBy)||void 0===he?void 0:he.lastName)})]})})]})]})]})]})]}):(0,$.jsx)(ee,{})})}},1066:function(e,n){"use strict";n.Z={user_popover:"styles_user_popover__cpu4K",user_popover_background:"styles_user_popover_background__xAcw6",user_popover_content:"styles_user_popover_content__rN6nv",user_popover_content_name:"styles_user_popover_content_name__mDwQ8",user_popover_content_email:"styles_user_popover_content_email__6lP79",user_popover_content_phone:"styles_user_popover_content_phone__bZTcU",user_popover_content_extra:"styles_user_popover_content_extra__GT9TW",selectable_dropdown:"styles_selectable_dropdown__g0QoJ"}},93414:function(){},70172:function(){},2001:function(){},33779:function(){},66558:function(){},82258:function(){}}]);