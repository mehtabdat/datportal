"use strict";(self.webpackChunkdat_projects=self.webpackChunkdat_projects||[]).push([[9440],{19440:function(e,n,a){a.r(n),a.d(n,{default:function(){return M}});var t=a(29439),r=a(55291),o=a(47313),i=a(85554),u=function(e){return e.CREATE="createCountry",e.UPDATE="updateCountry",e.DELETE="deleteCountry",e.READ="readCountry",e.READ_ALL="readAllCountry",e}({}),d=a(34979),s=a(82626),c=a(18515),l=a(7532),p=a(1413),Z=a(25019),y=a(37831),f=a(60350),v="styles_actions__o4aqZ",h="styles_bg__red__VmNXw",g="styles_form__rYnoM",m="styles_footer__hkY8+",x=a(85336),b=a(12351),k=a(76670),j=a(74165),D=a(15861),C=a(49075),w=a(92661),P=a(32782),I=a(46417),R=function(e){var n=e.openModal,a=e.onCancel,r=e.onFinish,u=e.buttonLoading,d=e.initialValues,s=e.type,c=(0,i.I0)(),l=(0,i.v9)((function(e){return e.currencyReducer})).currencyDropdown,v=(0,i.v9)((function(e){return e.languageReducer})).languageDropdown,h=(0,i.v9)((function(e){return e.areaUnitReducer})).areaUnitDropdown,R=Z.Z.useForm(),N=(0,t.Z)(R,1)[0];return(0,o.useEffect)((function(){var e;c((0,k.yB)()),c(function(){var n=(0,D.Z)((0,j.Z)().mark((function n(a,t){var r,o,i,u;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t().currencyReducer.currencyData,a({type:w.IJ,payload:(0,p.Z)((0,p.Z)({},r),{},{loading:!0})}),n.prev=2,n.next=5,C.Z.get("currency");case 5:u=n.sent,a({type:w.IJ,payload:(0,p.Z)((0,p.Z)({},r),{},{loading:!1,data:null===u||void 0===u||null===(o=u.data)||void 0===o?void 0:o.data})}),a({type:w.$o,payload:null===u||void 0===u||null===(i=u.data)||void 0===i?void 0:i.data.map((function(e){return{value:e.id,label:"".concat(e.name,"(").concat(e.symbol,")")}}))}),e&&e(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(2),a({type:w.IJ,payload:(0,p.Z)((0,p.Z)({},r),{},{loading:!1,errorData:n.t0})});case 14:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e,a){return n.apply(this,arguments)}}()),c((0,P.cQ)())}),[c]),(0,o.useEffect)((function(){"edit"===s?N.setFieldsValue((0,p.Z)((0,p.Z)({},d),{},{isPublished:null===d||void 0===d?void 0:d.isPublished})):N.resetFields()}),[N,d,s]),(0,I.jsx)(f.Z,{visible:n,onCancel:a,titleText:"Add Country",showFooter:!1,children:(0,I.jsxs)(Z.Z,{className:g,onFinish:r,form:N,children:[(0,I.jsx)("div",{children:(0,I.jsx)(Z.Z.Item,{name:"name",rules:[{required:!0,message:"Please enter the country Name!"}],children:(0,I.jsx)(y.Z,{size:"w100",label:"Name",asterisk:!0})})}),(0,I.jsxs)("div",{children:[(0,I.jsx)(Z.Z.Item,{name:"isoCode",rules:[{required:!0,message:"Please enter the ISO Code!"}],children:(0,I.jsx)(y.Z,{size:"w100",label:"ISO Code",asterisk:!0})}),(0,I.jsx)(Z.Z.Item,{name:"shortName",rules:[{required:!0,message:"Please enter the Short Name!"}],children:(0,I.jsx)(y.Z,{size:"w100",label:"Short Name",asterisk:!0})})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)(Z.Z.Item,{name:"displayName",rules:[{required:!0,message:"Please enter the Display Name!"}],children:(0,I.jsx)(y.Z,{size:"w100",label:"Display Name",asterisk:!0})}),(0,I.jsx)(Z.Z.Item,{name:"phoneCode",rules:[{required:!0,message:"Please enter the Phone Code!"}],children:(0,I.jsx)(y.Z,{size:"w100",label:"Phone Code",asterisk:!0})})]}),(0,I.jsx)("div",{children:(0,I.jsx)(Z.Z.Item,{name:"flag",rules:[{required:!0,message:"Please enter the Flag!"}],children:(0,I.jsx)(y.Z,{size:"w100",label:"Flag",asterisk:!0})})}),(0,I.jsxs)("div",{children:[(0,I.jsx)(Z.Z.Item,{name:"defaultCurrency",children:(0,I.jsx)(x.Z,{label:"Default Currency",options:l})}),(0,I.jsx)(Z.Z.Item,{name:"defaultLanguage",children:(0,I.jsx)(x.Z,{label:"Default Language",options:v})})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)(Z.Z.Item,{name:"enabledLanguages",children:(0,I.jsx)(x.Z,{label:"Enabled Languages",mode:"multiple",options:v})}),(0,I.jsx)(Z.Z.Item,{name:"defaultAreaUnit",children:(0,I.jsx)(x.Z,{label:"Default Area Unit",options:h})})]}),(0,I.jsx)("div",{children:(0,I.jsx)(Z.Z.Item,{name:"isPublished",rules:[{required:!0,message:"Please select an option!"}],children:(0,I.jsx)(x.Z,{asterisk:!0,label:"Published",options:[{value:!0,label:"Yes"},{value:!1,label:"No"}]})})}),(0,I.jsxs)("div",{className:m,children:[(0,I.jsx)(b.Z,{size:"normal",fontSize:"sm",onClick:a,type:"plain",children:"Cancel"}),(0,I.jsx)(b.Z,{type:"primary",size:"normal",fontSize:"sm",htmlType:"submit",loading:u,children:"Submit"})]})]})})},N=a(5900),A=a(86345),S=a(41586),E=a(98676),_=a(98505),L=a(3109),Y=function(e){var n=e.record,a=e.openModal,t=e.permissions.deleteCountry,u=(0,i.I0)(),s=(0,o.useCallback)((function(e){!1!==t?u((0,d.wy)(e,(function(){return u((0,d.a)())}))):r.ZP.error("You don't have permission to delete this record, please contact your admin.")}),[u]);return(0,I.jsxs)("div",{className:v,children:[(0,I.jsx)("span",{onClick:function(){return a(n)},children:(0,I.jsx)("img",{src:"/images/editicon.svg",alt:""})}),(0,I.jsx)(N.Z,{placement:"top",title:"Are you sure?",onConfirm:function(){return s(n.id)},okText:"Yes",cancelText:"No",children:(0,I.jsx)(E.Z,{className:h})})]})};function z(e){var n=(0,i.v9)((function(e){return e.usersReducer})).userPermissions,a=e.tableData,t=e.tableLoading,o=e.openModal,u=(0,i.I0)(),s=(0,i.v9)((function(e){return e.countryReducer})).editCountryData,c=[{title:"S.No",dataIndex:"name",key:"index",render:function(e,n,a){return a+1}},{title:"Name",dataIndex:"name",key:"name",render:function(e,n,a){return(0,I.jsx)(L.Z,{color:"dark-sub",size:"sm",children:e})}},{title:"ISO Code",dataIndex:"isoCode",key:"isoCode",render:function(e,n,a){return(0,I.jsx)(L.Z,{color:"dark-sub",size:"sm",children:e})}},{title:"Phone Code",dataIndex:"phoneCode",key:"phoneCode",render:function(e,n,a){return(0,I.jsx)(L.Z,{color:"dark-sub",size:"sm",children:e})}},{title:"Flag",dataIndex:"flag",key:"flag",render:function(e,n){return(0,I.jsx)("span",{children:e})}},{title:"Added Date",dataIndex:"addedDate",key:"addedDate",render:function(e,n){return(0,I.jsx)(L.Z,{color:"dark-sub",size:"sm",children:(0,_.Ny)(e,"dd M,yy")})}},{title:"Published",dataIndex:"isPublished",key:"isPublished",render:function(e,a,t){return(0,I.jsx)(A.Z,{checked:e,onChange:function(e){return function(e,a){if(!1!==n.updateCountry){var t=new FormData;t.append("isPublished",e?"true":"false"),u((0,d.g5)(t,a,(function(){u((0,d.a)())})))}else r.ZP.error("You don't have permission to update this record, please contact your admin.")}(e,a)},loading:s.loading})}},{title:"Actions",dataIndex:"actions",key:"actions",render:function(e,a){return(0,I.jsx)(Y,{record:a,openModal:o,permissions:n})}}];return(0,I.jsx)(S.Z,{sticky:!0,dataSource:a,columns:c,pagination:!1,loading:t})}var U=a(3798),F=[{text:"Home",isLink:!0,path:"/"},{isLink:!0,text:"Site Settings",path:"/siteSettings"},{isLink:!1,text:"Country Settings"}];var M=function(){var e=(0,U.aY)(u),n=(0,i.v9)((function(e){return e.usersReducer})).userPermissions,a=n.readCountry,p=n.createCountry,Z=n.updateCountry,y=(0,i.I0)(),f=(0,o.useState)(!1),v=(0,t.Z)(f,2),h=v[0],g=v[1],m=(0,o.useState)("new"),x=(0,t.Z)(m,2),b=x[0],k=x[1],j=(0,o.useState)({id:""}),D=(0,t.Z)(j,2),C=D[0],w=D[1],P=(0,i.v9)((function(e){return e.countryReducer})),N=P.countryData,A=P.addCountryData,S=P.editCountryData;(0,o.useEffect)((function(){y((0,d.a)())}),[y]);var E=(0,o.useCallback)((function(){!1!==p?(k("new"),g(!h),w({id:""})):r.ZP.error("You don't have permission to create new record")}),[h]),_=(0,o.useCallback)((function(e){!1!==Z?(w(e),k("edit"),g(!h)):r.ZP.error("You don't have permission to edit record")}),[h]),L=(0,o.useCallback)((function(e){switch(b){case"new":!0===p?y((0,d.WO)(e,(function(){y((0,d.a)()),E()}))):r.ZP.error("You don't have permission to create new record");break;case"edit":!0===Z?y((0,d.g5)(e,C,(function(){y((0,d.a)()),E()}))):r.ZP.error("You don't have permission to edit record")}}),[b,y,E,C]);return(0,I.jsxs)(l.default,{permissionSlug:e,children:[(0,I.jsx)(s.mr,{heading:"Countries",buttonText:"Add New Country",onButtonClick:E,breadCrumbData:F,showAdd:!0===p}),!0===a&&(0,I.jsx)(z,{tableData:N.data,tableLoading:N.loading,openModal:_}),!1===a&&(0,I.jsx)(c.a$,{mainMessage:"You don't have permission to view this data"}),(0,I.jsx)(R,{initialValues:C,type:b,onFinish:L,onCancel:E,openModal:h,buttonLoading:A.loading||S.loading})]})}},32782:function(e,n,a){a.d(n,{C3:function(){return c},cQ:function(){return s},fD:function(){return p},oJ:function(){return l}});var t=a(74165),r=a(1413),o=a(15861),i=a(49075),u=a(21955),d=a(40169),s=function(e){return function(){var n=(0,o.Z)((0,t.Z)().mark((function n(a,o){var s,c,l,p,Z,y;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=o().areaUnitReducer,c=s.areaUnitData,l=s.singleAreaUnitData,p=e?l:c,Z=e?u.pt:u.Fn,y=e?"area-unit/".concat(e):"area-unit",a({type:Z,payload:(0,r.Z)((0,r.Z)({},p),{},{loading:!0})}),n.prev=5,n.next=8,i.Z.get(y).then((function(e){var n;a({type:Z,payload:(0,r.Z)((0,r.Z)({},p),{},{loading:!1,data:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data})})})).catch((function(e){var n=(0,d.P)(e);a({type:Z,payload:(0,r.Z)((0,r.Z)({},p),{},{loading:!1,error:!0,errorData:n})})}));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(5),a({type:Z,payload:(0,r.Z)((0,r.Z)({},p),{},{loading:!1,errorData:n.t0})});case 13:case"end":return n.stop()}}),n,null,[[5,10]])})));return function(e,a){return n.apply(this,arguments)}}()},c=function(e,n){return function(){var a=(0,o.Z)((0,t.Z)().mark((function a(o,s){var c;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=s().areaUnitReducer.addAreaUnitData,o({type:u.RD,payload:(0,r.Z)((0,r.Z)({},c),{},{loading:!0})}),a.prev=2,a.next=5,i.Z.post("area-unit",e).then((function(e){var a;o({type:u.RD,payload:(0,r.Z)((0,r.Z)({},c),{},{loading:!1,data:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data})}),n&&n()})).catch((function(e){var n=(0,d.P)(e);o({type:u.RD,payload:(0,r.Z)((0,r.Z)({},c),{},{loading:!1,errorData:n})}),setTimeout((function(){o({type:u.RD,payload:(0,r.Z)((0,r.Z)({},c),{},{loading:!1,errorData:{}})})}),5e3)}));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),o({type:u.RD,payload:(0,r.Z)((0,r.Z)({},c),{},{loading:!1,errorData:a.t0})});case 10:case"end":return a.stop()}}),a,null,[[2,7]])})));return function(e,n){return a.apply(this,arguments)}}()},l=function(e,n,a){return function(){var s=(0,o.Z)((0,t.Z)().mark((function o(s,c){var l;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=c().areaUnitReducer.editAreaUnitData,s({type:u.E2,payload:(0,r.Z)((0,r.Z)({},l),{},{loading:!0})}),t.prev=2,t.next=5,i.Z.patch("area-unit/".concat(null===n||void 0===n?void 0:n.id),e).then((function(e){var n;s({type:u.E2,payload:(0,r.Z)((0,r.Z)({},l),{},{loading:!1,data:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data})}),a&&a()})).catch((function(e){var n=(0,d.P)(e);s({type:u.E2,payload:(0,r.Z)((0,r.Z)({},l),{},{loading:!1,errorData:n})})}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),s({type:u.E2,payload:(0,r.Z)((0,r.Z)({},l),{},{loading:!1,errorData:t.t0})});case 10:case"end":return t.stop()}}),o,null,[[2,7]])})));return function(e,n){return s.apply(this,arguments)}}()},p=function(e,n){return function(){var a=(0,o.Z)((0,t.Z)().mark((function a(o,s){var c;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=s().areaUnitReducer.deleteAreaUnitData,o({type:u.Vm,payload:(0,r.Z)((0,r.Z)({},c),{},{loading:!0})}),a.prev=2,a.next=5,i.Z.delete("area-unit/".concat(e)).then((function(e){var a;o({type:u.Vm,payload:(0,r.Z)((0,r.Z)({},c),{},{loading:!1,data:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data})}),n&&n()})).catch((function(e){var n=(0,d.P)(e);o({type:u.Vm,payload:(0,r.Z)((0,r.Z)({},c),{},{loading:!1,errorData:n})})}));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),o({type:u.Vm,payload:(0,r.Z)((0,r.Z)({},c),{},{loading:!1,errorData:a.t0})});case 10:case"end":return a.stop()}}),a,null,[[2,7]])})));return function(e,n){return a.apply(this,arguments)}}()}},76670:function(e,n,a){a.d(n,{yB:function(){return s}});var t=a(74165),r=a(1413),o=a(15861),i=a(49075),u=a(71294),d=a(40169),s=function(e){return function(){var n=(0,o.Z)((0,t.Z)().mark((function n(a,o){var s,c,l,p,Z,y;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=o().languageReducer,c=s.languageData,l=s.singleLanguageData,p=e?c:l,Z=e?u.FE:u.H8,y=e?"language/".concat(e):"language",a({type:Z,payload:(0,r.Z)((0,r.Z)({},p),{},{loading:!0})}),n.prev=5,n.next=8,i.Z.get(y).then((function(e){var n;a({type:Z,payload:(0,r.Z)((0,r.Z)({},p),{},{loading:!1,data:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data})})})).catch((function(e){var n=(0,d.P)(e);a({type:Z,payload:(0,r.Z)((0,r.Z)({},p),{},{loading:!1,error:!0,errorData:n})})}));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(5),a({type:Z,payload:(0,r.Z)((0,r.Z)({},p),{},{loading:!1,errorData:n.t0})});case 13:case"end":return n.stop()}}),n,null,[[5,10]])})));return function(e,a){return n.apply(this,arguments)}}()}},34979:function(e,n,a){a.d(n,{WO:function(){return c},a:function(){return d},g5:function(){return l},wy:function(){return s}});var t=a(74165),r=a(1413),o=a(15861),i=a(49075),u=a(69848),d=function(e){return function(){var n=(0,o.Z)((0,t.Z)().mark((function n(a,o){var d,s,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d=o().countryReducer.countryData,a({type:u.ZK,payload:(0,r.Z)((0,r.Z)({},d),{},{loading:!0})}),n.prev=2,n.next=5,i.Z.get("country");case 5:c=n.sent,a({type:u.ZK,payload:(0,r.Z)((0,r.Z)({},d),{},{loading:!1,data:null===c||void 0===c||null===(s=c.data)||void 0===s?void 0:s.data})}),e&&e(),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),a({type:u.ZK,payload:(0,r.Z)((0,r.Z)({},d),{},{loading:!1,errorData:n.t0})});case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e,a){return n.apply(this,arguments)}}()},s=function(e,n){return function(){var a=(0,o.Z)((0,t.Z)().mark((function a(o,d){var s,c,l;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=d().countryReducer.deleteCountryData,o({type:u.as,payload:(0,r.Z)((0,r.Z)({},s),{},{loading:!0})}),a.prev=2,a.next=5,i.Z.delete("country/".concat(e));case 5:l=a.sent,o({type:u.as,payload:(0,r.Z)((0,r.Z)({},s),{},{loading:!1,data:null===l||void 0===l||null===(c=l.data)||void 0===c?void 0:c.data})}),n&&n(),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),o({type:u.as,payload:(0,r.Z)((0,r.Z)({},s),{},{loading:!1,errorData:a.t0})});case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e,n){return a.apply(this,arguments)}}()},c=function(e,n){return function(){var a=(0,o.Z)((0,t.Z)().mark((function a(o,d){var s,c,l;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=d().countryReducer.addCountryData,o({type:u.jb,payload:(0,r.Z)((0,r.Z)({},s),{},{loading:!0})}),a.prev=2,a.next=5,i.Z.post("country",e);case 5:l=a.sent,o({type:u.jb,payload:(0,r.Z)((0,r.Z)({},s),{},{loading:!1,data:null===l||void 0===l||null===(c=l.data)||void 0===c?void 0:c.data})}),n&&n(),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),o({type:u.jb,payload:(0,r.Z)((0,r.Z)({},s),{},{loading:!1,errorData:a.t0})});case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e,n){return a.apply(this,arguments)}}()},l=function(e,n,a){return function(){var d=(0,o.Z)((0,t.Z)().mark((function o(d,s){var c,l,p;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=s().countryReducer.editCountryData,d({type:u.Yg,payload:(0,r.Z)((0,r.Z)({},c),{},{loading:!0})}),t.prev=2,t.next=5,i.Z.patch("country/".concat(null===n||void 0===n?void 0:n.id),e);case 5:p=t.sent,d({type:u.Yg,payload:(0,r.Z)((0,r.Z)({},c),{},{loading:!1,data:null===p||void 0===p||null===(l=p.data)||void 0===l?void 0:l.data})}),a&&a(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),d({type:u.Yg,payload:(0,r.Z)((0,r.Z)({},c),{},{loading:!1,errorData:t.t0})});case 13:case"end":return t.stop()}}),o,null,[[2,10]])})));return function(e,n){return d.apply(this,arguments)}}()}}}]);