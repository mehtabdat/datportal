"use strict";(self.webpackChunkdat_projects=self.webpackChunkdat_projects||[]).push([[7655],{7655:function(e,t,n){n.d(t,{Z:function(){return $}});var l=n(4942),r=n(93433),a=n(87462),o=n(15671),i=n(43144),c=n(60136),s=n(27277),u=n(46123),d=n.n(u),f=n(47313),h=n(74714),m=n(82926),v=n(4431),p=n(3267),g=n(35620),y=n(55681),S=n(52546),C=n(205),b=n(32697),Z=n(78267),k=n(48138),I=n(71002),E=n(49958),L=n(56927),R=n(37130),A=n(97484),K=function(e){var t,n,r=e.renderedText,o=e.renderedEl,i=e.item,c=e.checked,s=e.disabled,u=e.prefixCls,h=e.onClick,m=e.onRemove,v=e.showRemove,y=d()((t={},(0,l.Z)(t,"".concat(u,"-content-item"),!0),(0,l.Z)(t,"".concat(u,"-content-item-disabled"),s||i.disabled),(0,l.Z)(t,"".concat(u,"-content-item-checked"),c),t));return"string"!==typeof r&&"number"!==typeof r||(n=String(r)),f.createElement(p.Z,{componentName:"Transfer",defaultLocale:g.Z.Transfer},(function(e){var t={className:y,title:n},l=f.createElement("span",{className:"".concat(u,"-content-item-text")},o);return v?f.createElement("li",(0,a.Z)({},t),l,f.createElement(A.Z,{disabled:s||i.disabled,className:"".concat(u,"-content-item-remove"),"aria-label":e.remove,onClick:function(){null===m||void 0===m||m(i)}},f.createElement(R.Z,null))):(t.onClick=s||i.disabled?void 0:function(){return h(i)},f.createElement("li",(0,a.Z)({},t),f.createElement(b.Z,{className:"".concat(u,"-checkbox"),checked:c,disabled:s||i.disabled}),l))}))},w=f.memo(K),x=(0,L.b)("handleFilter","handleClear","checkedKeys");function T(e){if(!e)return null;var t={pageSize:10,simple:!0,showSizeChanger:!1,showLessItems:!1};return"object"===(0,I.Z)(e)?(0,a.Z)((0,a.Z)({},t),e):t}var F=function(e){(0,c.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).state={current:1},e.onItemSelect=function(t){var n=e.props,l=n.onItemSelect,r=n.selectedKeys.includes(t.key);l(t.key,!r)},e.onItemRemove=function(t){var n=e.props.onItemRemove;null===n||void 0===n||n([t.key])},e.onPageChange=function(t){e.setState({current:t})},e.getItems=function(){var t=e.state.current,n=e.props,l=n.pagination,r=n.filteredRenderItems,a=T(l),o=r;return a&&(o=r.slice((t-1)*a.pageSize,t*a.pageSize)),o},e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this,t=this.state.current,n=this.props,r=n.prefixCls,a=n.onScroll,o=n.filteredRenderItems,i=n.selectedKeys,c=n.disabled,s=n.showRemove,u=T(n.pagination),h=null;return u&&(h=f.createElement(E.Z,{simple:u.simple,showSizeChanger:u.showSizeChanger,showLessItems:u.showLessItems,size:"small",disabled:c,className:"".concat(r,"-pagination"),total:o.length,pageSize:u.pageSize,current:t,onChange:this.onPageChange})),f.createElement(f.Fragment,null,f.createElement("ul",{className:d()("".concat(r,"-content"),(0,l.Z)({},"".concat(r,"-content-show-remove"),s)),onScroll:a},this.getItems().map((function(t){var n=t.renderedEl,l=t.renderedText,a=t.item,o=a.disabled,u=i.includes(a.key);return f.createElement(w,{disabled:c||o,key:a.key,item:a,renderedText:l,renderedEl:n,checked:u,prefixCls:r,onClick:e.onItemSelect,onRemove:e.onItemRemove,showRemove:s})}))),h)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.filteredRenderItems,l=e.pagination,r=t.current,a=T(l);if(a){var o=Math.ceil(n.length/a.pageSize);if(r>o)return{current:o}}return null}}]),n}(f.Component),N=F,z=n(83119),B=n(86136);function D(e){var t=e.placeholder,n=void 0===t?"":t,l=e.value,r=e.prefixCls,a=e.disabled,o=e.onChange,i=e.handleClear,c=f.useCallback((function(e){null===o||void 0===o||o(e),""===e.target.value&&(null===i||void 0===i||i())}),[o]);return f.createElement(B.Z,{placeholder:n,className:r,value:l,onChange:c,disabled:a,allowClear:!0,prefix:f.createElement(z.Z,null)})}var O=function(){return null};function P(e){return e.filter((function(e){return!e.disabled})).map((function(e){return e.key}))}var j=function(e){(0,c.Z)(n,e);var t=(0,s.Z)(n);function n(e){var l;return(0,o.Z)(this,n),(l=t.call(this,e)).defaultListBodyRef=f.createRef(),l.handleFilter=function(e){var t=l.props.handleFilter,n=e.target.value;l.setState({filterValue:n}),t(e)},l.handleClear=function(){var e=l.props.handleClear;l.setState({filterValue:""}),e()},l.matchFilter=function(e,t){var n=l.state.filterValue,r=l.props.filterOption;return r?r(n,t):e.includes(n)},l.renderListBody=function(e,t){var n=e?e(t):null,r=!!n;return r||(n=f.createElement(N,(0,a.Z)({ref:l.defaultListBodyRef},t))),{customize:r,bodyContent:n}},l.renderItem=function(e){var t,n=l.props.render,r=(void 0===n?O:n)(e),a=!(!(t=r)||(0,k.l$)(t)||"[object Object]"!==Object.prototype.toString.call(t));return{renderedText:a?r.value:r,renderedEl:a?r.label:r,item:e}},l.getSelectAllLabel=function(e,t){var n=l.props,r=n.itemsUnit,a=n.itemUnit,o=n.selectAllLabel;if(o)return"function"===typeof o?o({selectedCount:e,totalCount:t}):o;var i=t>1?r:a;return f.createElement(f.Fragment,null,(e>0?"".concat(e,"/"):"")+t," ",i)},l.state={filterValue:""},l}return(0,i.Z)(n,[{key:"componentWillUnmount",value:function(){clearTimeout(this.triggerScrollTimer)}},{key:"getCheckStatus",value:function(e){var t=this.props.checkedKeys;return 0===t.length?"none":e.every((function(e){return t.includes(e.key)||!!e.disabled}))?"all":"part"}},{key:"getFilteredItems",value:function(e,t){var n=this,l=[],r=[];return e.forEach((function(e){var a=n.renderItem(e),o=a.renderedText;if(t&&!n.matchFilter(o,e))return null;l.push(e),r.push(a)})),{filteredItems:l,filteredRenderItems:r}}},{key:"getListBody",value:function(e,t,n,l,r,o,i,c,s,u){var h,m=this,v=s?f.createElement("div",{className:"".concat(e,"-body-search-wrapper")},f.createElement(D,{prefixCls:"".concat(e,"-search"),onChange:this.handleFilter,handleClear:this.handleClear,placeholder:t,value:n,disabled:u})):null,p=this.renderListBody(c,(0,a.Z)((0,a.Z)({},(0,C.Z)(this.props,x)),{filteredItems:l,filteredRenderItems:o,selectedKeys:i})),g=p.bodyContent;return h=p.customize?f.createElement("div",{className:"".concat(e,"-body-customize-wrapper")},g):l.length?g:f.createElement("div",{className:"".concat(e,"-body-not-found")},function(){var e="left"===m.props.direction?0:1;return Array.isArray(r)?r[e]:r}()),f.createElement("div",{className:d()(s?"".concat(e,"-body ").concat(e,"-body-with-search"):"".concat(e,"-body"))},v,h)}},{key:"getCheckBox",value:function(e){var t=e.filteredItems,n=e.onItemSelectAll,l=e.disabled,r=e.prefixCls,a=this.getCheckStatus(t),o="all"===a;return f.createElement(b.Z,{disabled:l,checked:o,indeterminate:"part"===a,className:"".concat(r,"-checkbox"),onChange:function(){n(t.filter((function(e){return!e.disabled})).map((function(e){return e.key})),!o)}})}},{key:"render",value:function(){var e,t,n=this,r=this.state.filterValue,a=this.props,o=a.prefixCls,i=a.dataSource,c=void 0===i?[]:i,s=a.titleText,u=void 0===s?"":s,h=a.checkedKeys,m=a.disabled,v=a.footer,p=a.showSearch,g=void 0!==p&&p,y=a.style,C=a.searchPlaceholder,b=a.notFoundContent,k=a.selectAll,I=a.selectCurrent,E=a.selectInvert,L=a.removeAll,R=a.removeCurrent,A=a.renderList,K=a.onItemSelectAll,w=a.onItemRemove,x=a.showSelectAll,T=void 0===x||x,F=a.showRemove,N=a.pagination,z=a.direction,B=v&&(v.length<2?v(this.props):v(this.props,{direction:z})),D=d()(o,(e={},(0,l.Z)(e,"".concat(o,"-with-pagination"),!!N),(0,l.Z)(e,"".concat(o,"-with-footer"),!!B),e)),O=this.getFilteredItems(c,r),j=O.filteredItems,V=O.filteredRenderItems,W=this.getListBody(o,C,r,j,b,V,h,A,g,m),U=B?f.createElement("div",{className:"".concat(o,"-footer")},B):null,M=!F&&!N&&this.getCheckBox({filteredItems:j,onItemSelectAll:K,disabled:m,prefixCls:o});t=F?[N?{key:"removeCurrent",onClick:function(){var e,t=P(((null===(e=n.defaultListBodyRef.current)||void 0===e?void 0:e.getItems())||[]).map((function(e){return e.item})));null===w||void 0===w||w(t)},label:R}:null,{key:"removeAll",onClick:function(){null===w||void 0===w||w(P(j))},label:L}].filter((function(e){return e})):[{key:"selectAll",onClick:function(){var e=P(j);K(e,e.length!==h.length)},label:k},N?{key:"selectCurrent",onClick:function(){var e,t=(null===(e=n.defaultListBodyRef.current)||void 0===e?void 0:e.getItems())||[];K(P(t.map((function(e){return e.item}))),!0)},label:I}:null,{key:"selectInvert",onClick:function(){var e,t;t=P(N?((null===(e=n.defaultListBodyRef.current)||void 0===e?void 0:e.getItems())||[]).map((function(e){return e.item})):j);var l=new Set(h),r=[],a=[];t.forEach((function(e){l.has(e)?a.push(e):r.push(e)})),K(r,!0),K(a,!1)},label:E}];var _=f.createElement(Z.Z,{className:"".concat(o,"-header-dropdown"),menu:{items:t},disabled:m},f.createElement(S.Z,null));return f.createElement("div",{className:D,style:y},f.createElement("div",{className:"".concat(o,"-header")},T?f.createElement(f.Fragment,null,M,_):null,f.createElement("span",{className:"".concat(o,"-header-selected")},this.getSelectAllLabel(h.length,j.length)),f.createElement("span",{className:"".concat(o,"-header-title")},u)),W,U)}}]),n}(f.PureComponent),V=n(97556),W=n(60756),U=n(59491),M=function(e){var t=e.disabled,n=e.moveToLeft,l=e.moveToRight,r=e.leftArrowText,a=void 0===r?"":r,o=e.rightArrowText,i=void 0===o?"":o,c=e.leftActive,s=e.rightActive,u=e.className,d=e.style,h=e.direction,m=e.oneWay;return f.createElement("div",{className:u,style:d},f.createElement(U.Z,{type:"primary",size:"small",disabled:t||!s,onClick:l,icon:"rtl"!==h?f.createElement(W.Z,null):f.createElement(V.Z,null)},i),!m&&f.createElement(U.Z,{type:"primary",size:"small",disabled:t||!c,onClick:n,icon:"rtl"!==h?f.createElement(V.Z,null):f.createElement(W.Z,null)},a))},_=function(e){(0,c.Z)(n,e);var t=(0,s.Z)(n);function n(e){var l;(0,o.Z)(this,n),(l=t.call(this,e)).separatedDataSource=null,l.setStateKeys=function(e,t){"left"===e?l.setState((function(e){var n=e.sourceSelectedKeys;return{sourceSelectedKeys:"function"===typeof t?t(n||[]):t}})):l.setState((function(e){var n=e.targetSelectedKeys;return{targetSelectedKeys:"function"===typeof t?t(n||[]):t}}))},l.getLocale=function(e,t){var n=l.props.locale,r=void 0===n?{}:n;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),{notFoundContent:t("Transfer")}),r)},l.moveTo=function(e){var t=l.props,n=t.targetKeys,r=void 0===n?[]:n,a=t.dataSource,o=void 0===a?[]:a,i=t.onChange,c=l.state,s=c.sourceSelectedKeys,u=c.targetSelectedKeys,d=("right"===e?s:u).filter((function(e){return!o.some((function(t){return!(e!==t.key||!t.disabled)}))})),f="right"===e?d.concat(r):r.filter((function(e){return!d.includes(e)})),h="right"===e?"left":"right";l.setStateKeys(h,[]),l.handleSelectChange(h,[]),null===i||void 0===i||i(f,e,d)},l.moveToLeft=function(){return l.moveTo("left")},l.moveToRight=function(){return l.moveTo("right")},l.onItemSelectAll=function(e,t,n){l.setStateKeys(e,(function(a){var o=[];return o=n?Array.from(new Set([].concat((0,r.Z)(a),(0,r.Z)(t)))):a.filter((function(e){return!t.includes(e)})),l.handleSelectChange(e,o),o}))},l.onLeftItemSelectAll=function(e,t){return l.onItemSelectAll("left",e,t)},l.onRightItemSelectAll=function(e,t){return l.onItemSelectAll("right",e,t)},l.handleFilter=function(e,t){var n=l.props.onSearch,r=t.target.value;null===n||void 0===n||n(e,r)},l.handleLeftFilter=function(e){return l.handleFilter("left",e)},l.handleRightFilter=function(e){return l.handleFilter("right",e)},l.handleClear=function(e){var t=l.props.onSearch;null===t||void 0===t||t(e,"")},l.handleLeftClear=function(){return l.handleClear("left")},l.handleRightClear=function(){return l.handleClear("right")},l.onItemSelect=function(e,t,n){var a=l.state,o=a.sourceSelectedKeys,i=a.targetSelectedKeys,c="left"===e?(0,r.Z)(o):(0,r.Z)(i),s=c.indexOf(t);s>-1&&c.splice(s,1),n&&c.push(t),l.handleSelectChange(e,c),l.props.selectedKeys||l.setStateKeys(e,c)},l.onLeftItemSelect=function(e,t){return l.onItemSelect("left",e,t)},l.onRightItemSelect=function(e,t){return l.onItemSelect("right",e,t)},l.onRightItemRemove=function(e){var t=l.props,n=t.targetKeys,a=void 0===n?[]:n,o=t.onChange;l.setStateKeys("right",[]),null===o||void 0===o||o(a.filter((function(t){return!e.includes(t)})),"left",(0,r.Z)(e))},l.handleScroll=function(e,t){var n=l.props.onScroll;null===n||void 0===n||n(e,t)},l.handleLeftScroll=function(e){return l.handleScroll("left",e)},l.handleRightScroll=function(e){return l.handleScroll("right",e)},l.handleListStyle=function(e,t){return"function"===typeof e?e({direction:t}):e};var i=e.selectedKeys,c=void 0===i?[]:i,s=e.targetKeys,u=void 0===s?[]:s;return l.state={sourceSelectedKeys:c.filter((function(e){return!u.includes(e)})),targetSelectedKeys:c.filter((function(e){return u.includes(e)}))},l}return(0,i.Z)(n,[{key:"getTitles",value:function(e){var t,n;return null!==(n=null!==(t=this.props.titles)&&void 0!==t?t:e.titles)&&void 0!==n?n:[]}},{key:"handleSelectChange",value:function(e,t){var n=this.state,l=n.sourceSelectedKeys,r=n.targetSelectedKeys,a=this.props.onSelectChange;a&&("left"===e?a(t,r):a(l,t))}},{key:"separateDataSource",value:function(){var e=this.props,t=e.dataSource,n=void 0===t?[]:t,l=e.rowKey,r=e.targetKeys,o=void 0===r?[]:r,i=[],c=new Array(o.length);return n.forEach((function(e){l&&(e=(0,a.Z)((0,a.Z)({},e),{key:l(e)}));var t=o.indexOf(e.key);-1!==t?c[t]=e:i.push(e)})),{leftDataSource:i,rightDataSource:c}}},{key:"render",value:function(){var e=this;return f.createElement(p.Z,{componentName:"Transfer",defaultLocale:g.Z.Transfer},(function(t){return f.createElement(h.C,null,(function(n){var r=n.getPrefixCls,o=n.renderEmpty,i=n.direction;return f.createElement(v.aM.Consumer,null,(function(n){var c,s=n.hasFeedback,u=n.status,h=e.props,v=h.prefixCls,p=h.className,g=h.disabled,S=h.operations,C=void 0===S?[]:S,b=h.showSearch,Z=void 0!==b&&b,k=h.footer,I=h.style,E=h.listStyle,L=void 0===E?{}:E,R=h.operationStyle,A=h.filterOption,K=h.render,w=h.children,x=h.showSelectAll,T=h.oneWay,F=h.pagination,N=h.status,z=r("transfer",v),B=e.getLocale(t,o||m.Z),D=e.state,O=D.sourceSelectedKeys,P=D.targetSelectedKeys,V=(0,y.F)(u,N),W=!w&&F,U=e.separateDataSource(),_=U.leftDataSource,$=U.rightDataSource,q=P.length>0,G=O.length>0,H=d()(z,(c={},(0,l.Z)(c,"".concat(z,"-disabled"),g),(0,l.Z)(c,"".concat(z,"-customize-list"),!!w),(0,l.Z)(c,"".concat(z,"-rtl"),"rtl"===i),c),(0,y.Z)(z,V,s),p),J=e.getTitles(B),Q=e.props.selectAllLabels||[];return f.createElement("div",{className:H,style:I},f.createElement(j,(0,a.Z)({prefixCls:"".concat(z,"-list"),titleText:null===J||void 0===J?void 0:J[0],dataSource:_,filterOption:A,style:e.handleListStyle(L,"left"),checkedKeys:O,handleFilter:e.handleLeftFilter,handleClear:e.handleLeftClear,onItemSelect:e.onLeftItemSelect,onItemSelectAll:e.onLeftItemSelectAll,render:K,showSearch:Z,renderList:w,footer:k,onScroll:e.handleLeftScroll,disabled:g,direction:"rtl"===i?"right":"left",showSelectAll:x,selectAllLabel:Q[0],pagination:W},B)),f.createElement(M,{className:"".concat(z,"-operation"),rightActive:G,rightArrowText:C[0],moveToRight:e.moveToRight,leftActive:q,leftArrowText:C[1],moveToLeft:e.moveToLeft,style:R,disabled:g,direction:i,oneWay:T}),f.createElement(j,(0,a.Z)({prefixCls:"".concat(z,"-list"),titleText:null===J||void 0===J?void 0:J[1],dataSource:$,filterOption:A,style:e.handleListStyle(L,"right"),checkedKeys:P,handleFilter:e.handleRightFilter,handleClear:e.handleRightClear,onItemSelect:e.onRightItemSelect,onItemSelectAll:e.onRightItemSelectAll,onItemRemove:e.onRightItemRemove,render:K,showSearch:Z,renderList:w,footer:k,onScroll:e.handleRightScroll,disabled:g,direction:"rtl"===i?"left":"right",showSelectAll:x,selectAllLabel:Q[1],showRemove:T,pagination:W},B)))}))}))}))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.selectedKeys,n=e.targetKeys;e.pagination,e.children;if(t){var l=n||[];return{sourceSelectedKeys:t.filter((function(e){return!l.includes(e)})),targetSelectedKeys:t.filter((function(e){return l.includes(e)}))}}return null}}]),n}(f.Component);_.List=j,_.Operation=M,_.Search=D;var $=_}}]);