"use strict";(self.webpackChunkdat_projects=self.webpackChunkdat_projects||[]).push([[9157],{6050:function(e,n,t){var o=t(72652),i=t(80235),a=t(40096),r=t(48897),d=t(46417);n.Z=function(e){var n=e.file,t=e.loading,s=e.tip,l=a.Z.getLocalAccessToken();return(0,d.jsx)("div",{style:{overflow:"hidden",height:"100%"},children:t?(0,d.jsx)(o.Z,{size:"large",style:{gap:"1rem"},className:"w-100 h-100 d-flex justify-center align-center font-size-lg",tip:s||"Please wait while we are preparing the file..."}):(0,d.jsx)(d.Fragment,{children:n?(0,d.jsx)("iframe",{src:"".concat(r.Q7).concat(n,"?authKey=").concat(l),style:{width:"100%",height:"100%"},title:"Preview File"}):(0,d.jsx)("div",{className:"w-100 h-100 d-flex justify-center align-center font-size-lg",children:(0,d.jsx)(i.Z,{description:"No PDF found"})})})})}},67194:function(e,n,t){t.d(n,{i:function(){return P}});var o=t(45987),i=t(1413),a=t(93433),r=t(29439),d=t(31513),s=t(25019),l=t(55291),c=t(39180),u=t(14254),v=t(98276),m=t(82626),f=t(3113),h=t(49355),p=t(47313),g=t(3798),_=t(46646),Z=t(40169),y=t(48297),x=t(59816),j=t(42623),b=t(37936),N=t(46417),w=["phoneCode","phone"],C=d.Z.Option,P=function(e){var n,t=e.openModal,P=e.onCancel,I=e.type,S=e.record,k=e.reloadTableData,R=e.permissions,T=R.createClient,z=R.updateClient,A=e.callback,F=s.Z.useForm(),D=(0,r.Z)(F,1)[0],L=new y.V,B=(0,p.useMemo)((function(){return new x.Y}),[]),E=(0,p.useState)(),M=(0,r.Z)(E,2),q=M[0],O=M[1],U=(0,p.useState)(),Y=(0,r.Z)(U,2),V=Y[0],Q=Y[1],X=(0,p.useState)(""),H=(0,r.Z)(X,2),W=H[0],$=H[1],G=(0,j.N)(W,500),K=(0,p.useState)([]),J=(0,r.Z)(K,2),ee=J[0],ne=J[1],te=(0,p.useCallback)((function(){G&&L.findPublished({name:G,type:1}).then((function(e){ne((function(n){var t,o,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.filter((function(e){return!(null!==n&&void 0!==n&&n.find((function(n){return n.id===e.id})))}));return[].concat((0,a.Z)(n),(0,a.Z)(i))}))})).catch((function(e){l.ZP.error(e.response.data.message)}))}),[G]);(0,p.useEffect)((function(){te()}),[te]);var oe=(0,p.useState)([]),ie=(0,r.Z)(oe,2),ae=ie[0],re=ie[1],de=(0,p.useCallback)((function(){B.getAvailableRecords().then((function(e){e.data&&e.data.data&&re(e.data.data)}))}),[B]),se=function(e){var n=(0,Z.P)(e);if("string"==typeof n.message)O((0,i.Z)((0,i.Z)({},q),{},{error:n.message}));else{var t=(0,_.O)(n.message,[]);D.setFields(t),O((0,i.Z)((0,i.Z)({},q),{},{error:""}))}},le=(0,p.useCallback)((function(){L.getRecordById(S).then((function(e){if(e.data&&e.data.data){var n,t,o=e.data.data.type,a=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.companyId;D.setFieldsValue((0,i.Z)((0,i.Z)({},e.data.data),{},{type:1===o?b.IX.company:b.IX.individual})),O((0,i.Z)((0,i.Z)({},e.data),{},{loading:!1})),Q(1===o?b.IX.company:b.IX.individual),a&&L.getRecordById(a).then((function(e){var n;ne([null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data])})).catch((function(e){l.ZP.error(e.response.data.message)}))}})).catch((function(e){se(e)}))}),[D,S,L]);(0,p.useEffect)((function(){"edit"===I?(O({loading:!0}),le(),de()):(D.resetFields(),de())}),[]);return(0,N.jsx)(m.P0,{visible:t,closable:!0,onCancel:P,titleText:"edit"===I?"Edit Client":"Add New Client",showFooter:!1,children:null!==q&&void 0!==q&&q.loading?(0,N.jsx)(h.Z,{items:3}):(0,N.jsxs)(s.Z,{className:f.Z.form,onFinish:function(e){O((0,i.Z)((0,i.Z)({},q),{},{buttonLoading:!0}));var n=e.phoneCode,t=e.phone,a=(0,o.Z)(e,w);switch(I){case"edit":!0===z?L.updateRecord((0,i.Z)((0,i.Z)({},a),{},{type:e.type,phoneCode:n&&t?String(n):void 0,phone:String(t)}),S).then((function(e){k(),P(),O((function(e){return(0,i.Z)((0,i.Z)({},e),{},{buttonLoading:!1})}))})).catch((function(e){se(e),O((function(e){return(0,i.Z)((0,i.Z)({},e),{},{buttonLoading:!1})}))})):(O((function(e){return(0,i.Z)((0,i.Z)({},e),{},{buttonLoading:!1})})),l.ZP.error("You don't have permission to update this record"));break;case"new":!0===T?L.createRecord((0,i.Z)((0,i.Z)({},a),{},{type:e.type,phoneCode:n&&t?String(n):void 0,phone:t?String(t):void 0})).then((function(e){var n=(null===e||void 0===e?void 0:e.data).data;k(),A&&A(null===n||void 0===n?void 0:n.id),P(),O((function(e){return(0,i.Z)((0,i.Z)({},e),{},{buttonLoading:!1})}))})).catch((function(e){se(e),O((function(e){return(0,i.Z)((0,i.Z)({},e),{},{buttonLoading:!1})}))})):(O((function(e){return(0,i.Z)((0,i.Z)({},e),{},{buttonLoading:!1})})),l.ZP.error("You don't have permission to create this record"))}},form:D,children:[(null===q||void 0===q?void 0:q.error)&&(0,N.jsx)(m.EQ,{description:null===q||void 0===q?void 0:q.error,isClosable:!0,onClose:function(){O((0,i.Z)((0,i.Z)({},q),{},{error:""}))}}),(0,N.jsxs)("label",{children:["Client Type",(0,N.jsx)(s.Z.Item,{name:"type",rules:[{required:!0,message:"Please select an option"}],children:(0,N.jsx)(c.ZP.Group,{onChange:function(e){var n=e.target.value;Q(n)},value:V,children:Object.entries(b.IX).map((function(e){var n=(0,r.Z)(e,2),t=n[0],o=n[1];return(0,N.jsx)(c.ZP,{value:o,children:(0,g.kC)(t)},t)}))})})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)(s.Z.Item,{name:"name",rules:[{required:!0,message:"Please add a name"}],children:(0,N.jsx)(m.t7,{size:"w100",label:"Name",asterisk:!0,type:"text",placeHolder:"Enter client name"})}),(0,N.jsx)(s.Z.Item,{name:"address",children:(0,N.jsx)(m.t7,{size:"w100",label:"Address",type:"text"})})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)(s.Z.Item,{name:"email",rules:[{required:!0,message:"Please add email"},{type:"email",message:"Please add valid email"}],children:(0,N.jsx)(m.t7,{asterisk:!0,size:"w100",label:"Email",type:"email"})}),(0,N.jsx)("div",{children:(0,N.jsxs)("label",{className:"font-size-sm",children:["Phone",(0,N.jsx)(s.Z.Item,{name:"phone",children:(0,N.jsx)(u.Z,{type:"number",addonBefore:(0,N.jsx)(s.Z.Item,{name:"phoneCode",style:{marginBottom:0},initialValue:"971",children:(0,N.jsx)(d.Z,{style:{width:98},placeholder:"Select phone code",defaultValue:"971",children:null===ae||void 0===ae?void 0:ae.map((function(e){return(0,N.jsxs)(C,{value:e.phoneCode,children:[(0,N.jsx)("span",{children:e.flag}),(0,N.jsx)("span",{className:"ml-1",children:"+".concat(e.phoneCode)})]})}))})}),placeholder:"Enter phone number",controls:!1})})]})})]}),(0,N.jsx)("div",{children:(0,N.jsx)(s.Z.Item,{name:"taxRegistrationNumber",children:(0,N.jsx)(m.t7,{label:"Tax Registration Number",placeHolder:"Enter Tax RegistrationNumber Number",size:"w100"})})}),(0,N.jsxs)("div",{children:[(0,N.jsx)(s.Z.Item,{name:"whatsapp",children:(0,N.jsx)(m.t7,{label:"WhatsApp Number",placeHolder:"Enter WhatsApp Number",size:"w100"})}),V===b.IX.individual&&(0,N.jsx)("div",{children:(0,N.jsxs)(s.Z.Item,{name:"companyId",children:[(0,N.jsx)("label",{className:"font-size-sm",children:"Company"}),(0,N.jsx)(d.Z,{allowClear:!0,style:{width:"100%"},defaultValue:null===q||void 0===q||null===(n=q.data)||void 0===n?void 0:n.companyId,placeholder:"Search for the company",className:"selectAntdCustom",onChange:function(e){return D.setFieldsValue({companyId:e})},showSearch:!0,onSearch:function(e){return $(e)},optionFilterProp:"label",options:null===ee||void 0===ee?void 0:ee.map((function(e){return{label:e.name,value:e.id}})),notFoundContent:(0,N.jsx)(v.Z,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:100},description:(0,N.jsx)("span",{children:"No data found, Please search for the company"})})})]})})]}),(0,N.jsxs)("div",{className:"d-flex justify-end",children:[(0,N.jsx)(m.op,{size:"normal",fontSize:"sm",onClick:P,type:"plain",children:"Cancel"}),(0,N.jsx)(m.op,{type:"primary",size:"normal",fontSize:"sm",htmlType:"submit",loading:null===q||void 0===q?void 0:q.buttonLoading,children:"edit"===I?"Edit Client":"Add Client"})]})]})})}},14117:function(e,n,t){t.r(n),t.d(n,{default:function(){return He}});var o=t(93433),i=t(4942),a=t(1413),r=t(29439),d=t(47313),s=t(55291),l=t(70638),c=t(85554),u=t(54060),v=t(29079),m=t(82626),f=t(18515),h=t(42819),p=t(98522),g=t(54113),_=t(98505),Z=t(3798),y=t(45987),x=t(86136),j=t(25019),b=t(8773),N=t(66204),w=t(5900),C=t(32697),P=t(72652),I=t(39180),S=t(69309),k=t(59491),R=t(34450),T=t(39548),z=t(98676),A=t(53764),F=t(70816),D=t.n(F),L=t(32147),B=t(46646),E=t(87971),M=t(3113),q=t(40169),O=t(42623),U=t(37936),Y=t(6027),V=t(48297),Q=t(5190),X=t(48897),H={divider:"styles_divider__MmakI",notes:"styles_notes__-XA5X",notes_wrapper:"styles_notes_wrapper__uSR-b",note:"styles_note__dwooW",note_user_avatar:"styles_note_user_avatar__5ZVr2",note_content_wrapper:"styles_note_content_wrapper__UOWlN",note_header:"styles_note_header__qWJxG",note_header_date:"styles_note_header_date__p4PXc",note_header_delete:"styles_note_header_delete__eXLRC",note_content:"styles_note_content__SqBAz",notes_form_input_wrapper:"styles_notes_form_input_wrapper__JFTXo",notes_form_avatar:"styles_notes_form_avatar__dzQHq",notes_form_input:"styles_notes_form_input__iLo5t",notes_form_send_loader:"styles_notes_form_send_loader__yY2LU",notes_form_send:"styles_notes_form_send__ol8XU",date_picker:"styles_date_picker__BmXFK",z_index:"styles_z_index__Qrh1q",date_footer:"styles_date_footer__Xjr5h"},W=t(67194),$=t(46389),G=t(46417),K=["attachments"],J=x.Z.TextArea,ee=[7,14,30,60,90],ne=function(e){var n,t,l,u=e.openModal,f=e.onCancel,p=e.type,g=e.record,_=e.reloadTableData,x=e.permissions,F=x.createLeads,$=x.updateLeads,ne=x.createClient,te=j.Z.useForm(),oe=(0,r.Z)(te,1)[0],ie=(0,c.v9)((function(e){return e.usersReducer})).loggedInUserData,ae=(0,d.useMemo)((function(){return new h.S}),[]),re=(0,d.useMemo)((function(){return new Q.L}),[]),de=(0,d.useMemo)((function(){return new Y.i}),[]),se=(0,d.useMemo)((function(){return new V.V}),[]),le=(0,v.K2)({method:function(){return ae.getRecordById(g)},condition:!!g&&"edit"===p}).data,ce=(0,v.$5)({method:de.getPublishRecords,initialQuery:{perPage:100}}).data,ue=(0,v.$5)({method:re.findPublished}).data,ve=(0,v.K2)({method:se.findPublished,condition:!(null===le||void 0===le||!le.clientId),initialQuery:{ids:[null===le||void 0===le?void 0:le.clientId,null===le||void 0===le?void 0:le.representativeId]}}).data,me=(0,v.K2)({method:function(){return ae.getNoteById(g)},condition:"notes"===p}),fe=me.data,he=me.onRefresh,pe=(0,d.useState)({loading:!1,error:null}),ge=(0,r.Z)(pe,2),_e=ge[0],Ze=ge[1],ye=(0,d.useState)(!1),xe=(0,r.Z)(ye,2),je=xe[0],be=xe[1],Ne=(0,d.useState)(),we=(0,r.Z)(Ne,2),Ce=we[0],Pe=we[1],Ie=(0,d.useState)({content:"",loading:!1,isConcern:!1}),Se=(0,r.Z)(Ie,2),ke=Se[0],Re=Se[1],Te=(0,d.useState)({}),ze=(0,r.Z)(Te,2),Ae=ze[0],Fe=ze[1],De=(0,d.useState)(!1),Le=(0,r.Z)(De,2),Be=Le[0],Ee=Le[1],Me=(0,d.useState)({confirmLoading:!1,visible:!1}),qe=(0,r.Z)(Me,2),Oe=qe[0],Ue=qe[1],Ye=(0,d.useState)(""),Ve=(0,r.Z)(Ye,2),Qe=Ve[0],Xe=Ve[1],He=(0,d.useState)({loading:!0,data:[]}),We=(0,r.Z)(He,2),$e=(We[0],We[1]),Ge=(0,O.N)(Qe,500),Ke=(0,d.useState)({data:[],loading:!1}),Je=(0,r.Z)(Ke,2),en=Je[0],nn=Je[1],tn=function(e){var n=(0,q.P)(e);if("string"==typeof n.message)Ze((0,a.Z)((0,a.Z)({},_e),{},{error:n.message}));else{var t=(0,B.O)(n.message,[]);oe.setFields(t),Ze((0,a.Z)((0,a.Z)({},_e),{},{error:""}))}},on=function(e){var n=e.name,t=e.ids;nn((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),se.findPublished({name:n,ids:t}).then((function(e){nn((function(n){var t,i,a=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.filter((function(e){return!(null!==n&&void 0!==n&&n.data.find((function(n){return n.id===e.id})))}));return{data:[].concat((0,o.Z)(n.data),(0,o.Z)(a)),loading:!1}}))})).catch((function(e){s.ZP.error(e.response.data.message||"Something went wrong!"),nn((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})}))}))};return(0,d.useEffect)((function(){Ge&&on({name:Ge})}),[Ge]),(0,d.useEffect)((function(){if(le&&"edit"===p){var e=le.clientId,n=le.representativeId,t=le.message;oe.setFieldsValue((0,a.Z)((0,a.Z)({},le),{},{leadType:n?U.rj.company:U.rj.individual,message:t||void 0,clientId:e||void 0,representativeId:n||void 0,dueDateForSubmissions:le.dueDateForSubmissions?D()(le.dueDateForSubmissions):void 0})),Pe(n?U.rj.company:U.rj.individual)}}),[le,p]),(0,d.useEffect)((function(){ve&&nn((function(e){return(0,a.Z)((0,a.Z)({},e),{},{data:ve})}))}),[ve]),(0,d.useEffect)((function(){"edit"!==p&&"new"!==p||re.getTenants().then((function(e){var n;e.data&&null!==(n=e.data)&&void 0!==n&&n.data&&$e({loading:!1,data:e.data.data})})).catch((function(e){console.error("Error while fetching tenants",null===e||void 0===e?void 0:e.message)}))}),[p]),(0,G.jsxs)(G.Fragment,{children:[Be&&(0,G.jsx)(W.i,{record:0,type:"new",reloadTableData:function(){},callback:function(e){on({ids:[e]}),oe.setFieldsValue({clientId:e})},onCancel:function(){return Ee(!1)},openModal:Be,permissions:{createClient:ne}}),(0,G.jsx)(m.P0,{visible:u,closable:!0,showFooter:!1,onCancel:f,titleText:"edit"===p?"Edit Lead":"notes"===p?"Notes":"Add Lead",size:"notes"===p?"700px":"600px",zIndex:Be?void 0:1e4,children:(0,G.jsxs)(j.Z,{className:M.Z.form,onFinish:function(e){var n;Ze((0,a.Z)((0,a.Z)({},_e),{},{loading:!0}));var t=e.attachments,o=(0,y.Z)(e,K),i=new FormData,r=null===t||void 0===t||null===(n=t.fileList)||void 0===n?void 0:n.map((function(e){return e.originFileObj}));if(null!==r&&void 0!==r&&r.length)for(var d=0;d<r.length;d++)i.append("files[]",r[d]);switch(p){case"edit":!0===$?ae.updateRecord((0,a.Z)({},o),g).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.data&&_(),f(),Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})}))})).catch((function(e){tn(e),Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})}))})):(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})})),s.ZP.error("You don't have enough permission to update leads"));break;case"new":!0===F?ae.createRecord((0,a.Z)({},o)).then((function(e){var n,t=(null===e||void 0===e?void 0:e.data).data;null!==t&&void 0!==t&&t.id?(i.append("leadId",null===t||void 0===t||null===(n=t.id)||void 0===n?void 0:n.toString()),(null===r||void 0===r?void 0:r.length)>0&&ae.uploadFile(i).catch((function(e){var n=(0,Z.S3)(e);s.ZP.error(n||"Something went wrong while uploading attachments")})),_(),f(),Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})}))):(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})})),s.ZP.error("Something went wrong"))})).catch((function(e){tn(e);var n=(0,Z.S3)(e);s.ZP.error(n||"Something went wrong"),Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})}))})):(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})})),s.ZP.error("You don't have enough permission to create leads"))}},form:oe,children:[(null===_e||void 0===_e?void 0:_e.error)&&(0,G.jsx)(m.EQ,{description:null===_e||void 0===_e?void 0:_e.error,onClose:function(){return Ze((0,a.Z)((0,a.Z)({},_e),{},{error:""}))},isClosable:!0}),"notes"===p?(0,G.jsxs)(R.Z,{headStyle:{display:"unset",padding:0},bodyStyle:{padding:0},className:H.notes,children:[(0,G.jsxs)("div",{className:H.notes_wrapper,children:[0===(null===fe||void 0===fe?void 0:fe.length)&&(0,G.jsx)("div",{className:H.notes_empty,children:(0,G.jsx)(m.I$,{description:"No notes found"})}),null===fe||void 0===fe?void 0:fe.map((function(e,n){return(0,G.jsxs)("div",{className:H.note,onMouseEnter:function(){return Fe((0,i.Z)({},e.id,!0))},onMouseLeave:function(){return Fe({})},children:[(0,G.jsx)(b.C,{size:40,icon:(0,G.jsx)(T.Z,{}),className:H.note_user_avatar,src:"".concat(X.lj).concat(e.AddedBy.profile),alt:"".concat(e.AddedBy.firstName," ").concat(e.AddedBy.lastName)}),(0,G.jsxs)("div",{className:H.note_content_wrapper,children:[(0,G.jsxs)("div",{className:H.note_header,children:[(0,G.jsx)(m.ZT,{weight:"bold",color:"dark-main",children:"".concat(e.AddedBy.firstName," ").concat(e.AddedBy.lastName)}),(0,G.jsxs)("p",{className:H.note_header_date,title:D()(e.addedDate).format("DD MMM, YYYY hh:mm A"),children:[D()(e.addedDate).fromNow(),e.isConcern&&(0,G.jsx)(N.Z,{color:"warning",className:"ml-2",children:"Concern"}),e.isResolved&&(0,G.jsx)(N.Z,{color:"green",className:"ml-2",children:"Resolved"}),e.isConcern&&!e.isResolved&&(0,G.jsx)(w.Z,{title:"Are you sure to mark this concern as resolved?",okText:"Yes",cancelText:"No",placement:"bottomRight",open:Oe.visible,zIndex:1e4,onOpenChange:function(e){return Ue((function(n){return(0,a.Z)((0,a.Z)({},n),{},{visible:e})}))},onCancel:function(){return Ue((function(e){return(0,a.Z)((0,a.Z)({},e),{},{visible:!1})}))},okButtonProps:{loading:Oe.confirmLoading},onConfirm:function(){!0===$?ae.markConcernAsResolved(e.id).then((function(e){var n;s.ZP.success((null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Concern resolved successfully"),_(),he(),Ue((function(e){return(0,a.Z)((0,a.Z)({},e),{},{visible:!1})}))})).catch((function(e){var n=(0,Z.S3)(e);s.ZP.error(n||"Something went wrong")})):s.ZP.error("You do not have permission to resolve concerns")},children:(0,G.jsx)(C.Z,{checked:!1,onChange:function(e){return Ue((function(n){return(0,a.Z)((0,a.Z)({},n),{},{visible:e.target.checked})}))},children:"Mark as resolved"})})]}),Ae[e.id]&&(0,G.jsx)(w.Z,{title:"Are you sure to delete this note?",onConfirm:function(){return n=e.id,void(!0===$?ae.removeNote(n).then((function(e){var n;s.ZP.success((null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Note deleted successfully"),he()})).catch((function(e){var n,t;s.ZP.error((null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Something went wrong")})):s.ZP.error("You do not have permission to delete notes"));var n},okText:"Yes",cancelText:"No",placement:"left",zIndex:1e4,children:(0,G.jsx)(z.Z,{className:H.note_header_delete})})]}),(0,G.jsx)("p",{className:H.note_content,children:e.note})]})]},"note-".concat(n))}))]}),(0,G.jsx)(C.Z,{checked:ke.isConcern,onChange:function(e){return Re((function(n){return(0,a.Z)((0,a.Z)({},n),{},{isConcern:e.target.checked})}))},className:"mt-2",children:"Mark as a concern"}),(0,G.jsxs)("div",{className:H.notes_form_input_wrapper,children:[(0,G.jsx)(b.C,{size:30,icon:(0,G.jsx)(T.Z,{}),className:H.notes_form_avatar,src:"".concat(X.lj).concat(null===ie||void 0===ie||null===(n=ie.data)||void 0===n?void 0:n.profile),alt:"".concat(null===ie||void 0===ie||null===(t=ie.data)||void 0===t?void 0:t.firstName," ").concat(null===ie||void 0===ie||null===(l=ie.data)||void 0===l?void 0:l.lastName)}),(0,G.jsx)(J,{placeholder:"Add a note...",className:H.notes_form_input,autoSize:{minRows:1,maxRows:4},value:ke.content,onChange:function(e){return Re((function(n){return(0,a.Z)((0,a.Z)({},n),{},{content:e.target.value})}))}}),ke.loading?(0,G.jsx)(P.Z,{indicator:(0,G.jsx)(A.Z,{style:{fontSize:20},spin:!0}),className:H.notes_form_send_loader}):(0,G.jsx)(L.jE,{width:30,height:30,className:H.notes_form_send,onClick:function(){return e=ke.content,n=ke.isConcern,void(e?g&&(!0===$?(Re((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),ae.addNote(g,{note:e,isConcern:n}).then((function(e){var n;s.ZP.success((null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Note added successfully"),Re({content:"",loading:!1,isConcern:!1}),he(),_()})).catch((function(e){var n,t;s.ZP.error((null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Something went wrong"),Re((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})}))}))):s.ZP.error("You do not have permission to add notes")):s.ZP.error("Please enter a note"));var e,n}})]})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("label",{children:["Lead Type",(0,G.jsx)(j.Z.Item,{name:"leadType",rules:[{required:!0,message:"Please select a lead type"}],children:(0,G.jsx)(I.ZP.Group,{value:Ce,onChange:function(e){return Pe(e.target.value)},children:Object.entries(U.rj).map((function(e){var n=(0,r.Z)(e,2),t=n[0],o=n[1];return(0,G.jsx)(I.ZP,{value:o,children:(0,Z.kC)(t)},t)}))})})]}),(0,G.jsx)(j.Z.Item,{name:"submissionById",children:(0,G.jsx)(m.AP,{label:"Submission By",options:null===ue||void 0===ue?void 0:ue.map((function(e){return{value:(null===e||void 0===e?void 0:e.id)||"",label:null===e||void 0===e?void 0:e.name}}))})}),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("label",{style:{color:"var(--color-dark-main)",fontSize:"var(--font-size-sm)"},children:"Due Date for Submission"}),(0,G.jsx)(j.Z.Item,{name:"dueDateForSubmissions",style:{marginBottom:10},children:(0,G.jsx)(S.Z,{placeholder:"Due Date for Submission",className:H.date_picker,open:je,showToday:!1,popupClassName:H.z_index,onOpenChange:function(e){return be(e)},renderExtraFooter:function(){return(0,G.jsx)("div",{className:H.date_footer,children:ee.map((function(e){return(0,G.jsxs)(k.Z,{type:"ghost",size:"small",onClick:function(){var n=D()().add(e,"days");oe.setFieldsValue({dueDateForSubmissions:n}),be(!1)},children:["In ",e," days"]},e)}))})}})})]}),(0,G.jsx)("div",{children:(0,G.jsx)(j.Z.Item,{name:"clientId",rules:[{required:!0,message:"Please select a client"}],children:(0,G.jsx)(m.Ld,{label:"Client",placeholder:"Search for a client",notFoundDescription:"Could not find any client, try searching with name",onSearch:function(e){return Xe(e)},loading:en.loading,options:en.data.map((function(e){return{value:(null===e||void 0===e?void 0:e.id)||"",label:null===e||void 0===e?void 0:e.name}})),notFoundFooter:(0,G.jsx)(k.Z,{type:"ghost",size:"small",style:{borderColor:"var(--color-primary-main)",fontSize:"var(--font-size-sm)",color:"var(--color-primary-main)"},onClick:function(){Ee(!0),Xe("")},children:"Add New Client"})})})}),Ce===U.rj.company&&(0,G.jsx)(G.Fragment,{children:(0,G.jsx)("div",{children:(0,G.jsx)(j.Z.Item,{name:"representativeId",children:(0,G.jsx)(m.Ld,{asterisk:!1,label:"Client Representative",placeholder:"Search for a representative",notFoundDescription:"Could not find any representative, try searching with name",onSearch:function(e){return Xe(e)},loading:en.loading,options:en.data.map((function(e){return{value:(null===e||void 0===e?void 0:e.id)||"",label:null===e||void 0===e?void 0:e.name}})),notFoundFooter:(0,G.jsx)(k.Z,{type:"ghost",size:"small",style:{borderColor:"var(--color-primary-main)",fontSize:"var(--font-size-sm)",color:"var(--color-primary-main)"},children:"Add New Client Representative"})})})})}),(0,G.jsx)("div",{children:(0,G.jsx)(j.Z.Item,{name:"projectTypeId",rules:[{required:!0,message:"Please select project type"}],children:(0,G.jsx)(m.AP,{label:"Project Type",asterisk:!0,placeholder:"Select Project Type",options:null===ce||void 0===ce?void 0:ce.map((function(e){return{value:e.id,label:e.title}}))})})}),(0,G.jsx)("div",{children:(0,G.jsx)(j.Z.Item,{name:"message",children:(0,G.jsx)(E.Z,{label:"Message"})})}),"new"===p&&(0,G.jsx)("div",{children:(0,G.jsx)(m.wA,{title:"Attachments",name:"attachments",multiple:!0})})]}),"notes"!==p&&(0,G.jsxs)("div",{className:M.Z.footer,children:[(0,G.jsx)(m.op,{size:"normal",fontSize:"sm",onClick:f,type:"plain",children:"Cancel"}),(0,G.jsx)(m.op,{type:"primary",size:"normal",fontSize:"sm",htmlType:"submit",loading:null===_e||void 0===_e?void 0:_e.loading,children:"Submit"})]})]})})]})},te=t(8570),oe=t(37388),ie=t(95366),ae=t(84825),re=t(28080),de=t(78267),se=t(45705),le=t(32344),ce={rolePermissionAsideContainer:"styles_rolePermissionAsideContainer__9N5+d",active:"styles_active__cCdSx",sideBarHeading:"styles_sideBarHeading__NGNvO",adminNavPanelsWrap:"styles_adminNavPanelsWrap__Tuk6F",textWithIcon:"styles_textWithIcon__ldZvD",textWithIcon__rev:"styles_textWithIcon__rev__zYtjv",collapse:"styles_collapse__hS1ge",collapse__normal:"styles_collapse__normal__ex5Pv",divider:"styles_divider__M55Bn",translated:"styles_translated__DADHU",animateTranslation:"styles_animateTranslation__ycuFH",__translate:"styles___translate__JjV3s",negAnimateTranslation:"styles_negAnimateTranslation__531In",__negTranslate:"styles___negTranslate__Z1fod",header:"styles_header__AkvKD",content:"styles_content__lBlxM",contentHeader:"styles_contentHeader__dLZ56",content__layout:"styles_content__layout__cMSRZ",content__layout__header:"styles_content__layout__header__elk07",content__layout__content:"styles_content__layout__content__3Z-mb",content__layout__footer:"styles_content__layout__footer__no9bH",content__layout__footer__button:"styles_content__layout__footer__button__9reMz",actions:"styles_actions__VDFtS",bg__red:"styles_bg__red__Ju1nR",form:"styles_form__EVMRO",footer:"styles_footer__6bEjp",opacity_6:"styles_opacity_6__ip77L",dropdown:"styles_dropdown__Gdw5Q",overlay:"styles_overlay__9U8OW",overlay_item:"styles_overlay_item__TTrHj",overlay_popConfirm:"styles_overlay_popConfirm__mQbDJ",disabledButton:"styles_disabledButton__qAWL9",tabs:"styles_tabs__1ojns",message:"styles_message__dcxFb"},ue={1:"#FFC107",2:"#FFA000",3:"#E53939",4:"#43A047",5:"#E53935",6:"#E53935",7:"#43A047"},ve=function(e){var n=e.status,t=e.recordId,o=e.reloadTableData,i=e.permissions.updateLeadsStatus,a=s.ZP.useMessage(),l=(0,r.Z)(a,2),c=l[0],u=l[1],v=(0,d.useMemo)((function(){return new h.S}),[]),m=function(e){c.open({key:e.key,type:e.type,content:e.content,duration:"loading"===e.type?0:2})},f=(0,d.useState)(!1),p=(0,r.Z)(f,2),g=p[0],_=p[1],y=Object.entries(U.OG).filter((function(e){var n=(0,r.Z)(e,1)[0];return!1===isNaN(Number(n))})).map((function(e){var n=(0,r.Z)(e,2);return{value:n[0],label:n[1]}})),x=(0,G.jsx)(re.Z,{className:"".concat(ce.overlay," pa-2"),children:y.map((function(e,a){var r=Number(e.value),d=n===r;return(0,G.jsx)("div",{className:ce.overlay_item,onClick:function(){return!d&&(e=r,void(t&&!0===i?(m({key:"update",type:"loading",content:"Updating..."}),v.changeStatus(t,e).then((function(e){var n,t;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.data&&(m({key:"update",type:"success",content:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message}),_(!g),o())})).catch((function(e){var n=(0,Z.S3)(e);m({key:"update",type:"error",content:n})}))):m({key:"update",type:"error",content:"You don't have permission to change status"})));var e},children:(0,G.jsx)("span",{className:d?ce.disabledButton:"",style:{width:"100%"},children:e.label})},"leads-status-".concat(a))}))});return(0,G.jsxs)(G.Fragment,{children:[u,(0,G.jsx)(de.Z,{dropdownRender:function(){return x},trigger:!0===i?["click"]:[],open:!0===i&&g,onOpenChange:function(e){return _(e)},className:ce.dropdown,children:(0,G.jsxs)(se.Z,{style:{backgroundColor:ue[n],color:"#fff",padding:"0.2rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.8rem",display:"flex",width:"100%",justifyContent:"space-between"},children:[U.Iu[n],!0===i&&(0,G.jsx)(le.Z,{})]})})]})},me=t(37289),fe="styles_leads__L8UOt",he="styles_lead_item__krJOu",pe="styles_lead_item_header__wF64v",ge="styles_lead_item_header_left__mL4ym",_e="styles_lead_item_header_actions__8-c7q",Ze="styles_lead_item_header_actions_items__11I50",ye="styles_lead_item_header_actions_more__Kuogu",xe="styles_lead_item_header_title__k34NF",je="styles_lead_item_header_email__4-CgJ",be="styles_lead_item_header_phone__0QuzV",Ne="styles_lead_item_cards__nI7mC",we=function(e){var n=e.item,t=e.onDelete,o=e.onEdit,a=(0,d.useState)({}),s=(0,r.Z)(a,2),l=s[0],c=s[1],u=(0,d.useState)(!1),v=(0,r.Z)(u,2),m=v[0],f=v[1];return(0,G.jsx)(de.Z,{trigger:["click"],open:l[n.id],onOpenChange:function(e){return c((0,i.Z)({},n.id,e))},menu:{items:[{key:"edit",label:"Edit",icon:(0,G.jsx)(ie.Z,{}),onClick:function(){o(n.id),c((0,i.Z)({},n.id,!1))}},{key:"delete",label:(0,G.jsx)(w.Z,{title:"Are you sure to delete this lead?",onConfirm:function(){t(n.id),f(!1),c((0,i.Z)({},n.id,!1))},okText:"Yes",cancelText:"No",placement:"bottomLeft",open:m,onOpenChange:function(e){return f(e)},children:"Delete"}),icon:(0,G.jsx)(z.Z,{}),onClick:function(e){e.domEvent.preventDefault(),f(!m)},danger:!0}]},children:(0,G.jsx)(me.Z,{className:ye,onClick:function(e){return e.preventDefault()}})})},Ce=t(47312),Pe=t(46155),Ie=function(e){var n=e.AssignedTo,t=e.users,o=e.loading,i=e.permissions.assignLeads,a=e.getUsers,l=e.leadId,c=e.reloadTableData,u=e.avatarSize,v=s.ZP.useMessage(),f=(0,r.Z)(v,2),p=f[0],g=f[1],_=(0,d.useMemo)((function(){return new h.S}),[]),Z=(0,d.useState)(""),y=(0,r.Z)(Z,2),x=y[0],j=y[1],N=(0,O.N)(x,500),w=function(e){p.open({key:e.key,type:e.type,content:e.content,duration:"loading"===e.type?0:2})},C=(0,d.useState)(!1),P=(0,r.Z)(C,2),I=P[0],S=P[1];(0,d.useEffect)((function(){N&&a({name:N})}),[N]);var k=(0,G.jsxs)(re.Z,{className:"".concat(ce.overlay," pa-2"),children:[(0,G.jsx)(m.t7,{placeHolder:"Search User...",value:x,size:"w100",onChange:function(e){var n=e.target.value;x!==n&&j(n)},icon:(0,G.jsx)("img",{src:"/images/searchIcon.svg",alt:"Search Icon"})}),o?(0,G.jsx)(Ce.Z,{active:!0,className:"mt-1"}):(0,G.jsx)(G.Fragment,{children:(null===t||void 0===t?void 0:t.length)>0?(0,G.jsx)(G.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,G.jsxs)("div",{className:ce.overlay_item,onClick:function(){if((null===n||void 0===n?void 0:n.id)!==(null===e||void 0===e?void 0:e.id)&&!0===i){var t=Number(null===e||void 0===e?void 0:e.id);(o=t)&&!0===i?(w({key:"update",type:"loading",content:"Updating..."}),_.assignLead({assignedToId:o},l).then((function(e){var n,t;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.data&&(w({key:"update",type:"success",content:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message}),S(!I),c())})).catch((function(e){var n,t;w({key:"update",type:"error",content:(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Something went wrong"})}))):w({key:"update",type:"error",content:"You don't have permission to assign leads"})}var o},children:[(0,G.jsxs)("span",{className:(null===n||void 0===n?void 0:n.id)===(null===e||void 0===e?void 0:e.id)?ce.disabledButton:"",children:[null===e||void 0===e?void 0:e.firstName," ",null===e||void 0===e?void 0:e.lastName," - ","(".concat(null===e||void 0===e?void 0:e.email,")")]}),(0,G.jsx)(Pe.Z,{className:"my-0"})]},"users-".concat(null===e||void 0===e?void 0:e.id))}))}):(0,G.jsx)("div",{className:ce.overlay_item_noData,children:(0,G.jsx)(m.I$,{description:N?"No results found, please modify your search term":"Please search for a user to assign this lead to"})})})]});return(0,G.jsxs)(G.Fragment,{children:[g,(0,G.jsx)(de.Z,{dropdownRender:function(){return k},trigger:!0===i?["click"]:[],open:!0===i&&I,onOpenChange:function(e){return S(e)},className:ce.dropdown,children:(0,G.jsx)(se.Z,{children:(0,G.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",cursor:!0===i?"pointer":"default"},children:[(0,G.jsx)(b.C,{src:"".concat(X.lj).concat(null===n||void 0===n?void 0:n.profile),icon:(0,G.jsx)(T.Z,{}),size:u||30}),(0,G.jsx)(m.ZT,{color:"dark-sub",size:"sm",className:"ml-1",children:"".concat(null!==n&&void 0!==n&&n.firstName&&null!==n&&void 0!==n&&n.lastName?"".concat(null===n||void 0===n?void 0:n.firstName," ").concat(null===n||void 0===n?void 0:n.lastName):"Assign To")})]})})})]})},Se=t(55768),ke=t(55891),Re={leads_note:"styles_leads_note__5tR2u",leads_note_container:"styles_leads_note_container__2Hskr",leads_note_item:"styles_leads_note_item__C31bf",leads_note_view_all:"styles_leads_note_view_all__rqyGx"},Te=te.Z.Paragraph,ze=function(e){var n=e.LeadEnquiryFollowUp,t=e.count,o=e.onOpenNoteModal;return(0,G.jsx)(ke.Z,{label:(0,G.jsx)("div",{className:Re.quotation_title,children:(0,G.jsxs)("div",{className:"d-flex align-center",children:[(0,G.jsx)(m.ZT,{color:"dark-main",size:"sm",children:"".concat(t&&t>0?t:""," Note").concat(t&&t>1?"s":"")}),(0,G.jsx)(oe.Z,{title:"Add Notes",children:(0,G.jsx)(Se.Z,{className:"ml-2",style:{fontSize:"1rem"},onClick:function(e){e.stopPropagation(),o()}})})]})}),children:(0,G.jsxs)("div",{className:Re.leads_note_container,children:[(null===n||void 0===n?void 0:n.length)>0?null===n||void 0===n?void 0:n.map((function(e,t){return(0,G.jsxs)("div",{className:Re.leads_note_item,style:{borderBottom:t===(null===n||void 0===n?void 0:n.length)-1?"":"1px solid var(--color-border)",paddingBottom:t===(null===n||void 0===n?void 0:n.length)-1?"":"0.3rem"},children:[(0,G.jsxs)("div",{className:"d-flex align-center",children:[(0,G.jsx)("span",{className:"font-size-sm color-dark-800",children:e.AddedBy.firstName+" "+e.AddedBy.lastName}),(0,G.jsxs)("span",{className:"font-size-xs color-dark-sub ml-2",style:{opacity:.7},children:[D()(null===e||void 0===e?void 0:e.addedDate).fromNow(),e.isConcern&&(0,G.jsx)(N.Z,{color:"warning",className:"ml-2",children:"Concern"}),e.isResolved&&(0,G.jsx)(N.Z,{color:"green",className:"ml-2",children:"Resolved"})]})]}),(0,G.jsx)(Te,{ellipsis:{rows:2,expandable:!0},className:"font-size-xs color-dark-sub mb-0",children:null===e||void 0===e?void 0:e.note})]},"notes-".concat(t))})):(0,G.jsx)("div",{className:"font-size-xs color-dark-sub text-center",children:"No Notes"}),(null===n||void 0===n?void 0:n.length)>0&&(0,G.jsx)("div",{className:Re.leads_note_view_all,onClick:function(e){e.stopPropagation(),o()},children:"View All"})]})})},Ae=t(98276),Fe=t(76017),De="styles_quotation_container__Cpj6v",Le="styles_quotation_title__KaglG",Be=function(e){var n,t=e.items,o=e.setDrawer,i=e.onRefresh,r=e.permissions,d=e.setNewProject,s=null===t||void 0===t||null===(n=t.Quotation)||void 0===n?void 0:n.map((function(e){var n,o;return(0,a.Z)((0,a.Z)({},e),{},{Lead:(0,a.Z)((0,a.Z)({},null===e||void 0===e?void 0:e.Lead),{},{SubmissionBy:(0,a.Z)((0,a.Z)({},null===e||void 0===e||null===(n=e.Lead)||void 0===n?void 0:n.SubmissionBy),{},{id:null===t||void 0===t?void 0:t.submissionById}),ProjectType:(0,a.Z)((0,a.Z)({},null===e||void 0===e||null===(o=e.Lead)||void 0===o?void 0:o.ProjectType),{},{id:null===t||void 0===t?void 0:t.projectTypeId})})})}));return(0,G.jsx)(ke.Z,{label:(0,G.jsx)("div",{className:Le,children:(0,G.jsxs)("div",{className:"d-flex align-center",children:[(0,G.jsx)(m.ZT,{color:"dark-main",size:"sm",children:"Quotation"}),(null===s||void 0===s?void 0:s.length)>0&&(0,G.jsx)(oe.Z,{title:"Add Quotation",children:(0,G.jsx)(Se.Z,{className:"ml-2",style:{fontSize:"1rem"},onClick:function(e){e.stopPropagation(),o((function(e){return(0,a.Z)((0,a.Z)({},e),{},{open:!0,type:"create",submissionById:null===t||void 0===t?void 0:t.submissionById,leadId:null===t||void 0===t?void 0:t.id})}))}})})]})}),children:(0,G.jsx)("div",{className:De,children:(null===s||void 0===s?void 0:s.length)>0?null===s||void 0===s?void 0:s.map((function(e,n){return(0,G.jsxs)("div",{className:"mb-2 cursor-pointer",style:{borderBottom:n===(null===s||void 0===s?void 0:s.length)-1?"":"1px solid var(--color-border)",paddingBottom:n===(null===s||void 0===s?void 0:s.length)-1?"":"0.5rem"},onClick:function(){return o((function(n){return(0,a.Z)((0,a.Z)({},n),{},{open:!0,type:"preview",quoteId:null===e||void 0===e?void 0:e.id})}))},children:[(0,G.jsxs)("div",{className:"d-flex justify-space-between align-center",children:[(0,G.jsx)("span",{className:"font-size-sm color-dark-800",children:(null===e||void 0===e?void 0:e.quoteNumber)||"No Quote Number"}),(0,G.jsxs)("span",{className:"font-size-sm color-dark-800",children:["Amount: ",(0,Z.xG)((null===e||void 0===e?void 0:e.total)||0)]})]}),(0,G.jsxs)("div",{className:"d-flex justify-space-between align-center",children:[(0,G.jsx)("span",{className:"font-size-xs color-dark-sub",children:e.sentDate?"Sent ".concat(D()(null===e||void 0===e?void 0:e.sentDate).fromNow()):"Not yet sent"}),(0,G.jsx)(Fe.Z,{item:e,onRefresh:i,permissions:r,setDrawer:o,setNewProject:d})]})]},"notes-".concat(n))})):(0,G.jsx)(Ae.Z,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:50},description:(0,G.jsx)("span",{className:"font-size-xs color-dark-sub",children:"No Quotation"}),children:(0,G.jsx)(k.Z,{type:"link",onClick:function(){return o((function(e){return(0,a.Z)((0,a.Z)({},e),{},{open:!0,type:"create",submissionById:null===t||void 0===t?void 0:t.submissionById,leadId:null===t||void 0===t?void 0:t.id})}))},children:"Create Now"})})})})},Ee=t(4970),Me=t(93082),qe=te.Z.Paragraph,Oe=function(e){var n=e.data,t=e.onDelete,o=e.onEdit,i=e.permissions,l=e.onOpenNoteModal,c=e.onAttachmentClick,u=n.onRefresh,f=n.allLeads,h=(0,d.useMemo)((function(){return new ae.z}),[]),p=(0,d.useState)({data:[],loading:!1}),g=(0,r.Z)(p,2),y=g[0],x=g[1],j=(0,v.tM)(),b=j.drawer,N=j.setDrawer,w=(0,v.G5)(),C=w.newProject,P=w.setNewProject,I=function(e){var n;x((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),e={name:(null===(n=e)||void 0===n?void 0:n.name)||""},h.getAllRecords(e).then((function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;x({data:t,loading:!1})})).catch((function(e){var n=(0,Z.S3)(e);s.ZP.error(n||"Something went wrong"),x((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})}))}))};return(0,G.jsxs)(G.Fragment,{children:[0===(null===f||void 0===f?void 0:f.length)&&(0,G.jsx)(m.I$,{description:"No leads found",className:"my-5"}),(0,G.jsx)("section",{className:fe,children:null===f||void 0===f?void 0:f.map((function(e,n){var a,r,d,s=e.AssignedTo,v=e.Client;return(0,G.jsxs)("div",{className:he,children:[(0,G.jsxs)("div",{className:pe,children:[(0,G.jsx)("div",{className:ge,children:(0,G.jsxs)("div",{children:[(0,G.jsx)("h4",{className:xe,children:null===v||void 0===v?void 0:v.name}),(null===v||void 0===v?void 0:v.email)&&(0,G.jsx)(qe,{className:je,ellipsis:{rows:1,expandable:!1},copyable:{text:null===v||void 0===v?void 0:v.email},children:null===v||void 0===v?void 0:v.email}),"undefined"!==v.phone&&v.phone&&(0,G.jsx)(qe,{className:be,ellipsis:{rows:1,expandable:!1},copyable:{text:null===v||void 0===v?void 0:v.phone},children:"+".concat(null===v||void 0===v?void 0:v.phoneCode).concat(null===v||void 0===v?void 0:v.phone)})]})}),(0,G.jsxs)("div",{className:_e,children:[(0,G.jsxs)("div",{className:Ze,children:[(0,G.jsx)(Ie,{AssignedTo:s,avatarSize:24,leadId:e.id,permissions:i,loading:y.loading,users:y.data,getUsers:I,reloadTableData:u}),(0,G.jsx)(ve,{recordId:e.id,status:e.status,permissions:i,reloadTableData:u}),(0,G.jsx)(we,{item:e,onDelete:t,onEdit:o})]}),(0,G.jsxs)("div",{className:"d-flex flex-column",children:[(null===e||void 0===e?void 0:e.addedDate)&&(0,G.jsxs)("div",{className:"d-flex mt-1 align-center",children:[(0,G.jsx)(L.$$,{className:"mr-2",width:13}),(0,G.jsx)(m.ZT,{color:"dark-sub",size:"xs",className:"mt-1",children:"Added: ".concat((0,_.Ny)(e.addedDate,"dd MM yy"))||0})]}),(null===e||void 0===e?void 0:e.dueDateForSubmissions)&&(0,G.jsxs)("div",{className:"d-flex mt-1 align-center",children:[(0,G.jsx)(L.$$,{className:"mr-2",width:13}),(0,G.jsx)(m.ZT,{color:(0,Z.H8)(e.dueDateForSubmissions,new Date)&&[U.Iu["In Progress"],U.Iu.New].includes(e.status)?"red-yp":"dark-sub",size:"xs",className:"mt-1",children:"Due Date: ".concat((0,_.Ny)(e.dueDateForSubmissions,"dd MM yy"))||0})]}),(null===e||void 0===e?void 0:e.modifiedDate)&&(0,G.jsxs)("div",{className:"d-flex align-center",children:[(0,G.jsx)(L.$$,{className:"mr-2",width:13}),(0,G.jsx)(m.ZT,{color:"dark-sub",size:"xs",className:"mt-1",children:"Modified: ".concat((0,_.Ny)(e.modifiedDate,"dd MM yy"))||0})]})]})]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)(m.ZT,{color:"dark-main",size:"sm",className:"mt-1 text-underline",children:"Requirements"}),(0,G.jsx)(m.ZT,{color:"dark-sub",size:"xs",className:"mt-1 mb-3",children:e.message||"N/A"}),(0,G.jsx)(m.ZT,{color:"dark-sub",size:"sm",children:"Project Type: ".concat((null===e||void 0===e||null===(a=e.ProjectType)||void 0===a?void 0:a.title)||"N/A")}),(0,G.jsxs)("div",{className:"d-inline-flex align-center mt-1",onClick:function(){return c(e)},children:[(0,G.jsx)(m.ZT,{color:"dark-sub",size:"sm",className:"cursor-pointer",children:"".concat((null===e||void 0===e||null===(r=e.Attachments)||void 0===r?void 0:r.length)>0?(null===e||void 0===e||null===(d=e.Attachments)||void 0===d?void 0:d.length)+" files Attached":"  No Attachments"," ")}),(0,G.jsx)(oe.Z,{title:"Manage Attachments",children:(0,G.jsx)(ie.Z,{className:"ml-2 cursor-pointer"})})]})]}),(0,G.jsxs)("div",{className:Ne,children:[(0,G.jsx)(Be,{items:e,onRefresh:u,permissions:i,setDrawer:N,setNewProject:P}),(0,G.jsx)(ze,{count:e._count.LeadEnquiryFollowUp,LeadEnquiryFollowUp:e.LeadEnquiryFollowUp,onOpenNoteModal:function(){return l({open:!0,type:"notes",recordId:e.id})}})]})]},"leads-".concat(n))}))}),b.open&&(0,G.jsx)(Ee.Z,{drawer:b,setDrawer:N,permissions:i,onRefresh:u}),(null===C||void 0===C?void 0:C.isOpen)&&(0,G.jsx)(Me.Z,{setNewProject:P,newProject:C,onRefresh:u,permissions:i})]})},Ue=t(41746),Ye=t(40982),Ve=t(52460),Qe=t(50008),Xe=[{text:"Home",isLink:!0,path:"/"},{isLink:!1,text:"Leads"}],He=function(){var e,n,t,y,x,j=(0,Z.aY)(p.P),b=(0,Z.aY)(g.L),N=(0,c.v9)((function(e){return e.usersReducer})).userPermissions,w=N.readLeads,C=N.createLeads,P=N.updateLeads,I=N.deleteLeads,S=(0,d.useMemo)((function(){return new h.S}),[]),k=(0,d.useMemo)((function(){return new V.V}),[]),R=(0,d.useMemo)((function(){return new ae.z}),[]),T=(0,d.useMemo)((function(){return new Ye.g}),[]),z=(0,d.useMemo)((function(){return new Y.i}),[]),A={active:[U.Iu.New,U.Iu["In Progress"]],confirmed:[U.Iu.Confirmed],unqualified:[U.Iu["Invalid Request"],U.Iu.Spam,U.Iu.Canceled,U.Iu.Unqualified]},F=(0,v.$5)({method:S.getAllRecords,initialQuery:{__status:A.active}}),D=F.data,L=F.onRefresh,B=F.meta,E=F.loading,q=(0,v.$5)({method:S.getCounts}),Q=q.data,X=q.onRefresh,H=(0,d.useState)({type:"new",recordId:0,open:!1}),W=(0,r.Z)(H,2),K=W[0],J=W[1],ee=(0,d.useState)({open:!1,record:null}),te=(0,r.Z)(ee,2),oe=te[0],ie=te[1],re=(0,d.useState)({dateRange:[""],__status:A.active,sortOrder:"",sortByField:""}),de=(0,r.Z)(re,2),se=de[0],le=de[1],ce=(0,d.useState)([]),ue=(0,r.Z)(ce,2),ve=ue[0],me=ue[1],fe=(0,d.useState)(!1),he=(0,r.Z)(fe,2),pe=he[0],ge=he[1],_e=(0,d.useState)([]),Ze=(0,r.Z)(_e,1)[0],ye=(0,d.useState)(""),xe=(0,r.Z)(ye,2),je=xe[0],be=xe[1],Ne=(0,O.N)(je,500),we=(0,d.useState)(""),Ce=(0,r.Z)(we,2),Pe=Ce[0],Ie=Ce[1],Se=(0,O.N)(Pe,500),ke=(0,d.useState)(""),Re=(0,r.Z)(ke,2),Te=Re[0],ze=Re[1],Ae=(0,O.N)(Te,500),Fe=(0,d.useState)(""),De=(0,r.Z)(Fe,2),Le=De[0],Be=De[1],Ee=(0,O.N)(Le,500),Me=(0,d.useState)(""),qe=(0,r.Z)(Me,2),He=qe[0],We=qe[1],$e=(0,O.N)(He,500),Ge=(0,d.useState)({data:[],loading:!1}),Ke=(0,r.Z)(Ge,2),Je=Ke[0],en=Ke[1],nn=(0,d.useState)({data:[],loading:!1}),tn=(0,r.Z)(nn,2),on=tn[0],an=tn[1],rn=(0,d.useState)({data:[],loading:!1}),dn=(0,r.Z)(rn,2),sn=dn[0],ln=dn[1],cn=(0,d.useState)({data:[],loading:!1}),un=(0,r.Z)(cn,2),vn=un[0],mn=un[1],fn=(0,d.useState)({data:[],loading:!1}),hn=(0,r.Z)(fn,2),pn=hn[0],gn=hn[1],_n=function(e){var n=null===e||void 0===e?void 0:e.target,t=n.name,o=n.value;if(["clientId","enquiryId","projectTypeId","representativeId"].includes(t)&&!(0,Z.hj)(o)){var r="";switch(t){case"clientId":r="Client ID";break;case"enquiryId":r="Enquiry ID";break;case"projectTypeId":r="Project Type ID";break;case"representativeId":r="Representative ID";break;case"assignedToId":r="Assigned To ID"}return s.ZP.error("".concat(r," should be a number"))}le((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,i.Z)({},t,o))}))},Zn=(0,d.useCallback)((function(e,n){e&&(ge(!0),le((0,a.Z)((0,a.Z)({},se),{},(0,i.Z)({},e,n))))}),[se]),yn=function(e){var n=e.type,t=e.recordId,o=e.open;return J({type:n,recordId:t,open:o})},xn=(0,d.useCallback)((function(e){var n,t,o=(null===(n=se.dateRange)||void 0===n?void 0:n[0])||"",i=(null===(t=se.dateRange)||void 0===t?void 0:t[1])||"",r=o?(0,_.Ny)(o,"yy-mm-dd"):void 0,d=i?(0,_.Ny)(i,"yy-mm-dd"):void 0,s=(0,a.Z)({fromDate:r,toDate:d,__status:se.__status||void 0,clientId:se.clientId||void 0,enquiryId:se.enquiryId||void 0,projectTypeId:se.projectTypeId||void 0,representativeId:se.representativeId||void 0,fetchCompleted:se.fetchCompleted||void 0,sortOrder:se.sortOrder||void 0,sortByField:se.sortByField||void 0,hasConcerns:se.hasConcerns||void 0,assignedToId:se.assignedToId||void 0},e);L(s),X()}),[se]),jn=[{label:"Enquiry",value:"enquiryId"},{label:"Representative",value:"representativeId"},{label:"Project Type",value:"projectTypeId"}],bn={enquiryId:(0,G.jsx)(m.Xy,{type:"radio",label:"Enquiry",name:"enquiryId",withSearch:!0,options:null===on||void 0===on||null===(e=on.data)||void 0===e?void 0:e.map((function(e){return{label:e.name,value:"".concat(e.id)}})),onChange:_n,value:Number(null===se||void 0===se?void 0:se.enquiryId)>0?String(null===se||void 0===se?void 0:se.enquiryId):"",onReset:function(){Zn("enquiryId",0),Ie("")},onUpdate:xn,loading:null===on||void 0===on?void 0:on.loading,searchTerm:Pe,onSearch:function(e){return Ie(e.currentTarget.value)},defaultVisible:ve.includes("enquiryId")}),representativeId:(0,G.jsx)(m.Xy,{type:"radio",label:"Representative",name:"representativeId",withSearch:!0,options:null===sn||void 0===sn||null===(n=sn.data)||void 0===n?void 0:n.map((function(e){return{label:e.name,value:"".concat(e.id)}})),onChange:_n,value:Number(null===se||void 0===se?void 0:se.representativeId)>0?String(null===se||void 0===se?void 0:se.representativeId):"",onReset:function(){Zn("representativeId",0),ze("")},onUpdate:xn,loading:null===sn||void 0===sn?void 0:sn.loading,searchTerm:Te,onSearch:function(e){return ze(e.currentTarget.value)},defaultVisible:ve.includes("representativeId")}),projectTypeId:(0,G.jsx)(m.Xy,{type:"radio",label:"Project Type",name:"projectTypeId",withSearch:!0,options:null===pn||void 0===pn||null===(t=pn.data)||void 0===t?void 0:t.map((function(e){return{label:e.title,value:"".concat(e.id)}})),onChange:_n,value:Number(null===se||void 0===se?void 0:se.projectTypeId)>0?String(null===se||void 0===se?void 0:se.projectTypeId):"",onReset:function(){Zn("projectTypeId",0),We("")},onUpdate:xn,loading:null===pn||void 0===pn?void 0:pn.loading,searchTerm:He,onSearch:function(e){return We(e.currentTarget.value)},defaultVisible:ve.includes("projectTypeId")})},Nn=(0,d.useCallback)((function(){Ne&&(en((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),k.findPublished({name:Ne}).then((function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;en((function(e){var n=null===t||void 0===t?void 0:t.filter((function(n){var t;return!(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.find((function(e){return e.id===n.id})))}));return{data:[].concat((0,o.Z)(e.data),(0,o.Z)(n)),loading:!1}}))})).catch((function(e){var n=(0,Z.S3)(e);s.ZP.error(n||"Something went wrong, please try again later."),en((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})}))})))}),[Ne]),wn=(0,d.useCallback)((function(){Se&&(an((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),T.getAllRecords({name:Se}).then((function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;an((function(e){var n=null===t||void 0===t?void 0:t.filter((function(n){var t;return!(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.find((function(e){return e.id===n.id})))}));return{data:[].concat((0,o.Z)(e.data),(0,o.Z)(n)),loading:!1}}))})).catch((function(e){var n=(0,Z.S3)(e);s.ZP.error(n||"Something went wrong, please try again later."),an((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})}))})))}),[Se]),Cn=(0,d.useCallback)((function(){Ae&&(ln((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),k.findPublished({name:Ae}).then((function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;ln((function(e){var n=null===t||void 0===t?void 0:t.filter((function(n){var t;return!(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.find((function(e){return e.id===n.id})))}));return{data:[].concat((0,o.Z)(e.data),(0,o.Z)(n)),loading:!1}}))})).catch((function(e){var n=(0,Z.S3)(e);s.ZP.error(n||"Something went wrong, please try again later."),ln((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})}))})))}),[Ae]),Pn=(0,d.useCallback)((function(){Ee&&(mn((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),R.getAllRecords({name:Ee}).then((function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;mn((function(e){var n=null===t||void 0===t?void 0:t.filter((function(n){var t;return!(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.find((function(e){return e.id===n.id})))}));return{data:[].concat((0,o.Z)(e.data),(0,o.Z)(n)),loading:!1}}))})).catch((function(e){var n=(0,Z.S3)(e);s.ZP.error(n||"Something went wrong, please try again later."),mn((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})}))})))}),[Ee]),In=(0,d.useCallback)((function(){$e&&(gn((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),z.getPublishRecords({title:$e}).then((function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;gn((function(e){var n=null===t||void 0===t?void 0:t.filter((function(n){var t;return!(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.find((function(e){return e.id===n.id})))}));return{data:[].concat((0,o.Z)(e.data),(0,o.Z)(n)),loading:!1}}))})).catch((function(e){var n=(0,Z.S3)(e);s.ZP.error(n||"Something went wrong, please try again later."),gn((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1})}))})))}),[$e]);(0,d.useEffect)((function(){pe&&xn();var e=setTimeout((function(){ge(!1)}),2e3);return function(){return clearTimeout(e)}}),[pe,se,xn]),(0,d.useEffect)((function(){Nn()}),[Nn]),(0,d.useEffect)((function(){wn()}),[wn]),(0,d.useEffect)((function(){Cn()}),[Cn]),(0,d.useEffect)((function(){Pn()}),[Pn]),(0,d.useEffect)((function(){In()}),[In]);var Sn=[{label:"All (".concat((null===Q||void 0===Q?void 0:Q.all)||0,")"),value:"all"},{label:"Active (".concat((null===Q||void 0===Q?void 0:Q.active)||0,")"),value:"active"},{label:"Has Concerns (".concat((null===Q||void 0===Q?void 0:Q.hasConcerns)||0,")"),value:"hasConcerns"},{label:"Confirmed (".concat((null===Q||void 0===Q?void 0:Q.confirmed)||0,")"),value:"confirmed"},{label:"Completed (".concat((null===Q||void 0===Q?void 0:Q.completed)||0,")"),value:"completed"},{label:"Unqualified (".concat((null===Q||void 0===Q?void 0:Q.unqualified)||0,")"),value:"unqualified"}];return(0,G.jsxs)(u.Z,{permissionSlug:[].concat((0,o.Z)(j),(0,o.Z)(b),[$.r.CREATE]),children:[(0,G.jsx)(m.mr,{heading:"Leads",breadCrumbData:Xe,showAdd:!0===N.createLeads,buttonText:"Add Lead",onButtonClick:function(){!1!==C?yn({type:"new",open:!0,recordId:0}):s.ZP.error("You don't have permission to create new record")},positionChildren:"new-line",filters:w?(0,G.jsxs)("div",{children:[(0,G.jsx)("div",{style:{overflow:"auto"},children:(0,G.jsx)(l.Z,{size:"middle",defaultValue:"active",options:Sn.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{title:e.label,value:e.value})})),style:{fontSize:"var(--font-size-sm)"},onChange:function(e){if("all"===e)le((function(e){return(0,a.Z)((0,a.Z)({},e),{},{fetchCompleted:void 0})})),Zn("__status","");else if("hasConcerns"===e)xn({hasConcerns:!0,__status:void 0});else if("completed"===e){var n={fetchCompleted:!0,__status:void 0};xn(n),le((function(e){return(0,a.Z)((0,a.Z)({},e),n)}))}else{var t={fetchCompleted:void 0,__status:A[e]};xn(t),le((function(e){return(0,a.Z)((0,a.Z)({},e),t)}))}}})}),(0,G.jsx)("div",{children:(0,G.jsx)(m.Xy,{type:"radio",label:"Client",name:"clientId",withSearch:!0,options:null===Je||void 0===Je||null===(y=Je.data)||void 0===y?void 0:y.map((function(e){return{label:e.name,value:"".concat(e.id)}})),onChange:_n,value:Number(null===se||void 0===se?void 0:se.clientId)>0?String(null===se||void 0===se?void 0:se.clientId):"",onReset:function(){Zn("clientId",0),be("")},onUpdate:xn,loading:null===Je||void 0===Je?void 0:Je.loading,searchTerm:je,onSearch:function(e){return be(e.currentTarget.value)}})}),(0,G.jsx)("div",{children:(0,G.jsx)(m.Xy,{type:"radio",label:"Assigned To",name:"assignedToId",withSearch:!0,options:null===vn||void 0===vn||null===(x=vn.data)||void 0===x?void 0:x.map((function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:"".concat(e.id)}})),onChange:_n,value:Number(null===se||void 0===se?void 0:se.assignedToId)>0?String(null===se||void 0===se?void 0:se.assignedToId):"",onReset:function(){Zn("assignedToId",0),Be("")},onUpdate:xn,loading:null===vn||void 0===vn?void 0:vn.loading,searchTerm:Le,onSearch:function(e){return Be(e.currentTarget.value)},defaultVisible:ve.includes("assignedToId")})}),(0,G.jsx)("div",{children:(0,G.jsx)(m.Xy,{type:"datepicker",label:"Date",name:"dateRange",onChange:function(e){return le((function(n){return(0,a.Z)((0,a.Z)({},n),{},{dateRange:e})}))},onReset:function(){return Zn("dateRange",[])},onUpdate:xn})}),Object.keys(bn).map((function(e){var n=e;return null!==ve&&void 0!==ve&&ve.includes(n)?bn[n]:null})),(0,G.jsx)("div",{children:(0,G.jsx)(Ue.Z,{options:null===jn||void 0===jn?void 0:jn.map((function(e){return{label:e.label,value:e.value}})),onChange:function(e){return me(e)},value:ve})}),(0,G.jsx)("div",{style:{marginLeft:"auto",marginRight:"0px"},children:(0,G.jsx)(m.Xy,{type:"radio",label:"Sort By",name:"sortByField",options:[{label:"Name",value:"name"},{label:"Email",value:"email"},{label:"Date Added",value:"addedDate"}],value:null===se||void 0===se?void 0:se.sortByField,onChange:_n,onReset:function(){return Zn("sortByField","")},onUpdate:xn,withSort:!0})})]}):null,excelExport:!0===w&&(null===D||void 0===D?void 0:D.length)>0&&(0,G.jsx)(m.jY,{fileName:"Leads",headers:[{label:"Name",key:"name"},{label:"Email",key:"email"}],data:Ze,icon:(0,G.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",className:"mr-1",children:(0,G.jsx)("path",{fill:"#42526E",d:"M16.19 2H7.81C4.17 2 2 4.17 2 7.81v8.37C2 19.83 4.17 22 7.81 22h8.37c3.64 0 5.81-2.17 5.81-5.81V7.81C22 4.17 19.83 2 16.19 2zm1.06 10.33c0 .41-.34.75-.75.75s-.75-.34-.75-.75V9.31l-7.72 7.72c-.15.15-.34.22-.53.22s-.38-.07-.53-.22a.754.754 0 010-1.06l7.72-7.72h-3.02c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h4.83c.41 0 .75.34.75.75v4.83z"})})})}),!D&&E&&(0,G.jsx)("div",{style:{display:"flex",flexWrap:"wrap",width:"100%",gap:10},children:Array(6).fill(0).map((function(e,n){return(0,G.jsx)(Qe.t,{},"shimmerItem-".concat(n))}))}),!0===w&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:M.Z.antdTableWrapper,children:(0,G.jsx)(Oe,{permissions:N,onDelete:function(e){!0===I?S.deleteRecord(e).then((function(){L(),X()})).catch((function(e){var n=e.response.data.message||"Something went wrong!";s.ZP.error(n)})):s.ZP.error("You don't have permission to delete this lead, Please contact your admin")},onEdit:function(e){!1!==P?yn({type:"edit",open:!0,recordId:e}):s.ZP.error("You don't have permission to update record")},onOpenNoteModal:yn,data:{allLeads:D,onRefresh:function(){xn({perPage:(null===B||void 0===B?void 0:B.perPage)||10,page:(null===B||void 0===B?void 0:B.page)||1}),X()}},onAttachmentClick:function(e){return ie({open:!0,record:e})}})}),(0,G.jsx)(m.tl,{total:null===B||void 0===B?void 0:B.total,current:null===B||void 0===B?void 0:B.page,defaultPageSize:null!==B&&void 0!==B&&B.perPage?null===B||void 0===B?void 0:B.perPage:10,pageSizeOptions:[10,20,50,100],onChange:function(e,n){return xn({page:e,perPage:n})}})]}),!1===w&&(0,G.jsx)(f.a$,{mainMessage:"You don't have permission to view this data"}),K.open&&(0,G.jsx)(ne,{record:K.recordId,type:K.type,openModal:K.open,permissions:N,onCancel:function(){return yn({type:"new",recordId:0,open:!1})},reloadTableData:function(){xn({perPage:(null===B||void 0===B?void 0:B.perPage)||10,page:(null===B||void 0===B?void 0:B.page)||1})}}),oe.open&&(0,G.jsx)(Ve.Z,{open:oe.open,record:oe.record,permissions:N,onClose:function(){return ie({open:!1,record:null})},onRefresh:function(){xn({perPage:(null===B||void 0===B?void 0:B.perPage)||10,page:(null===B||void 0===B?void 0:B.page)||1}),X()}})]})}},18223:function(e,n,t){t.d(n,{Y:function(){return r}});var o=t(43144),i=t(15671),a=t(49075),r=(0,o.Z)((function e(){var n=this;(0,i.Z)(this,e),this.endPoint="account",this.getAllRecords=function(e){return a.Z.get(n.endPoint,{params:e})},this.getRecordById=function(e){return a.Z.get("".concat(n.endPoint,"/").concat(e))},this.deleteRecord=function(e){return a.Z.delete("".concat(n.endPoint,"/").concat(e))},this.createRecord=function(e){return a.Z.post(n.endPoint,e)},this.updateRecord=function(e,t){return a.Z.patch("".concat(n.endPoint,"/").concat(t),e)}}))},39792:function(e,n,t){t.d(n,{p:function(){return r}});var o=t(43144),i=t(15671),a=t(49075),r=(0,o.Z)((function e(){var n=this;(0,i.Z)(this,e),this.endPoint="branding-theme",this.getAllRecords=function(e){return a.Z.get(n.endPoint,{params:e})},this.getRecordById=function(e){return a.Z.get("".concat(n.endPoint,"/").concat(e))},this.deleteRecord=function(e){return a.Z.delete("".concat(n.endPoint,"/").concat(e))},this.createRecord=function(e){return a.Z.post(n.endPoint,e)},this.updateRecord=function(e,t){return a.Z.patch("".concat(n.endPoint,"/").concat(t),e)}}))},48297:function(e,n,t){t.d(n,{V:function(){return r}});var o=t(43144),i=t(15671),a=t(49075),r=(0,o.Z)((function e(){var n=this;(0,i.Z)(this,e),this.endPoint="client",this.getAllRecords=function(e){return a.Z.get(n.endPoint,{params:e})},this.getRecordById=function(e){return a.Z.get("".concat(n.endPoint,"/").concat(e))},this.findPublished=function(e){return a.Z.get("".concat(n.endPoint,"/find-published"),{params:e})},this.deleteRecord=function(e){return a.Z.delete("".concat(n.endPoint,"/").concat(e))},this.createRecord=function(e){return a.Z.post(n.endPoint,e)},this.updateRecord=function(e,t){return a.Z.patch("".concat(n.endPoint,"/").concat(t),e)}}))},76997:function(e,n,t){t.d(n,{s:function(){return r}});var o=t(43144),i=t(15671),a=t(49075),r=(0,o.Z)((function e(){var n=this;(0,i.Z)(this,e),this.endPoint="product",this.getAllRecords=function(e){return a.Z.get(n.endPoint,{params:e})},this.findByCode=function(e){return a.Z.get("".concat(n.endPoint,"/find-by-product-code/").concat(e))},this.getRecordById=function(e){return a.Z.get("".concat(n.endPoint,"/").concat(e))},this.deleteRecord=function(e){return a.Z.delete("".concat(n.endPoint,"/").concat(e))},this.createRecord=function(e){return a.Z.post(n.endPoint,e)},this.updateRecord=function(e,t){return a.Z.patch("".concat(n.endPoint,"/").concat(t),e)}}))},42954:function(e,n,t){t.d(n,{K:function(){return d}});var o=t(43144),i=t(15671),a=t(49075),r=t(3135),d=(0,o.Z)((function e(){var n=this;(0,i.Z)(this,e),this.endPoint="quotation",this.getAllRecords=function(e){return a.Z.get(n.endPoint,{params:e})},this.getRecordById=function(e){return a.Z.get("".concat(n.endPoint,"/findOne/").concat(e))},this.createRecord=function(e){return a.Z.post(n.endPoint,e,{headers:r.C})},this.autoCreateFromApprovedQuotation=function(e){return a.Z.post("".concat(n.endPoint,"/autoCreateProjectFromApprovedQuotation/"),e)},this.updateRecord=function(e,t){return a.Z.patch("".concat(n.endPoint,"/updateOne/").concat(t),e)},this.submitQuotation=function(e){return a.Z.patch("".concat(n.endPoint,"/submitQuotation/").concat(e))},this.changeStatus=function(e,t){return a.Z.patch("".concat(n.endPoint,"/changeStatus/").concat(e),{status:t})},this.deleteRecord=function(e){return a.Z.delete("".concat(n.endPoint,"/remove/").concat(e))},this.completeMilestone=function(e){return a.Z.patch("".concat(n.endPoint,"/completeMilestone/").concat(e))},this.markAsSent=function(e){return a.Z.patch("".concat(n.endPoint,"/markAsSent/").concat(e))},this.prepareUniqueQuoteNumber=function(e){return a.Z.get("".concat(n.endPoint,"/prepareUniqueQuoteNumber"),{params:e})},this.checkForDuplicacy=function(e){return a.Z.get("".concat(n.endPoint,"/checkForDuplicacy"),{params:e})},this.quickUpdate=function(e,t){return a.Z.patch("".concat(n.endPoint,"/quickUpdate/").concat(e),t)}}))},75010:function(e,n,t){t.d(n,{L:function(){return r}});var o=t(43144),i=t(15671),a=t(49075),r=(0,o.Z)((function e(){var n=this;(0,i.Z)(this,e),this.endPoint="tax-rate",this.getAllRecords=function(e){return a.Z.get(n.endPoint,{params:e})},this.getRecordById=function(e){return a.Z.get("".concat(n.endPoint,"/").concat(e))},this.deleteRecord=function(e){return a.Z.delete("".concat(n.endPoint,"/").concat(e))},this.createRecord=function(e){return a.Z.post(n.endPoint,e)},this.updateRecord=function(e,t){return a.Z.patch("".concat(n.endPoint,"/").concat(t),e)}}))},95366:function(e,n,t){var o=t(87462),i=t(47313),a=t(95656),r=t(16141),d=function(e,n){return i.createElement(r.Z,(0,o.Z)({},e,{ref:n,icon:a.Z}))};n.Z=i.forwardRef(d)},37289:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(87462),i=t(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},r=t(16141),d=function(e,n){return i.createElement(r.Z,(0,o.Z)({},e,{ref:n,icon:a}))};var s=i.forwardRef(d)}}]);