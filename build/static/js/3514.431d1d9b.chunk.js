"use strict";(self.webpackChunkdat_projects=self.webpackChunkdat_projects||[]).push([[3514],{20627:function(e,t,n){n.r(t),n.d(t,{default:function(){return ne}});var i=n(29439),o=n(47313),s=n(2135),l=n(82626),r=n(32147),a="styles_dashboardBody__eoOU5",d="styles_overview__3HQXt",c="styles_card__4V6iJ",u="styles_cards__QVZ+i",v="styles_card_icon__KvCQc",h="styles_card_content__734mZ",f=n(54060),m=n(18960),p=n(46417),_=function(e){var t=e.title,n=e.subtitle,i=e.description,o=e.icon,s=e.lightSubtitle;return(0,p.jsxs)("div",{className:c,children:[(0,p.jsxs)("div",{className:h,children:[(0,p.jsx)(l.ZT,{color:"dark-main",size:"xxl",weight:"bold",children:"".concat(t)}),(0,p.jsx)(l.ZT,{color:s?"dark-sub":"dark-main",type:"h5",weight:"semi",className:"mt-4",children:n}),i&&(0,p.jsx)("div",{className:"font-size-xs color-dark-sub mb-0",children:i})]}),(0,p.jsx)("div",{className:v,children:o})]})},g=n(1413),j=n(6929),x=n(62892),y=n(29079),w=n(55560),b=n(47312),Z=n(8773),k=n(37388),T=n(39548),C=n(48897),N=n(37936),P=n(98505),S="styles_tabBar_header__lYdbm",E="styles_taskOverview__84ji9",R="styles_tasks__2XQws",z="styles_kanbanItem__G41Mc",B="styles_kanbanItemBottom__gKJ-p",M="styles_priorityPill__Tl0sD",q="styles_kanbanItemBottomBottom__mxmnZ",A="styles_taskEndOn__LYWp-",U=n(56033),I=function(e){var t=e.data,n=e.loading,s=e.onRefresh,r=(0,o.useState)({open:!1,id:0}),a=(0,i.Z)(r,2),d=a[0],c=a[1];return(0,p.jsxs)("div",{className:R,children:[n&&(0,p.jsx)(b.Z,{active:!0,paragraph:{rows:5}}),!n&&0===(null===t||void 0===t?void 0:t.length)&&(0,p.jsx)(l.I$,{description:"No tasks found",imageStyle:{height:200}}),!n&&(null===t||void 0===t?void 0:t.map((function(e,t){return(0,p.jsxs)("div",{className:z,onClick:function(){return c({open:!0,id:null===e||void 0===e?void 0:e.id})},children:[(0,p.jsx)("p",{className:"mb-0",children:null===e||void 0===e?void 0:e.title}),(0,p.jsxs)("div",{className:B,children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",gap:4},children:[(0,p.jsx)("div",{className:M,style:{backgroundColor:N.tt[e.priority].color},children:N.tt[e.priority].title}),(0,p.jsx)("p",{className:A,children:(0,P.Ny)((null===e||void 0===e?void 0:e.taskEndOn)||"","dd MM,yy")})]}),(0,p.jsx)("div",{className:q,children:(0,p.jsx)(Z.C.Group,{children:e.TaskMembers.map((function(e){return(0,p.jsx)(k.Z,{title:"".concat(e.User.firstName," ").concat(e.User.lastName),children:(0,p.jsx)(Z.C,{size:25,style:{border:"1px solid var(--color-light-200)"},src:C.lj+e.User.profile,icon:(0,p.jsx)(T.Z,{})})},e.User.uuid)}))})})]})]},"".concat(null===e||void 0===e?void 0:e.id,"-").concat(t))}))),d.open&&0!==d.id&&(0,p.jsx)(U.X,{openModal:d.open,onCancel:function(){return c({open:!1,id:0})},id:d.id,onUpdate:s})]})},L=function(){var e=(0,o.useState)("assigned_to_me"),t=(0,i.Z)(e,2),n=t[0],s=t[1],r=(0,o.useMemo)((function(){return new w.h}),[]),a=(0,y.$5)({method:r.getAllRecords,initialQuery:{type:"myTask"}}),d=a.data,c=a.onRefresh,u=a.loading,v=(0,o.useMemo)((function(){return function(){return c({type:"assigned_by_me"===n?"assignedTask":"myTask"})}}),[n,c]);return(0,p.jsx)(j.Z,{className:E,activeKey:n,onChange:function(e){var t=e;s(e),c({type:"assigned_by_me"===t?"assignedTask":"myTask"})},renderTabBar:function(e,t){return(0,p.jsxs)(x.Z,{offsetTop:0,offsetBottom:20,style:{zIndex:1},className:S,children:[(0,p.jsx)(l.ZT,{weight:"bold",color:"dark-main",size:"normal",className:"mr-8",children:"Tasks"}),(0,p.jsx)(t,(0,g.Z)((0,g.Z)({},e),{},{className:"mb-0"}))]})},items:[{label:"Assigned To Me",key:"assigned_to_me",children:(0,p.jsx)(I,{data:d,loading:u,onRefresh:v})},{label:"Assigned By Me",key:"assigned_by_me",children:(0,p.jsx)(I,{data:d,loading:u,onRefresh:v})}],style:{paddingBottom:"0.2rem"}})},H=n(34450),O="styles_active_projects__item__AvXyk",V="styles_delayed_projects__item__w7NgB",D="styles_active_projects__item__title__ZLqSJ",F="styles_active_projects__item__date__2XIka",Q="styles_delayed_projects__item__title__B3iRS",X="styles_delayed_projects__item__date__4hrCT",$=n(70816),Y=n.n($),G=n(66204),J=n(99223),K=function(e){var t=e.data,n=e.title,i=e.showStatus,o=e.link;return(0,p.jsx)("div",{style:{width:"calc(50% - 1rem)",display:"flex"},children:(0,p.jsx)(H.Z,{title:(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,p.jsx)(l.ZT,{weight:"bold",color:"dark-main",size:"sm",children:n}),o&&(0,p.jsx)("a",{href:o,children:(0,p.jsx)(J.Z,{})})]}),extra:"Deadline",style:{width:"100%"},children:null!==t&&void 0!==t&&t.length?null===t||void 0===t?void 0:t.map((function(e,t){return(0,p.jsxs)("a",{href:"/projects/".concat(e.slug,"?id=").concat(e.id),className:O,children:[(0,p.jsxs)("div",{className:D,children:[e.referenceNumber," | ",e.title," \xa0",(0,p.jsx)(k.Z,{title:e.ProjectState.title,children:i?(0,p.jsx)(G.Z,{style:{fontSize:"var(--font-size-xxs)",background:e.ProjectState.bgColor,color:e.ProjectState.textColor,border:"none",borderRadius:"1rem"},children:e.ProjectState.title.slice(0,15)}):null})]}),(0,p.jsx)("div",{className:F,children:Y()(e.endDate).fromNow()})]},"active_projects__item-".concat(t))})):(0,p.jsx)(l.I$,{description:"No ".concat(n," Found")})})})},W=function(e){var t=e.data;return(0,p.jsx)("div",{style:{width:"calc(50% - 1rem)",display:"flex"},children:(0,p.jsx)(H.Z,{title:(0,p.jsx)(l.ZT,{weight:"bold",color:"dark-main",size:"normal",children:"Delayed Projects"}),extra:"Delayed By",style:{width:"100%"},children:null!==t&&void 0!==t&&t.length?null===t||void 0===t?void 0:t.map((function(e,t){return(0,p.jsxs)("a",{href:"/projects/".concat(e.slug,"?id=").concat(e.id),target:"_blank",className:V,children:[(0,p.jsx)("div",{className:Q,children:e.title}),(0,p.jsxs)("div",{className:X,children:[Y()(new Date).diff(e.endDate,"days")," days"]})]},"delayed_projects__item-".concat(t))})):(0,p.jsx)(l.I$,{description:"No projects found"})})})},ee=n(9985),te=n(49355),ne=function(){var e=(0,o.useState)([]),t=(0,i.Z)(e,2),n=t[0],c=t[1],v=(0,o.useMemo)((function(){return new ee.o}),[]),h=(0,y.$5)({method:v.getDashboardContent}),g=h.data,j=h.loading,x=(0,o.useState)([]),w=(0,i.Z)(x,2),b=w[0],Z=w[1];return(0,o.useEffect)((function(){var e,t,n,i,o,l,a,d,c,u,v,h,f,x,y,w,b,k,T,C,N,P,S,E,R,z,B,M,q,A,U,I,H,O,V,D,F,Q,X,$;!j&&null!==g&&void 0!==g&&g.content&&Z([{slug:"pending_project_as_project_incharge",element:(0,p.jsx)(s.rU,{to:"/projects",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(e=g.content.pending_project_as_project_incharge)||void 0===e?void 0:e.data)||0,subtitle:"Pending Project InCharge",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})},{slug:"pending_project_as_support_engineer",element:(0,p.jsx)(s.rU,{to:"/projects",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(t=g.content)||void 0===t||null===(n=t.pending_project_as_support_engineer)||void 0===n?void 0:n.data)||0,subtitle:"Pending Project As Support Engineer",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})},{slug:"pending_project_as_support_engineer",element:(0,p.jsx)(s.rU,{to:"/tasks",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(i=g.content.pending_project_as_support_engineer)||void 0===i?void 0:i.data)||0,subtitle:"Pending Task Assigned To Me",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})},{slug:"notification",element:(0,p.jsx)(m.Z,{dropdown:!1,fetch:!0})},{slug:"all_tasks",element:(0,p.jsx)(L,{})},{slug:"active_projects",element:(0,p.jsx)(K,{link:"/projects?all=true",showStatus:!0,title:"Active Projects",data:null===g||void 0===g||null===(o=g.content)||void 0===o||null===(l=o.active_projects)||void 0===l?void 0:l.data})},{slug:"delayed_projects",element:(0,p.jsx)(W,{data:null===g||void 0===g||null===(a=g.content)||void 0===a||null===(d=a.delayed_projects)||void 0===d?void 0:d.data})},{slug:"close_out_projects",element:(0,p.jsx)(K,{link:"/projects?isClosed=true",title:"Closed Out Projects",data:null===g||void 0===g||null===(c=g.content)||void 0===c||null===(u=c.close_out_projects)||void 0===u?void 0:u.data})},{slug:"on_hold_projects",element:(0,p.jsx)(K,{link:"/projects?onHold=true",showStatus:!0,title:"On Hold Projects",data:null===g||void 0===g||null===(v=g.content)||void 0===v||null===(h=v.on_hold_projects)||void 0===h?void 0:h.data})},{slug:"ready_for_submission",element:(0,p.jsx)(K,{title:"Ready For Submission Projects",data:null===g||void 0===g||null===(f=g.content)||void 0===f||null===(x=f.ready_for_submission)||void 0===x?void 0:x.data})},{slug:"new_project",element:(0,p.jsx)(K,{link:"/projects",title:"New Projects",data:null===g||void 0===g||null===(y=g.content)||void 0===y||null===(w=y.new_project)||void 0===w?void 0:w.data})},{slug:"approved_projects",element:(0,p.jsx)(K,{link:"/projects?isClosed=false",title:"Approved Projects",data:null===g||void 0===g||null===(b=g.content)||void 0===b||null===(k=b.approved_projects)||void 0===k?void 0:k.data})},{slug:"active_employees",element:(0,p.jsx)(s.rU,{to:"/employees",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(T=g.content)||void 0===T||null===(C=T.active_employees)||void 0===C?void 0:C.data)||0,subtitle:"Active Employees",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})},{slug:"closed_projects",element:(0,p.jsx)(K,{title:"Closed Projects",data:null===g||void 0===g||null===(N=g.content)||void 0===N||null===(P=N.closed_projects)||void 0===P?void 0:P.data})},{slug:"active_quotations",element:(0,p.jsx)(s.rU,{to:"/quotations",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(S=g.content)||void 0===S||null===(E=S.active_quotations)||void 0===E?void 0:E.data)||0,subtitle:"Active Quotations",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})},{slug:"pending_invoices",element:(0,p.jsx)(s.rU,{to:"/invoice",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(R=g.content)||void 0===R||null===(z=R.pending_invoices)||void 0===z?void 0:z.data)||0,subtitle:"Pending Invoices",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})},{slug:"active_enquiries",element:(0,p.jsx)(s.rU,{to:"/enquiries",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(B=g.content)||void 0===B||null===(M=B.active_enquiries)||void 0===M?void 0:M.data)||0,subtitle:"Active Enquiries",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})},{slug:"active_leads",element:(0,p.jsx)(s.rU,{to:"/leads",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(q=g.content)||void 0===q||null===(A=q.active_leads)||void 0===A?void 0:A.data)||0,subtitle:"Active Leads",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})},{slug:"active_reimbursement",element:(0,p.jsx)(s.rU,{to:"/employee-requests/reimbursement-requests",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(U=g.content)||void 0===U||null===(I=U.active_reimbursement)||void 0===I?void 0:I.data)||0,subtitle:"Active Reimbursements",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})},{slug:"active_leave_request",element:(0,p.jsx)(s.rU,{to:"/employee-requests/leave-requests",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(H=g.content)||void 0===H||null===(O=H.active_leave_request)||void 0===O?void 0:O.data)||0,subtitle:"Active Leave Requests",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})},{slug:"active_cash_advance_request",element:(0,p.jsx)(s.rU,{to:"/employee-requests/cash-advance-requests",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(V=g.content)||void 0===V||null===(D=V.active_cash_advance_request)||void 0===D?void 0:D.data)||0,subtitle:"Active Cash Advance Requests",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})},{slug:"permits_expiring",element:(0,p.jsx)(s.rU,{to:"/permits",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(F=g.content)||void 0===F||null===(Q=F.permits_expiring)||void 0===Q?void 0:Q.data)||0,subtitle:"Expiring Permits",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})},{slug:"government_fees_to_collect",element:(0,p.jsx)(s.rU,{to:"/transactions",style:{width:"calc(25% - 1rem)"},children:(0,p.jsx)(_,{title:(null===g||void 0===g||null===(X=g.content)||void 0===X||null===($=X.government_fees_to_collect)||void 0===$?void 0:$.data)||0,subtitle:"Government Fees To Collect",icon:(0,p.jsx)(r.u6,{width:50,height:50})})})}])}),[g]),(0,o.useEffect)((function(){if((null===n||void 0===n||!n.length)&&b.length){var e,t=(null===g||void 0===g||null===(e=g.elements)||void 0===e?void 0:e.map((function(e){var t;return{element:null===(t=b.find((function(t){return t.slug===e})))||void 0===t?void 0:t.element}})))||[];c(t)}}),[b,n,g]),(0,p.jsxs)(f.Z,{className:a,children:[(0,p.jsx)(l.ZT,{color:"dark-main",size:"lg",weight:"semi",className:"ml-4 mb-4",children:"Overview"}),(0,p.jsx)("div",{className:d,children:j?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{background:"#fafafa",padding:10},children:(0,p.jsx)(te.Z,{items:4,span:6})}),(0,p.jsx)("div",{style:{background:"#fafafa",padding:10,marginTop:20},children:(0,p.jsx)(te.Z,{items:2,span:12,paragraph:{rows:8}})}),(0,p.jsx)("div",{style:{background:"#fafafa",padding:10,marginTop:20},children:(0,p.jsx)(te.Z,{items:4,span:6})})]}):(0,p.jsx)("div",{className:u,children:n.map((function(e,t){return(0,p.jsx)(o.Fragment,{children:e.element},"dashboard-element-".concat(t))}))})})]})}},9985:function(e,t,n){n.d(t,{o:function(){return l}});var i=n(43144),o=n(15671),s=n(49075),l=(0,i.Z)((function e(){var t=this;(0,o.Z)(this,e),this.endPoint="dashboard-elements",this.getAllRecords=function(e){return s.Z.get(t.endPoint,{params:e})},this.getDashboardContent=function(){return s.Z.get(t.endPoint+"/get-dashboard-content")},this.getRecordById=function(e){return s.Z.get(s._+t.endPoint+"/"+e)},this.deleteRecord=function(e){return s.Z.delete(s._+t.endPoint+"/"+e)},this.createRecord=function(e){return s.Z.post(s._+t.endPoint,e)},this.updateRecord=function(e,n){return s.Z.patch(s._+t.endPoint+"/"+n,e)}}))},15275:function(e,t,n){var i=n(87462),o=n(47313),s=n(43630),l=n(16141),r=function(e,t){return o.createElement(l.Z,(0,i.Z)({},e,{ref:t,icon:s.Z}))};t.Z=o.forwardRef(r)},44391:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(87462),o=n(47313),s={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z",fill:e}},{tag:"path",attrs:{d:"M372.5 256H184v512h656V370.4H492.1z",fill:t}}]}},name:"folder",theme:"twotone"},l=n(16141),r=function(e,t){return o.createElement(l.Z,(0,i.Z)({},e,{ref:t,icon:s}))};var a=o.forwardRef(r)},92466:function(e,t,n){var i=n(87462),o=n(47313),s=n(15433),l=n(16141),r=function(e,t){return o.createElement(l.Z,(0,i.Z)({},e,{ref:t,icon:s.Z}))};t.Z=o.forwardRef(r)},98769:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(87462),o=n(47313),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},l=n(16141),r=function(e,t){return o.createElement(l.Z,(0,i.Z)({},e,{ref:t,icon:s}))};var a=o.forwardRef(r)},86146:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(87462),o=n(47313),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M713.5 599.9c-10.9-5.6-65.2-32.2-75.3-35.8-10.1-3.8-17.5-5.6-24.8 5.6-7.4 11.1-28.4 35.8-35 43.3-6.4 7.4-12.9 8.3-23.8 2.8-64.8-32.4-107.3-57.8-150-131.1-11.3-19.5 11.3-18.1 32.4-60.2 3.6-7.4 1.8-13.7-1-19.3-2.8-5.6-24.8-59.8-34-81.9-8.9-21.5-18.1-18.5-24.8-18.9-6.4-.4-13.7-.4-21.1-.4-7.4 0-19.3 2.8-29.4 13.7-10.1 11.1-38.6 37.8-38.6 92s39.5 106.7 44.9 114.1c5.6 7.4 77.7 118.6 188.4 166.5 70 30.2 97.4 32.8 132.4 27.6 21.3-3.2 65.2-26.6 74.3-52.5 9.1-25.8 9.1-47.9 6.4-52.5-2.7-4.9-10.1-7.7-21-13z"}},{tag:"path",attrs:{d:"M925.2 338.4c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"whats-app",theme:"outlined"},l=n(16141),r=function(e,t){return o.createElement(l.Z,(0,i.Z)({},e,{ref:t,icon:s}))};var a=o.forwardRef(r)},62892:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(29439),o=n(47313),s=n(46417),l=function(e){return!e.firstChild||e.firstChild.offsetParent===e},r=function(e,t){var n=e,i=0;l(t)||(i+=e.offsetTop-t.offsetTop,t=e.offsetParent,i+=-e.offsetTop);do{i+=n.offsetTop,n=n.offsetParent}while(n&&n!==t);return i},a=null;"undefined"!==typeof CSS&&CSS.supports&&(CSS.supports("position","sticky")?a="sticky":CSS.supports("position","-webkit-sticky")&&(a="-webkit-sticky"));var d=!1;try{var c=Object.defineProperty({},"passive",{get:function(){d={passive:!0}}}),u=function(){};window.addEventListener("testPassive",u,c),window.removeEventListener("testPassive",u,c)}catch(m){}var v=function(e){var t=e.el,n=e.onChange,i=e.unsubs,o=e.measure;if(t===window){var s=function(){return{top:0,left:0,height:window.innerHeight,width:window.innerWidth}},l=o(s()),r=function(){Object.assign(l,o(s())),n()};return window.addEventListener("resize",r,d),i.push((function(){return window.removeEventListener("resize",r)})),l}var a=o(t.getBoundingClientRect()),c=new ResizeObserver((function(){Object.assign(a,o(t.getBoundingClientRect())),n()}));return c.observe(t),i.push((function(){return c.disconnect()})),a},h=function(e,t,n){var i=n.bottom,o=n.offsetBottom,s=n.offsetTop,c=function(e){for(var t=e;t=t.parentElement;){var n=getComputedStyle(t,null).getPropertyValue("overflow-y");if(t===document.body)return window;if("auto"===n||"scroll"===n||"overlay"===n)return t}return window}(e),u=!1,h=function(){u||requestAnimationFrame((function(){var e=p();e!==Z&&k(e),u=!1})),u=!0},f=c===window?window.scrollY:c.scrollTop,m=function(e){return e+g.offsetTop+g.height>=y.naturalTop+w.height+b+o},p=function(){var e=g.height;return w.height+s+o<=e?3:m(f)?1:2},_=c!==window&&l(c),g=v({el:c,onChange:h,unsubs:t,measure:function(e){var t=e.height,n=e.top;return{height:t,offsetTop:_?n:0}}}),j=function(e){for(var t=e.parentElement;t&&"contents"===getComputedStyle(t,null).getPropertyValue("display");)t=t.parentElement;return t||window}(e),x=j===window?{top:0,bottom:0}:function(e){var t=getComputedStyle(e,null);return{top:parseInt(t.getPropertyValue("padding-top"),10),bottom:parseInt(t.getPropertyValue("padding-bottom"),10)}}(j),y=v({el:j,onChange:h,unsubs:t,measure:function(e){return{height:e.height-x.top-x.bottom,naturalTop:j===window?0:r(j,c)+x.top+g.offsetTop}}}),w=v({el:e,onChange:h,unsubs:t,measure:function(e){return{height:e.height}}}),b=0,Z=p(),k=function(t){var n=Z;if(Z=t,2===n&&(b=-1),3===t)return e.style.position=a,void(i?e.style.bottom="".concat(o,"px"):e.style.top="".concat(s,"px"));var l=g.height,r=g.offsetTop,d=y.height,c=y.naturalTop,u=w.height;if(2===t)if(e.style.position="relative",b=0===n?Math.max(0,r+f-c+s):Math.max(0,r+f+l-(c+u+o)),i){var v=Math.max(0,d-u-b);e.style.bottom="".concat(v,"px")}else e.style.top="".concat(b,"px");else e.style.position=a,1===t?i?e.style.bottom="".concat(o,"px"):e.style.top="".concat(l-u-o,"px"):i?e.style.bottom="".concat(l-u-o,"px"):e.style.top="".concat(s,"px")};k(Z);var T=function(e){if(e!==f){var t=e-f;if(f=e,3!==Z){var n=g.offsetTop,i=g.height,l=y.naturalTop,r=y.height,a=w.height;if(t>0)if(0===Z){if(e+n+s>l){var d=Math.max(0,n+f-l+s);k(e+n+i<=l+a+d+o?2:1)}}else 2===Z&&m(e)&&k(1);else if(1===Z){if(n+e+i<l+r+o){var c=Math.max(0,n+f+i-(l+a+o));k(n+e+s>=l+c?2:0)}}else 2===Z&&n+e+s<l+b&&k(0)}}},C=c===window?function(){return T(window.scrollY)}:function(){return T(c.scrollTop)};c.addEventListener("scroll",C,d),c.addEventListener("mousewheel",C,d),t.push((function(){return c.removeEventListener("scroll",C)}),(function(){return c.removeEventListener("mousewheel",C)}))},f=function(e){var t=e.offsetTop,n=e.offsetBottom,l=e.bottom,r=e.children,d=e.className,c=e.style,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.offsetTop,n=void 0===t?0:t,s=e.offsetBottom,l=void 0===s?0:s,r=e.bottom,d=void 0!==r&&r,c=(0,o.useState)(null),u=(0,i.Z)(c,2),v=u[0],f=u[1];return(0,o.useEffect)((function(){if(v&&a){var e=[];return h(v,e,{offsetBottom:l,offsetTop:n,bottom:d}),function(){e.forEach((function(e){return e()}))}}}),[v,l,n,d]),f}({offsetTop:t,offsetBottom:n,bottom:l});return(0,s.jsx)("div",{className:d,style:c,ref:u,children:r})}}}]);