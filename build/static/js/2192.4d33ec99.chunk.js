"use strict";(self.webpackChunkdat_projects=self.webpackChunkdat_projects||[]).push([[2192],{12192:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var i=n(1413),a=n(29439),o=n(47313),s=n(86136),d=n(25019),r=n(55291),u=n(7532),l=n(82626),c=n(43144),p=n(15671),h=n(49075),f=(0,c.Z)((function e(){var t=this;(0,p.Z)(this,e),this.endpoint="resources",this.getAllRecords=function(){return h.Z.get("".concat(t.endpoint,"/read-sitemap"))},this.updateRecord=function(e){return(0,h.Z)({url:"".concat(t.endpoint,"/update-sitemap"),method:"PATCH",data:e,headers:{"Content-Type":"application/json"}})}})),v=n(46417),m=s.Z.TextArea,Z=[{text:"Home",isLink:!0,path:"/"},{isLink:!0,text:"Site Settings",path:"/siteSettings"},{isLink:!1,text:"Site Map"}];var g=function(){var e=new f,t=d.Z.useForm(),n=(0,a.Z)(t,1)[0],s=(0,o.useState)({isLoading:!1,error:{},data:[]}),c=(0,a.Z)(s,2),p=c[0],h=c[1],g=(0,o.useCallback)((function(){h((0,i.Z)((0,i.Z)({},p),{},{loading:!0})),e.getAllRecords().then((function(e){var t;h(e.data),n.setFieldsValue({data:null===(t=e.data)||void 0===t?void 0:t.data})})).catch((function(e){var t,n,i=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Something went wrong";r.ZP.error(i)}))}),[e]);return(0,o.useEffect)((function(){g()}),[]),(0,v.jsxs)(u.default,{children:[(0,v.jsx)(l.mr,{heading:"Site Map",breadCrumbData:Z}),(0,v.jsx)("div",{children:(0,v.jsxs)(d.Z,{onFinish:function(t){h((0,i.Z)((0,i.Z)({},p),{},{buttonLoading:!0})),e.updateRecord(t).then((function(e){h((0,i.Z)((0,i.Z)({},p),{},{buttonLoading:!1})),r.ZP.success("Site Map updated successfully")})).catch((function(e){var t,n,a=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Something went wrong";r.ZP.error(a),h((0,i.Z)((0,i.Z)({},p),{},{buttonLoading:!1}))}))},form:n,children:[(0,v.jsx)(d.Z.Item,{name:"data",rules:[{required:!0,message:"Please input Site Map!"}],children:(0,v.jsx)(m,{rows:30,placeholder:"Paste Site Map here......"})}),(0,v.jsx)("div",{className:"mt-5 d-flex justify-end",children:(0,v.jsx)(l.op,{type:"primary",fontSize:"sm",htmlType:"submit",loading:null===p||void 0===p?void 0:p.buttonLoading,children:"Save"})})]})})]})}}}]);